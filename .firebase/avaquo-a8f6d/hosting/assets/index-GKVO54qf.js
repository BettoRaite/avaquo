var EP=Object.defineProperty;var TP=(t,e,n)=>e in t?EP(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var SP=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var s0=(t,e,n)=>TP(t,typeof e!="symbol"?e+"":e,n);var T7=SP((Mn,Vn)=>{function sy(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var eu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function af(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var v1={exports:{}},lf={},_1={exports:{}},Le={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fc=Symbol.for("react.element"),IP=Symbol.for("react.portal"),RP=Symbol.for("react.fragment"),AP=Symbol.for("react.strict_mode"),bP=Symbol.for("react.profiler"),CP=Symbol.for("react.provider"),PP=Symbol.for("react.context"),xP=Symbol.for("react.forward_ref"),kP=Symbol.for("react.suspense"),OP=Symbol.for("react.memo"),NP=Symbol.for("react.lazy"),o0=Symbol.iterator;function DP(t){return t===null||typeof t!="object"?null:(t=o0&&t[o0]||t["@@iterator"],typeof t=="function"?t:null)}var w1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E1=Object.assign,T1={};function Ya(t,e,n){this.props=t,this.context=e,this.refs=T1,this.updater=n||w1}Ya.prototype.isReactComponent={};Ya.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Ya.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function S1(){}S1.prototype=Ya.prototype;function oy(t,e,n){this.props=t,this.context=e,this.refs=T1,this.updater=n||w1}var ay=oy.prototype=new S1;ay.constructor=oy;E1(ay,Ya.prototype);ay.isPureReactComponent=!0;var a0=Array.isArray,I1=Object.prototype.hasOwnProperty,ly={current:null},R1={key:!0,ref:!0,__self:!0,__source:!0};function A1(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)I1.call(e,r)&&!R1.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:fc,type:t,key:s,ref:o,props:i,_owner:ly.current}}function LP(t,e){return{$$typeof:fc,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function uy(t){return typeof t=="object"&&t!==null&&t.$$typeof===fc}function MP(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var l0=/\/+/g;function vp(t,e){return typeof t=="object"&&t!==null&&t.key!=null?MP(""+t.key):e.toString(36)}function Cd(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case fc:case IP:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+vp(o,0):r,a0(i)?(n="",t!=null&&(n=t.replace(l0,"$&/")+"/"),Cd(i,e,n,"",function(c){return c})):i!=null&&(uy(i)&&(i=LP(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(l0,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",a0(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+vp(s,a);o+=Cd(s,e,n,l,i)}else if(l=DP(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+vp(s,a++),o+=Cd(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function ed(t,e,n){if(t==null)return t;var r=[],i=0;return Cd(t,r,"","",function(s){return e.call(n,s,i++)}),r}function VP(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var vn={current:null},Pd={transition:null},jP={ReactCurrentDispatcher:vn,ReactCurrentBatchConfig:Pd,ReactCurrentOwner:ly};function b1(){throw Error("act(...) is not supported in production builds of React.")}Le.Children={map:ed,forEach:function(t,e,n){ed(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return ed(t,function(){e++}),e},toArray:function(t){return ed(t,function(e){return e})||[]},only:function(t){if(!uy(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Le.Component=Ya;Le.Fragment=RP;Le.Profiler=bP;Le.PureComponent=oy;Le.StrictMode=AP;Le.Suspense=kP;Le.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=jP;Le.act=b1;Le.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=E1({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=ly.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)I1.call(e,l)&&!R1.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:fc,type:t.type,key:i,ref:s,props:r,_owner:o}};Le.createContext=function(t){return t={$$typeof:PP,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:CP,_context:t},t.Consumer=t};Le.createElement=A1;Le.createFactory=function(t){var e=A1.bind(null,t);return e.type=t,e};Le.createRef=function(){return{current:null}};Le.forwardRef=function(t){return{$$typeof:xP,render:t}};Le.isValidElement=uy;Le.lazy=function(t){return{$$typeof:NP,_payload:{_status:-1,_result:t},_init:VP}};Le.memo=function(t,e){return{$$typeof:OP,type:t,compare:e===void 0?null:e}};Le.startTransition=function(t){var e=Pd.transition;Pd.transition={};try{t()}finally{Pd.transition=e}};Le.unstable_act=b1;Le.useCallback=function(t,e){return vn.current.useCallback(t,e)};Le.useContext=function(t){return vn.current.useContext(t)};Le.useDebugValue=function(){};Le.useDeferredValue=function(t){return vn.current.useDeferredValue(t)};Le.useEffect=function(t,e){return vn.current.useEffect(t,e)};Le.useId=function(){return vn.current.useId()};Le.useImperativeHandle=function(t,e,n){return vn.current.useImperativeHandle(t,e,n)};Le.useInsertionEffect=function(t,e){return vn.current.useInsertionEffect(t,e)};Le.useLayoutEffect=function(t,e){return vn.current.useLayoutEffect(t,e)};Le.useMemo=function(t,e){return vn.current.useMemo(t,e)};Le.useReducer=function(t,e,n){return vn.current.useReducer(t,e,n)};Le.useRef=function(t){return vn.current.useRef(t)};Le.useState=function(t){return vn.current.useState(t)};Le.useSyncExternalStore=function(t,e,n){return vn.current.useSyncExternalStore(t,e,n)};Le.useTransition=function(){return vn.current.useTransition()};Le.version="18.3.1";_1.exports=Le;var N=_1.exports;const Yi=af(N),FP=sy({__proto__:null,default:Yi},[N]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var UP=N,$P=Symbol.for("react.element"),BP=Symbol.for("react.fragment"),zP=Object.prototype.hasOwnProperty,HP=UP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,qP={key:!0,ref:!0,__self:!0,__source:!0};function C1(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)zP.call(e,r)&&!qP.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:$P,type:t,key:s,ref:o,props:i,_owner:HP.current}}lf.Fragment=BP;lf.jsx=C1;lf.jsxs=C1;v1.exports=lf;var V=v1.exports,P1={exports:{}},$n={},x1={exports:{}},k1={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(H,G){var Y=H.length;H.push(G);e:for(;0<Y;){var xe=Y-1>>>1,Pe=H[xe];if(0<i(Pe,G))H[xe]=G,H[Y]=Pe,Y=xe;else break e}}function n(H){return H.length===0?null:H[0]}function r(H){if(H.length===0)return null;var G=H[0],Y=H.pop();if(Y!==G){H[0]=Y;e:for(var xe=0,Pe=H.length,Se=Pe>>>1;xe<Se;){var rt=2*(xe+1)-1,vt=H[rt],_t=rt+1,Tt=H[_t];if(0>i(vt,Y))_t<Pe&&0>i(Tt,vt)?(H[xe]=Tt,H[_t]=Y,xe=_t):(H[xe]=vt,H[rt]=Y,xe=rt);else if(_t<Pe&&0>i(Tt,Y))H[xe]=Tt,H[_t]=Y,xe=_t;else break e}}return G}function i(H,G){var Y=H.sortIndex-G.sortIndex;return Y!==0?Y:H.id-G.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],d=1,f=null,p=3,y=!1,w=!1,E=!1,A=typeof setTimeout=="function"?setTimeout:null,I=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(H){for(var G=n(c);G!==null;){if(G.callback===null)r(c);else if(G.startTime<=H)r(c),G.sortIndex=G.expirationTime,e(l,G);else break;G=n(c)}}function D(H){if(E=!1,b(H),!w)if(n(l)!==null)w=!0,K($);else{var G=n(c);G!==null&&de(D,G.startTime-H)}}function $(H,G){w=!1,E&&(E=!1,I(g),g=-1),y=!0;var Y=p;try{for(b(G),f=n(l);f!==null&&(!(f.expirationTime>G)||H&&!P());){var xe=f.callback;if(typeof xe=="function"){f.callback=null,p=f.priorityLevel;var Pe=xe(f.expirationTime<=G);G=t.unstable_now(),typeof Pe=="function"?f.callback=Pe:f===n(l)&&r(l),b(G)}else r(l);f=n(l)}if(f!==null)var Se=!0;else{var rt=n(c);rt!==null&&de(D,rt.startTime-G),Se=!1}return Se}finally{f=null,p=Y,y=!1}}var j=!1,T=null,g=-1,S=5,R=-1;function P(){return!(t.unstable_now()-R<S)}function k(){if(T!==null){var H=t.unstable_now();R=H;var G=!0;try{G=T(!0,H)}finally{G?C():(j=!1,T=null)}}else j=!1}var C;if(typeof v=="function")C=function(){v(k)};else if(typeof MessageChannel<"u"){var Ee=new MessageChannel,M=Ee.port2;Ee.port1.onmessage=k,C=function(){M.postMessage(null)}}else C=function(){A(k,0)};function K(H){T=H,j||(j=!0,C())}function de(H,G){g=A(function(){H(t.unstable_now())},G)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(H){H.callback=null},t.unstable_continueExecution=function(){w||y||(w=!0,K($))},t.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<H?Math.floor(1e3/H):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(H){switch(p){case 1:case 2:case 3:var G=3;break;default:G=p}var Y=p;p=G;try{return H()}finally{p=Y}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(H,G){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var Y=p;p=H;try{return G()}finally{p=Y}},t.unstable_scheduleCallback=function(H,G,Y){var xe=t.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?xe+Y:xe):Y=xe,H){case 1:var Pe=-1;break;case 2:Pe=250;break;case 5:Pe=1073741823;break;case 4:Pe=1e4;break;default:Pe=5e3}return Pe=Y+Pe,H={id:d++,callback:G,priorityLevel:H,startTime:Y,expirationTime:Pe,sortIndex:-1},Y>xe?(H.sortIndex=Y,e(c,H),n(l)===null&&H===n(c)&&(E?(I(g),g=-1):E=!0,de(D,Y-xe))):(H.sortIndex=Pe,e(l,H),w||y||(w=!0,K($))),H},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(H){var G=p;return function(){var Y=p;p=G;try{return H.apply(this,arguments)}finally{p=Y}}}})(k1);x1.exports=k1;var WP=x1.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var KP=N,Un=WP;function Z(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var O1=new Set,vu={};function xo(t,e){ka(t,e),ka(t+"Capture",e)}function ka(t,e){for(vu[t]=e,t=0;t<e.length;t++)O1.add(e[t])}var pi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),vm=Object.prototype.hasOwnProperty,GP=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,u0={},c0={};function QP(t){return vm.call(c0,t)?!0:vm.call(u0,t)?!1:GP.test(t)?c0[t]=!0:(u0[t]=!0,!1)}function ZP(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function JP(t,e,n,r){if(e===null||typeof e>"u"||ZP(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function _n(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Gt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Gt[t]=new _n(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Gt[e]=new _n(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Gt[t]=new _n(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Gt[t]=new _n(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Gt[t]=new _n(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Gt[t]=new _n(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Gt[t]=new _n(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Gt[t]=new _n(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Gt[t]=new _n(t,5,!1,t.toLowerCase(),null,!1,!1)});var cy=/[\-:]([a-z])/g;function dy(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(cy,dy);Gt[e]=new _n(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(cy,dy);Gt[e]=new _n(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(cy,dy);Gt[e]=new _n(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Gt[t]=new _n(t,1,!1,t.toLowerCase(),null,!1,!1)});Gt.xlinkHref=new _n("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Gt[t]=new _n(t,1,!1,t.toLowerCase(),null,!0,!0)});function hy(t,e,n,r){var i=Gt.hasOwnProperty(e)?Gt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(JP(e,n,i,r)&&(n=null),r||i===null?QP(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Si=KP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,td=Symbol.for("react.element"),ia=Symbol.for("react.portal"),sa=Symbol.for("react.fragment"),fy=Symbol.for("react.strict_mode"),_m=Symbol.for("react.profiler"),N1=Symbol.for("react.provider"),D1=Symbol.for("react.context"),py=Symbol.for("react.forward_ref"),wm=Symbol.for("react.suspense"),Em=Symbol.for("react.suspense_list"),my=Symbol.for("react.memo"),Fi=Symbol.for("react.lazy"),L1=Symbol.for("react.offscreen"),d0=Symbol.iterator;function Il(t){return t===null||typeof t!="object"?null:(t=d0&&t[d0]||t["@@iterator"],typeof t=="function"?t:null)}var gt=Object.assign,_p;function $l(t){if(_p===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);_p=e&&e[1]||""}return`
`+_p+t}var wp=!1;function Ep(t,e){if(!t||wp)return"";wp=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{wp=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?$l(t):""}function YP(t){switch(t.tag){case 5:return $l(t.type);case 16:return $l("Lazy");case 13:return $l("Suspense");case 19:return $l("SuspenseList");case 0:case 2:case 15:return t=Ep(t.type,!1),t;case 11:return t=Ep(t.type.render,!1),t;case 1:return t=Ep(t.type,!0),t;default:return""}}function Tm(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case sa:return"Fragment";case ia:return"Portal";case _m:return"Profiler";case fy:return"StrictMode";case wm:return"Suspense";case Em:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case D1:return(t.displayName||"Context")+".Consumer";case N1:return(t._context.displayName||"Context")+".Provider";case py:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case my:return e=t.displayName||null,e!==null?e:Tm(t.type)||"Memo";case Fi:e=t._payload,t=t._init;try{return Tm(t(e))}catch{}}return null}function XP(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Tm(e);case 8:return e===fy?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ds(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function M1(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function ex(t){var e=M1(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function nd(t){t._valueTracker||(t._valueTracker=ex(t))}function V1(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=M1(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Yd(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Sm(t,e){var n=e.checked;return gt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function h0(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=ds(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function j1(t,e){e=e.checked,e!=null&&hy(t,"checked",e,!1)}function Im(t,e){j1(t,e);var n=ds(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Rm(t,e.type,n):e.hasOwnProperty("defaultValue")&&Rm(t,e.type,ds(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function f0(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Rm(t,e,n){(e!=="number"||Yd(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Bl=Array.isArray;function _a(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+ds(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Am(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Z(91));return gt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function p0(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(Z(92));if(Bl(n)){if(1<n.length)throw Error(Z(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:ds(n)}}function F1(t,e){var n=ds(e.value),r=ds(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function m0(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function U1(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function bm(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?U1(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var rd,$1=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(rd=rd||document.createElement("div"),rd.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=rd.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function _u(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var tu={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},tx=["Webkit","ms","Moz","O"];Object.keys(tu).forEach(function(t){tx.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),tu[e]=tu[t]})});function B1(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||tu.hasOwnProperty(t)&&tu[t]?(""+e).trim():e+"px"}function z1(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=B1(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var nx=gt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Cm(t,e){if(e){if(nx[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Z(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Z(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Z(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Z(62))}}function Pm(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xm=null;function gy(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var km=null,wa=null,Ea=null;function g0(t){if(t=gc(t)){if(typeof km!="function")throw Error(Z(280));var e=t.stateNode;e&&(e=ff(e),km(t.stateNode,t.type,e))}}function H1(t){wa?Ea?Ea.push(t):Ea=[t]:wa=t}function q1(){if(wa){var t=wa,e=Ea;if(Ea=wa=null,g0(t),e)for(t=0;t<e.length;t++)g0(e[t])}}function W1(t,e){return t(e)}function K1(){}var Tp=!1;function G1(t,e,n){if(Tp)return t(e,n);Tp=!0;try{return W1(t,e,n)}finally{Tp=!1,(wa!==null||Ea!==null)&&(K1(),q1())}}function wu(t,e){var n=t.stateNode;if(n===null)return null;var r=ff(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(Z(231,e,typeof n));return n}var Om=!1;if(pi)try{var Rl={};Object.defineProperty(Rl,"passive",{get:function(){Om=!0}}),window.addEventListener("test",Rl,Rl),window.removeEventListener("test",Rl,Rl)}catch{Om=!1}function rx(t,e,n,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(d){this.onError(d)}}var nu=!1,Xd=null,eh=!1,Nm=null,ix={onError:function(t){nu=!0,Xd=t}};function sx(t,e,n,r,i,s,o,a,l){nu=!1,Xd=null,rx.apply(ix,arguments)}function ox(t,e,n,r,i,s,o,a,l){if(sx.apply(this,arguments),nu){if(nu){var c=Xd;nu=!1,Xd=null}else throw Error(Z(198));eh||(eh=!0,Nm=c)}}function ko(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Q1(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function y0(t){if(ko(t)!==t)throw Error(Z(188))}function ax(t){var e=t.alternate;if(!e){if(e=ko(t),e===null)throw Error(Z(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return y0(i),t;if(s===r)return y0(i),e;s=s.sibling}throw Error(Z(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(Z(189))}}if(n.alternate!==r)throw Error(Z(190))}if(n.tag!==3)throw Error(Z(188));return n.stateNode.current===n?t:e}function Z1(t){return t=ax(t),t!==null?J1(t):null}function J1(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=J1(t);if(e!==null)return e;t=t.sibling}return null}var Y1=Un.unstable_scheduleCallback,v0=Un.unstable_cancelCallback,lx=Un.unstable_shouldYield,ux=Un.unstable_requestPaint,Rt=Un.unstable_now,cx=Un.unstable_getCurrentPriorityLevel,yy=Un.unstable_ImmediatePriority,X1=Un.unstable_UserBlockingPriority,th=Un.unstable_NormalPriority,dx=Un.unstable_LowPriority,eS=Un.unstable_IdlePriority,uf=null,Lr=null;function hx(t){if(Lr&&typeof Lr.onCommitFiberRoot=="function")try{Lr.onCommitFiberRoot(uf,t,void 0,(t.current.flags&128)===128)}catch{}}var _r=Math.clz32?Math.clz32:mx,fx=Math.log,px=Math.LN2;function mx(t){return t>>>=0,t===0?32:31-(fx(t)/px|0)|0}var id=64,sd=4194304;function zl(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function nh(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=zl(a):(s&=o,s!==0&&(r=zl(s)))}else o=n&~i,o!==0?r=zl(o):s!==0&&(r=zl(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-_r(e),i=1<<n,r|=t[n],e&=~i;return r}function gx(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function yx(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-_r(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=gx(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function Dm(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function tS(){var t=id;return id<<=1,!(id&4194240)&&(id=64),t}function Sp(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function pc(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-_r(e),t[e]=n}function vx(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-_r(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function vy(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-_r(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Ke=0;function nS(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var rS,_y,iS,sS,oS,Lm=!1,od=[],Xi=null,es=null,ts=null,Eu=new Map,Tu=new Map,$i=[],_x="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function _0(t,e){switch(t){case"focusin":case"focusout":Xi=null;break;case"dragenter":case"dragleave":es=null;break;case"mouseover":case"mouseout":ts=null;break;case"pointerover":case"pointerout":Eu.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Tu.delete(e.pointerId)}}function Al(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=gc(e),e!==null&&_y(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function wx(t,e,n,r,i){switch(e){case"focusin":return Xi=Al(Xi,t,e,n,r,i),!0;case"dragenter":return es=Al(es,t,e,n,r,i),!0;case"mouseover":return ts=Al(ts,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Eu.set(s,Al(Eu.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Tu.set(s,Al(Tu.get(s)||null,t,e,n,r,i)),!0}return!1}function aS(t){var e=Qs(t.target);if(e!==null){var n=ko(e);if(n!==null){if(e=n.tag,e===13){if(e=Q1(n),e!==null){t.blockedOn=e,oS(t.priority,function(){iS(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function xd(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Mm(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);xm=r,n.target.dispatchEvent(r),xm=null}else return e=gc(n),e!==null&&_y(e),t.blockedOn=n,!1;e.shift()}return!0}function w0(t,e,n){xd(t)&&n.delete(e)}function Ex(){Lm=!1,Xi!==null&&xd(Xi)&&(Xi=null),es!==null&&xd(es)&&(es=null),ts!==null&&xd(ts)&&(ts=null),Eu.forEach(w0),Tu.forEach(w0)}function bl(t,e){t.blockedOn===e&&(t.blockedOn=null,Lm||(Lm=!0,Un.unstable_scheduleCallback(Un.unstable_NormalPriority,Ex)))}function Su(t){function e(i){return bl(i,t)}if(0<od.length){bl(od[0],t);for(var n=1;n<od.length;n++){var r=od[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Xi!==null&&bl(Xi,t),es!==null&&bl(es,t),ts!==null&&bl(ts,t),Eu.forEach(e),Tu.forEach(e),n=0;n<$i.length;n++)r=$i[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<$i.length&&(n=$i[0],n.blockedOn===null);)aS(n),n.blockedOn===null&&$i.shift()}var Ta=Si.ReactCurrentBatchConfig,rh=!0;function Tx(t,e,n,r){var i=Ke,s=Ta.transition;Ta.transition=null;try{Ke=1,wy(t,e,n,r)}finally{Ke=i,Ta.transition=s}}function Sx(t,e,n,r){var i=Ke,s=Ta.transition;Ta.transition=null;try{Ke=4,wy(t,e,n,r)}finally{Ke=i,Ta.transition=s}}function wy(t,e,n,r){if(rh){var i=Mm(t,e,n,r);if(i===null)Np(t,e,r,ih,n),_0(t,r);else if(wx(i,t,e,n,r))r.stopPropagation();else if(_0(t,r),e&4&&-1<_x.indexOf(t)){for(;i!==null;){var s=gc(i);if(s!==null&&rS(s),s=Mm(t,e,n,r),s===null&&Np(t,e,r,ih,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Np(t,e,r,null,n)}}var ih=null;function Mm(t,e,n,r){if(ih=null,t=gy(r),t=Qs(t),t!==null)if(e=ko(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Q1(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return ih=t,null}function lS(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(cx()){case yy:return 1;case X1:return 4;case th:case dx:return 16;case eS:return 536870912;default:return 16}default:return 16}}var Gi=null,Ey=null,kd=null;function uS(){if(kd)return kd;var t,e=Ey,n=e.length,r,i="value"in Gi?Gi.value:Gi.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return kd=i.slice(t,1<r?1-r:void 0)}function Od(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function ad(){return!0}function E0(){return!1}function Bn(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?ad:E0,this.isPropagationStopped=E0,this}return gt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ad)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ad)},persist:function(){},isPersistent:ad}),e}var Xa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ty=Bn(Xa),mc=gt({},Xa,{view:0,detail:0}),Ix=Bn(mc),Ip,Rp,Cl,cf=gt({},mc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sy,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Cl&&(Cl&&t.type==="mousemove"?(Ip=t.screenX-Cl.screenX,Rp=t.screenY-Cl.screenY):Rp=Ip=0,Cl=t),Ip)},movementY:function(t){return"movementY"in t?t.movementY:Rp}}),T0=Bn(cf),Rx=gt({},cf,{dataTransfer:0}),Ax=Bn(Rx),bx=gt({},mc,{relatedTarget:0}),Ap=Bn(bx),Cx=gt({},Xa,{animationName:0,elapsedTime:0,pseudoElement:0}),Px=Bn(Cx),xx=gt({},Xa,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),kx=Bn(xx),Ox=gt({},Xa,{data:0}),S0=Bn(Ox),Nx={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Dx={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Lx={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Mx(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Lx[t])?!!e[t]:!1}function Sy(){return Mx}var Vx=gt({},mc,{key:function(t){if(t.key){var e=Nx[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Od(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Dx[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sy,charCode:function(t){return t.type==="keypress"?Od(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Od(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),jx=Bn(Vx),Fx=gt({},cf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),I0=Bn(Fx),Ux=gt({},mc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sy}),$x=Bn(Ux),Bx=gt({},Xa,{propertyName:0,elapsedTime:0,pseudoElement:0}),zx=Bn(Bx),Hx=gt({},cf,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),qx=Bn(Hx),Wx=[9,13,27,32],Iy=pi&&"CompositionEvent"in window,ru=null;pi&&"documentMode"in document&&(ru=document.documentMode);var Kx=pi&&"TextEvent"in window&&!ru,cS=pi&&(!Iy||ru&&8<ru&&11>=ru),R0=" ",A0=!1;function dS(t,e){switch(t){case"keyup":return Wx.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function hS(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var oa=!1;function Gx(t,e){switch(t){case"compositionend":return hS(e);case"keypress":return e.which!==32?null:(A0=!0,R0);case"textInput":return t=e.data,t===R0&&A0?null:t;default:return null}}function Qx(t,e){if(oa)return t==="compositionend"||!Iy&&dS(t,e)?(t=uS(),kd=Ey=Gi=null,oa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return cS&&e.locale!=="ko"?null:e.data;default:return null}}var Zx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function b0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Zx[t.type]:e==="textarea"}function fS(t,e,n,r){H1(r),e=sh(e,"onChange"),0<e.length&&(n=new Ty("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var iu=null,Iu=null;function Jx(t){IS(t,0)}function df(t){var e=ua(t);if(V1(e))return t}function Yx(t,e){if(t==="change")return e}var pS=!1;if(pi){var bp;if(pi){var Cp="oninput"in document;if(!Cp){var C0=document.createElement("div");C0.setAttribute("oninput","return;"),Cp=typeof C0.oninput=="function"}bp=Cp}else bp=!1;pS=bp&&(!document.documentMode||9<document.documentMode)}function P0(){iu&&(iu.detachEvent("onpropertychange",mS),Iu=iu=null)}function mS(t){if(t.propertyName==="value"&&df(Iu)){var e=[];fS(e,Iu,t,gy(t)),G1(Jx,e)}}function Xx(t,e,n){t==="focusin"?(P0(),iu=e,Iu=n,iu.attachEvent("onpropertychange",mS)):t==="focusout"&&P0()}function ek(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return df(Iu)}function tk(t,e){if(t==="click")return df(e)}function nk(t,e){if(t==="input"||t==="change")return df(e)}function rk(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Tr=typeof Object.is=="function"?Object.is:rk;function Ru(t,e){if(Tr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!vm.call(e,i)||!Tr(t[i],e[i]))return!1}return!0}function x0(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function k0(t,e){var n=x0(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=x0(n)}}function gS(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?gS(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function yS(){for(var t=window,e=Yd();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Yd(t.document)}return e}function Ry(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function ik(t){var e=yS(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&gS(n.ownerDocument.documentElement,n)){if(r!==null&&Ry(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=k0(n,s);var o=k0(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var sk=pi&&"documentMode"in document&&11>=document.documentMode,aa=null,Vm=null,su=null,jm=!1;function O0(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;jm||aa==null||aa!==Yd(r)||(r=aa,"selectionStart"in r&&Ry(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),su&&Ru(su,r)||(su=r,r=sh(Vm,"onSelect"),0<r.length&&(e=new Ty("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=aa)))}function ld(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var la={animationend:ld("Animation","AnimationEnd"),animationiteration:ld("Animation","AnimationIteration"),animationstart:ld("Animation","AnimationStart"),transitionend:ld("Transition","TransitionEnd")},Pp={},vS={};pi&&(vS=document.createElement("div").style,"AnimationEvent"in window||(delete la.animationend.animation,delete la.animationiteration.animation,delete la.animationstart.animation),"TransitionEvent"in window||delete la.transitionend.transition);function hf(t){if(Pp[t])return Pp[t];if(!la[t])return t;var e=la[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in vS)return Pp[t]=e[n];return t}var _S=hf("animationend"),wS=hf("animationiteration"),ES=hf("animationstart"),TS=hf("transitionend"),SS=new Map,N0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ts(t,e){SS.set(t,e),xo(e,[t])}for(var xp=0;xp<N0.length;xp++){var kp=N0[xp],ok=kp.toLowerCase(),ak=kp[0].toUpperCase()+kp.slice(1);Ts(ok,"on"+ak)}Ts(_S,"onAnimationEnd");Ts(wS,"onAnimationIteration");Ts(ES,"onAnimationStart");Ts("dblclick","onDoubleClick");Ts("focusin","onFocus");Ts("focusout","onBlur");Ts(TS,"onTransitionEnd");ka("onMouseEnter",["mouseout","mouseover"]);ka("onMouseLeave",["mouseout","mouseover"]);ka("onPointerEnter",["pointerout","pointerover"]);ka("onPointerLeave",["pointerout","pointerover"]);xo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));xo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));xo("onBeforeInput",["compositionend","keypress","textInput","paste"]);xo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));xo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));xo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Hl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),lk=new Set("cancel close invalid load scroll toggle".split(" ").concat(Hl));function D0(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,ox(r,e,void 0,t),t.currentTarget=null}function IS(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;D0(i,a,c),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;D0(i,a,c),s=l}}}if(eh)throw t=Nm,eh=!1,Nm=null,t}function ot(t,e){var n=e[zm];n===void 0&&(n=e[zm]=new Set);var r=t+"__bubble";n.has(r)||(RS(e,t,2,!1),n.add(r))}function Op(t,e,n){var r=0;e&&(r|=4),RS(n,t,r,e)}var ud="_reactListening"+Math.random().toString(36).slice(2);function Au(t){if(!t[ud]){t[ud]=!0,O1.forEach(function(n){n!=="selectionchange"&&(lk.has(n)||Op(n,!1,t),Op(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[ud]||(e[ud]=!0,Op("selectionchange",!1,e))}}function RS(t,e,n,r){switch(lS(e)){case 1:var i=Tx;break;case 4:i=Sx;break;default:i=wy}n=i.bind(null,e,n,t),i=void 0,!Om||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Np(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Qs(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}G1(function(){var c=s,d=gy(n),f=[];e:{var p=SS.get(t);if(p!==void 0){var y=Ty,w=t;switch(t){case"keypress":if(Od(n)===0)break e;case"keydown":case"keyup":y=jx;break;case"focusin":w="focus",y=Ap;break;case"focusout":w="blur",y=Ap;break;case"beforeblur":case"afterblur":y=Ap;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=T0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=Ax;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=$x;break;case _S:case wS:case ES:y=Px;break;case TS:y=zx;break;case"scroll":y=Ix;break;case"wheel":y=qx;break;case"copy":case"cut":case"paste":y=kx;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=I0}var E=(e&4)!==0,A=!E&&t==="scroll",I=E?p!==null?p+"Capture":null:p;E=[];for(var v=c,b;v!==null;){b=v;var D=b.stateNode;if(b.tag===5&&D!==null&&(b=D,I!==null&&(D=wu(v,I),D!=null&&E.push(bu(v,D,b)))),A)break;v=v.return}0<E.length&&(p=new y(p,w,null,n,d),f.push({event:p,listeners:E}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",y=t==="mouseout"||t==="pointerout",p&&n!==xm&&(w=n.relatedTarget||n.fromElement)&&(Qs(w)||w[mi]))break e;if((y||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,y?(w=n.relatedTarget||n.toElement,y=c,w=w?Qs(w):null,w!==null&&(A=ko(w),w!==A||w.tag!==5&&w.tag!==6)&&(w=null)):(y=null,w=c),y!==w)){if(E=T0,D="onMouseLeave",I="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(E=I0,D="onPointerLeave",I="onPointerEnter",v="pointer"),A=y==null?p:ua(y),b=w==null?p:ua(w),p=new E(D,v+"leave",y,n,d),p.target=A,p.relatedTarget=b,D=null,Qs(d)===c&&(E=new E(I,v+"enter",w,n,d),E.target=b,E.relatedTarget=A,D=E),A=D,y&&w)t:{for(E=y,I=w,v=0,b=E;b;b=Qo(b))v++;for(b=0,D=I;D;D=Qo(D))b++;for(;0<v-b;)E=Qo(E),v--;for(;0<b-v;)I=Qo(I),b--;for(;v--;){if(E===I||I!==null&&E===I.alternate)break t;E=Qo(E),I=Qo(I)}E=null}else E=null;y!==null&&L0(f,p,y,E,!1),w!==null&&A!==null&&L0(f,A,w,E,!0)}}e:{if(p=c?ua(c):window,y=p.nodeName&&p.nodeName.toLowerCase(),y==="select"||y==="input"&&p.type==="file")var $=Yx;else if(b0(p))if(pS)$=nk;else{$=ek;var j=Xx}else(y=p.nodeName)&&y.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&($=tk);if($&&($=$(t,c))){fS(f,$,n,d);break e}j&&j(t,p,c),t==="focusout"&&(j=p._wrapperState)&&j.controlled&&p.type==="number"&&Rm(p,"number",p.value)}switch(j=c?ua(c):window,t){case"focusin":(b0(j)||j.contentEditable==="true")&&(aa=j,Vm=c,su=null);break;case"focusout":su=Vm=aa=null;break;case"mousedown":jm=!0;break;case"contextmenu":case"mouseup":case"dragend":jm=!1,O0(f,n,d);break;case"selectionchange":if(sk)break;case"keydown":case"keyup":O0(f,n,d)}var T;if(Iy)e:{switch(t){case"compositionstart":var g="onCompositionStart";break e;case"compositionend":g="onCompositionEnd";break e;case"compositionupdate":g="onCompositionUpdate";break e}g=void 0}else oa?dS(t,n)&&(g="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(g="onCompositionStart");g&&(cS&&n.locale!=="ko"&&(oa||g!=="onCompositionStart"?g==="onCompositionEnd"&&oa&&(T=uS()):(Gi=d,Ey="value"in Gi?Gi.value:Gi.textContent,oa=!0)),j=sh(c,g),0<j.length&&(g=new S0(g,t,null,n,d),f.push({event:g,listeners:j}),T?g.data=T:(T=hS(n),T!==null&&(g.data=T)))),(T=Kx?Gx(t,n):Qx(t,n))&&(c=sh(c,"onBeforeInput"),0<c.length&&(d=new S0("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:c}),d.data=T))}IS(f,e)})}function bu(t,e,n){return{instance:t,listener:e,currentTarget:n}}function sh(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=wu(t,n),s!=null&&r.unshift(bu(t,s,i)),s=wu(t,e),s!=null&&r.push(bu(t,s,i))),t=t.return}return r}function Qo(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function L0(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=wu(n,s),l!=null&&o.unshift(bu(n,l,a))):i||(l=wu(n,s),l!=null&&o.push(bu(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var uk=/\r\n?/g,ck=/\u0000|\uFFFD/g;function M0(t){return(typeof t=="string"?t:""+t).replace(uk,`
`).replace(ck,"")}function cd(t,e,n){if(e=M0(e),M0(t)!==e&&n)throw Error(Z(425))}function oh(){}var Fm=null,Um=null;function $m(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Bm=typeof setTimeout=="function"?setTimeout:void 0,dk=typeof clearTimeout=="function"?clearTimeout:void 0,V0=typeof Promise=="function"?Promise:void 0,hk=typeof queueMicrotask=="function"?queueMicrotask:typeof V0<"u"?function(t){return V0.resolve(null).then(t).catch(fk)}:Bm;function fk(t){setTimeout(function(){throw t})}function Dp(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Su(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Su(e)}function ns(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function j0(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var el=Math.random().toString(36).slice(2),Or="__reactFiber$"+el,Cu="__reactProps$"+el,mi="__reactContainer$"+el,zm="__reactEvents$"+el,pk="__reactListeners$"+el,mk="__reactHandles$"+el;function Qs(t){var e=t[Or];if(e)return e;for(var n=t.parentNode;n;){if(e=n[mi]||n[Or]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=j0(t);t!==null;){if(n=t[Or])return n;t=j0(t)}return e}t=n,n=t.parentNode}return null}function gc(t){return t=t[Or]||t[mi],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ua(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Z(33))}function ff(t){return t[Cu]||null}var Hm=[],ca=-1;function Ss(t){return{current:t}}function ut(t){0>ca||(t.current=Hm[ca],Hm[ca]=null,ca--)}function nt(t,e){ca++,Hm[ca]=t.current,t.current=e}var hs={},ln=Ss(hs),In=Ss(!1),co=hs;function Oa(t,e){var n=t.type.contextTypes;if(!n)return hs;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Rn(t){return t=t.childContextTypes,t!=null}function ah(){ut(In),ut(ln)}function F0(t,e,n){if(ln.current!==hs)throw Error(Z(168));nt(ln,e),nt(In,n)}function AS(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(Z(108,XP(t)||"Unknown",i));return gt({},n,r)}function lh(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||hs,co=ln.current,nt(ln,t),nt(In,In.current),!0}function U0(t,e,n){var r=t.stateNode;if(!r)throw Error(Z(169));n?(t=AS(t,e,co),r.__reactInternalMemoizedMergedChildContext=t,ut(In),ut(ln),nt(ln,t)):ut(In),nt(In,n)}var ni=null,pf=!1,Lp=!1;function bS(t){ni===null?ni=[t]:ni.push(t)}function gk(t){pf=!0,bS(t)}function Is(){if(!Lp&&ni!==null){Lp=!0;var t=0,e=Ke;try{var n=ni;for(Ke=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}ni=null,pf=!1}catch(i){throw ni!==null&&(ni=ni.slice(t+1)),Y1(yy,Is),i}finally{Ke=e,Lp=!1}}return null}var da=[],ha=0,uh=null,ch=0,Xn=[],er=0,ho=null,ii=1,si="";function Hs(t,e){da[ha++]=ch,da[ha++]=uh,uh=t,ch=e}function CS(t,e,n){Xn[er++]=ii,Xn[er++]=si,Xn[er++]=ho,ho=t;var r=ii;t=si;var i=32-_r(r)-1;r&=~(1<<i),n+=1;var s=32-_r(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,ii=1<<32-_r(e)+i|n<<i|r,si=s+t}else ii=1<<s|n<<i|r,si=t}function Ay(t){t.return!==null&&(Hs(t,1),CS(t,1,0))}function by(t){for(;t===uh;)uh=da[--ha],da[ha]=null,ch=da[--ha],da[ha]=null;for(;t===ho;)ho=Xn[--er],Xn[er]=null,si=Xn[--er],Xn[er]=null,ii=Xn[--er],Xn[er]=null}var jn=null,Ln=null,ct=!1,gr=null;function PS(t,e){var n=rr(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function $0(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,jn=t,Ln=ns(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,jn=t,Ln=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=ho!==null?{id:ii,overflow:si}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=rr(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,jn=t,Ln=null,!0):!1;default:return!1}}function qm(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Wm(t){if(ct){var e=Ln;if(e){var n=e;if(!$0(t,e)){if(qm(t))throw Error(Z(418));e=ns(n.nextSibling);var r=jn;e&&$0(t,e)?PS(r,n):(t.flags=t.flags&-4097|2,ct=!1,jn=t)}}else{if(qm(t))throw Error(Z(418));t.flags=t.flags&-4097|2,ct=!1,jn=t}}}function B0(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;jn=t}function dd(t){if(t!==jn)return!1;if(!ct)return B0(t),ct=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!$m(t.type,t.memoizedProps)),e&&(e=Ln)){if(qm(t))throw xS(),Error(Z(418));for(;e;)PS(t,e),e=ns(e.nextSibling)}if(B0(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Z(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Ln=ns(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Ln=null}}else Ln=jn?ns(t.stateNode.nextSibling):null;return!0}function xS(){for(var t=Ln;t;)t=ns(t.nextSibling)}function Na(){Ln=jn=null,ct=!1}function Cy(t){gr===null?gr=[t]:gr.push(t)}var yk=Si.ReactCurrentBatchConfig;function Pl(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Z(309));var r=n.stateNode}if(!r)throw Error(Z(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(Z(284));if(!n._owner)throw Error(Z(290,t))}return t}function hd(t,e){throw t=Object.prototype.toString.call(e),Error(Z(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function z0(t){var e=t._init;return e(t._payload)}function kS(t){function e(I,v){if(t){var b=I.deletions;b===null?(I.deletions=[v],I.flags|=16):b.push(v)}}function n(I,v){if(!t)return null;for(;v!==null;)e(I,v),v=v.sibling;return null}function r(I,v){for(I=new Map;v!==null;)v.key!==null?I.set(v.key,v):I.set(v.index,v),v=v.sibling;return I}function i(I,v){return I=os(I,v),I.index=0,I.sibling=null,I}function s(I,v,b){return I.index=b,t?(b=I.alternate,b!==null?(b=b.index,b<v?(I.flags|=2,v):b):(I.flags|=2,v)):(I.flags|=1048576,v)}function o(I){return t&&I.alternate===null&&(I.flags|=2),I}function a(I,v,b,D){return v===null||v.tag!==6?(v=Bp(b,I.mode,D),v.return=I,v):(v=i(v,b),v.return=I,v)}function l(I,v,b,D){var $=b.type;return $===sa?d(I,v,b.props.children,D,b.key):v!==null&&(v.elementType===$||typeof $=="object"&&$!==null&&$.$$typeof===Fi&&z0($)===v.type)?(D=i(v,b.props),D.ref=Pl(I,v,b),D.return=I,D):(D=Fd(b.type,b.key,b.props,null,I.mode,D),D.ref=Pl(I,v,b),D.return=I,D)}function c(I,v,b,D){return v===null||v.tag!==4||v.stateNode.containerInfo!==b.containerInfo||v.stateNode.implementation!==b.implementation?(v=zp(b,I.mode,D),v.return=I,v):(v=i(v,b.children||[]),v.return=I,v)}function d(I,v,b,D,$){return v===null||v.tag!==7?(v=io(b,I.mode,D,$),v.return=I,v):(v=i(v,b),v.return=I,v)}function f(I,v,b){if(typeof v=="string"&&v!==""||typeof v=="number")return v=Bp(""+v,I.mode,b),v.return=I,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case td:return b=Fd(v.type,v.key,v.props,null,I.mode,b),b.ref=Pl(I,null,v),b.return=I,b;case ia:return v=zp(v,I.mode,b),v.return=I,v;case Fi:var D=v._init;return f(I,D(v._payload),b)}if(Bl(v)||Il(v))return v=io(v,I.mode,b,null),v.return=I,v;hd(I,v)}return null}function p(I,v,b,D){var $=v!==null?v.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return $!==null?null:a(I,v,""+b,D);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case td:return b.key===$?l(I,v,b,D):null;case ia:return b.key===$?c(I,v,b,D):null;case Fi:return $=b._init,p(I,v,$(b._payload),D)}if(Bl(b)||Il(b))return $!==null?null:d(I,v,b,D,null);hd(I,b)}return null}function y(I,v,b,D,$){if(typeof D=="string"&&D!==""||typeof D=="number")return I=I.get(b)||null,a(v,I,""+D,$);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case td:return I=I.get(D.key===null?b:D.key)||null,l(v,I,D,$);case ia:return I=I.get(D.key===null?b:D.key)||null,c(v,I,D,$);case Fi:var j=D._init;return y(I,v,b,j(D._payload),$)}if(Bl(D)||Il(D))return I=I.get(b)||null,d(v,I,D,$,null);hd(v,D)}return null}function w(I,v,b,D){for(var $=null,j=null,T=v,g=v=0,S=null;T!==null&&g<b.length;g++){T.index>g?(S=T,T=null):S=T.sibling;var R=p(I,T,b[g],D);if(R===null){T===null&&(T=S);break}t&&T&&R.alternate===null&&e(I,T),v=s(R,v,g),j===null?$=R:j.sibling=R,j=R,T=S}if(g===b.length)return n(I,T),ct&&Hs(I,g),$;if(T===null){for(;g<b.length;g++)T=f(I,b[g],D),T!==null&&(v=s(T,v,g),j===null?$=T:j.sibling=T,j=T);return ct&&Hs(I,g),$}for(T=r(I,T);g<b.length;g++)S=y(T,I,g,b[g],D),S!==null&&(t&&S.alternate!==null&&T.delete(S.key===null?g:S.key),v=s(S,v,g),j===null?$=S:j.sibling=S,j=S);return t&&T.forEach(function(P){return e(I,P)}),ct&&Hs(I,g),$}function E(I,v,b,D){var $=Il(b);if(typeof $!="function")throw Error(Z(150));if(b=$.call(b),b==null)throw Error(Z(151));for(var j=$=null,T=v,g=v=0,S=null,R=b.next();T!==null&&!R.done;g++,R=b.next()){T.index>g?(S=T,T=null):S=T.sibling;var P=p(I,T,R.value,D);if(P===null){T===null&&(T=S);break}t&&T&&P.alternate===null&&e(I,T),v=s(P,v,g),j===null?$=P:j.sibling=P,j=P,T=S}if(R.done)return n(I,T),ct&&Hs(I,g),$;if(T===null){for(;!R.done;g++,R=b.next())R=f(I,R.value,D),R!==null&&(v=s(R,v,g),j===null?$=R:j.sibling=R,j=R);return ct&&Hs(I,g),$}for(T=r(I,T);!R.done;g++,R=b.next())R=y(T,I,g,R.value,D),R!==null&&(t&&R.alternate!==null&&T.delete(R.key===null?g:R.key),v=s(R,v,g),j===null?$=R:j.sibling=R,j=R);return t&&T.forEach(function(k){return e(I,k)}),ct&&Hs(I,g),$}function A(I,v,b,D){if(typeof b=="object"&&b!==null&&b.type===sa&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case td:e:{for(var $=b.key,j=v;j!==null;){if(j.key===$){if($=b.type,$===sa){if(j.tag===7){n(I,j.sibling),v=i(j,b.props.children),v.return=I,I=v;break e}}else if(j.elementType===$||typeof $=="object"&&$!==null&&$.$$typeof===Fi&&z0($)===j.type){n(I,j.sibling),v=i(j,b.props),v.ref=Pl(I,j,b),v.return=I,I=v;break e}n(I,j);break}else e(I,j);j=j.sibling}b.type===sa?(v=io(b.props.children,I.mode,D,b.key),v.return=I,I=v):(D=Fd(b.type,b.key,b.props,null,I.mode,D),D.ref=Pl(I,v,b),D.return=I,I=D)}return o(I);case ia:e:{for(j=b.key;v!==null;){if(v.key===j)if(v.tag===4&&v.stateNode.containerInfo===b.containerInfo&&v.stateNode.implementation===b.implementation){n(I,v.sibling),v=i(v,b.children||[]),v.return=I,I=v;break e}else{n(I,v);break}else e(I,v);v=v.sibling}v=zp(b,I.mode,D),v.return=I,I=v}return o(I);case Fi:return j=b._init,A(I,v,j(b._payload),D)}if(Bl(b))return w(I,v,b,D);if(Il(b))return E(I,v,b,D);hd(I,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,v!==null&&v.tag===6?(n(I,v.sibling),v=i(v,b),v.return=I,I=v):(n(I,v),v=Bp(b,I.mode,D),v.return=I,I=v),o(I)):n(I,v)}return A}var Da=kS(!0),OS=kS(!1),dh=Ss(null),hh=null,fa=null,Py=null;function xy(){Py=fa=hh=null}function ky(t){var e=dh.current;ut(dh),t._currentValue=e}function Km(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Sa(t,e){hh=t,Py=fa=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Sn=!0),t.firstContext=null)}function sr(t){var e=t._currentValue;if(Py!==t)if(t={context:t,memoizedValue:e,next:null},fa===null){if(hh===null)throw Error(Z(308));fa=t,hh.dependencies={lanes:0,firstContext:t}}else fa=fa.next=t;return e}var Zs=null;function Oy(t){Zs===null?Zs=[t]:Zs.push(t)}function NS(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Oy(e)):(n.next=i.next,i.next=n),e.interleaved=n,gi(t,r)}function gi(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Ui=!1;function Ny(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function DS(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ui(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function rs(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Be&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,gi(t,n)}return i=r.interleaved,i===null?(e.next=e,Oy(r)):(e.next=i.next,i.next=e),r.interleaved=e,gi(t,n)}function Nd(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,vy(t,n)}}function H0(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function fh(t,e,n,r){var i=t.updateQueue;Ui=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=l))}if(s!==null){var f=i.baseState;o=0,d=c=l=null,a=s;do{var p=a.lane,y=a.eventTime;if((r&p)===p){d!==null&&(d=d.next={eventTime:y,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var w=t,E=a;switch(p=e,y=n,E.tag){case 1:if(w=E.payload,typeof w=="function"){f=w.call(y,f,p);break e}f=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=E.payload,p=typeof w=="function"?w.call(y,f,p):w,p==null)break e;f=gt({},f,p);break e;case 2:Ui=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,p=i.effects,p===null?i.effects=[a]:p.push(a))}else y={eventTime:y,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=y,l=f):d=d.next=y,o|=p;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;p=a,a=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(!0);if(d===null&&(l=f),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);po|=o,t.lanes=o,t.memoizedState=f}}function q0(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(Z(191,i));i.call(r)}}}var yc={},Mr=Ss(yc),Pu=Ss(yc),xu=Ss(yc);function Js(t){if(t===yc)throw Error(Z(174));return t}function Dy(t,e){switch(nt(xu,e),nt(Pu,t),nt(Mr,yc),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:bm(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=bm(e,t)}ut(Mr),nt(Mr,e)}function La(){ut(Mr),ut(Pu),ut(xu)}function LS(t){Js(xu.current);var e=Js(Mr.current),n=bm(e,t.type);e!==n&&(nt(Pu,t),nt(Mr,n))}function Ly(t){Pu.current===t&&(ut(Mr),ut(Pu))}var ft=Ss(0);function ph(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Mp=[];function My(){for(var t=0;t<Mp.length;t++)Mp[t]._workInProgressVersionPrimary=null;Mp.length=0}var Dd=Si.ReactCurrentDispatcher,Vp=Si.ReactCurrentBatchConfig,fo=0,mt=null,Nt=null,Ft=null,mh=!1,ou=!1,ku=0,vk=0;function tn(){throw Error(Z(321))}function Vy(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Tr(t[n],e[n]))return!1;return!0}function jy(t,e,n,r,i,s){if(fo=s,mt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Dd.current=t===null||t.memoizedState===null?Tk:Sk,t=n(r,i),ou){s=0;do{if(ou=!1,ku=0,25<=s)throw Error(Z(301));s+=1,Ft=Nt=null,e.updateQueue=null,Dd.current=Ik,t=n(r,i)}while(ou)}if(Dd.current=gh,e=Nt!==null&&Nt.next!==null,fo=0,Ft=Nt=mt=null,mh=!1,e)throw Error(Z(300));return t}function Fy(){var t=ku!==0;return ku=0,t}function kr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ft===null?mt.memoizedState=Ft=t:Ft=Ft.next=t,Ft}function or(){if(Nt===null){var t=mt.alternate;t=t!==null?t.memoizedState:null}else t=Nt.next;var e=Ft===null?mt.memoizedState:Ft.next;if(e!==null)Ft=e,Nt=t;else{if(t===null)throw Error(Z(310));Nt=t,t={memoizedState:Nt.memoizedState,baseState:Nt.baseState,baseQueue:Nt.baseQueue,queue:Nt.queue,next:null},Ft===null?mt.memoizedState=Ft=t:Ft=Ft.next=t}return Ft}function Ou(t,e){return typeof e=="function"?e(t):e}function jp(t){var e=or(),n=e.queue;if(n===null)throw Error(Z(311));n.lastRenderedReducer=t;var r=Nt,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,c=s;do{var d=c.lane;if((fo&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var f={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=f,o=r):l=l.next=f,mt.lanes|=d,po|=d}c=c.next}while(c!==null&&c!==s);l===null?o=r:l.next=a,Tr(r,e.memoizedState)||(Sn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,mt.lanes|=s,po|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Fp(t){var e=or(),n=e.queue;if(n===null)throw Error(Z(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Tr(s,e.memoizedState)||(Sn=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function MS(){}function VS(t,e){var n=mt,r=or(),i=e(),s=!Tr(r.memoizedState,i);if(s&&(r.memoizedState=i,Sn=!0),r=r.queue,Uy(US.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||Ft!==null&&Ft.memoizedState.tag&1){if(n.flags|=2048,Nu(9,FS.bind(null,n,r,i,e),void 0,null),Ut===null)throw Error(Z(349));fo&30||jS(n,e,i)}return i}function jS(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=mt.updateQueue,e===null?(e={lastEffect:null,stores:null},mt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function FS(t,e,n,r){e.value=n,e.getSnapshot=r,$S(e)&&BS(t)}function US(t,e,n){return n(function(){$S(e)&&BS(t)})}function $S(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Tr(t,n)}catch{return!0}}function BS(t){var e=gi(t,1);e!==null&&wr(e,t,1,-1)}function W0(t){var e=kr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ou,lastRenderedState:t},e.queue=t,t=t.dispatch=Ek.bind(null,mt,t),[e.memoizedState,t]}function Nu(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=mt.updateQueue,e===null?(e={lastEffect:null,stores:null},mt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function zS(){return or().memoizedState}function Ld(t,e,n,r){var i=kr();mt.flags|=t,i.memoizedState=Nu(1|e,n,void 0,r===void 0?null:r)}function mf(t,e,n,r){var i=or();r=r===void 0?null:r;var s=void 0;if(Nt!==null){var o=Nt.memoizedState;if(s=o.destroy,r!==null&&Vy(r,o.deps)){i.memoizedState=Nu(e,n,s,r);return}}mt.flags|=t,i.memoizedState=Nu(1|e,n,s,r)}function K0(t,e){return Ld(8390656,8,t,e)}function Uy(t,e){return mf(2048,8,t,e)}function HS(t,e){return mf(4,2,t,e)}function qS(t,e){return mf(4,4,t,e)}function WS(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function KS(t,e,n){return n=n!=null?n.concat([t]):null,mf(4,4,WS.bind(null,e,t),n)}function $y(){}function GS(t,e){var n=or();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Vy(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function QS(t,e){var n=or();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Vy(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function ZS(t,e,n){return fo&21?(Tr(n,e)||(n=tS(),mt.lanes|=n,po|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Sn=!0),t.memoizedState=n)}function _k(t,e){var n=Ke;Ke=n!==0&&4>n?n:4,t(!0);var r=Vp.transition;Vp.transition={};try{t(!1),e()}finally{Ke=n,Vp.transition=r}}function JS(){return or().memoizedState}function wk(t,e,n){var r=ss(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},YS(t))XS(e,n);else if(n=NS(t,e,n,r),n!==null){var i=gn();wr(n,t,r,i),eI(n,e,r)}}function Ek(t,e,n){var r=ss(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(YS(t))XS(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Tr(a,o)){var l=e.interleaved;l===null?(i.next=i,Oy(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=NS(t,e,i,r),n!==null&&(i=gn(),wr(n,t,r,i),eI(n,e,r))}}function YS(t){var e=t.alternate;return t===mt||e!==null&&e===mt}function XS(t,e){ou=mh=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function eI(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,vy(t,n)}}var gh={readContext:sr,useCallback:tn,useContext:tn,useEffect:tn,useImperativeHandle:tn,useInsertionEffect:tn,useLayoutEffect:tn,useMemo:tn,useReducer:tn,useRef:tn,useState:tn,useDebugValue:tn,useDeferredValue:tn,useTransition:tn,useMutableSource:tn,useSyncExternalStore:tn,useId:tn,unstable_isNewReconciler:!1},Tk={readContext:sr,useCallback:function(t,e){return kr().memoizedState=[t,e===void 0?null:e],t},useContext:sr,useEffect:K0,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Ld(4194308,4,WS.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Ld(4194308,4,t,e)},useInsertionEffect:function(t,e){return Ld(4,2,t,e)},useMemo:function(t,e){var n=kr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=kr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=wk.bind(null,mt,t),[r.memoizedState,t]},useRef:function(t){var e=kr();return t={current:t},e.memoizedState=t},useState:W0,useDebugValue:$y,useDeferredValue:function(t){return kr().memoizedState=t},useTransition:function(){var t=W0(!1),e=t[0];return t=_k.bind(null,t[1]),kr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=mt,i=kr();if(ct){if(n===void 0)throw Error(Z(407));n=n()}else{if(n=e(),Ut===null)throw Error(Z(349));fo&30||jS(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,K0(US.bind(null,r,s,t),[t]),r.flags|=2048,Nu(9,FS.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=kr(),e=Ut.identifierPrefix;if(ct){var n=si,r=ii;n=(r&~(1<<32-_r(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=ku++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=vk++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Sk={readContext:sr,useCallback:GS,useContext:sr,useEffect:Uy,useImperativeHandle:KS,useInsertionEffect:HS,useLayoutEffect:qS,useMemo:QS,useReducer:jp,useRef:zS,useState:function(){return jp(Ou)},useDebugValue:$y,useDeferredValue:function(t){var e=or();return ZS(e,Nt.memoizedState,t)},useTransition:function(){var t=jp(Ou)[0],e=or().memoizedState;return[t,e]},useMutableSource:MS,useSyncExternalStore:VS,useId:JS,unstable_isNewReconciler:!1},Ik={readContext:sr,useCallback:GS,useContext:sr,useEffect:Uy,useImperativeHandle:KS,useInsertionEffect:HS,useLayoutEffect:qS,useMemo:QS,useReducer:Fp,useRef:zS,useState:function(){return Fp(Ou)},useDebugValue:$y,useDeferredValue:function(t){var e=or();return Nt===null?e.memoizedState=t:ZS(e,Nt.memoizedState,t)},useTransition:function(){var t=Fp(Ou)[0],e=or().memoizedState;return[t,e]},useMutableSource:MS,useSyncExternalStore:VS,useId:JS,unstable_isNewReconciler:!1};function fr(t,e){if(t&&t.defaultProps){e=gt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Gm(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:gt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var gf={isMounted:function(t){return(t=t._reactInternals)?ko(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=gn(),i=ss(t),s=ui(r,i);s.payload=e,n!=null&&(s.callback=n),e=rs(t,s,i),e!==null&&(wr(e,t,i,r),Nd(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=gn(),i=ss(t),s=ui(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=rs(t,s,i),e!==null&&(wr(e,t,i,r),Nd(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=gn(),r=ss(t),i=ui(n,r);i.tag=2,e!=null&&(i.callback=e),e=rs(t,i,r),e!==null&&(wr(e,t,r,n),Nd(e,t,r))}};function G0(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Ru(n,r)||!Ru(i,s):!0}function tI(t,e,n){var r=!1,i=hs,s=e.contextType;return typeof s=="object"&&s!==null?s=sr(s):(i=Rn(e)?co:ln.current,r=e.contextTypes,s=(r=r!=null)?Oa(t,i):hs),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=gf,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function Q0(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&gf.enqueueReplaceState(e,e.state,null)}function Qm(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Ny(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=sr(s):(s=Rn(e)?co:ln.current,i.context=Oa(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Gm(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&gf.enqueueReplaceState(i,i.state,null),fh(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Ma(t,e){try{var n="",r=e;do n+=YP(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Up(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Zm(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var Rk=typeof WeakMap=="function"?WeakMap:Map;function nI(t,e,n){n=ui(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){vh||(vh=!0,og=r),Zm(t,e)},n}function rI(t,e,n){n=ui(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Zm(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Zm(t,e),typeof r!="function"&&(is===null?is=new Set([this]):is.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Z0(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new Rk;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=Fk.bind(null,t,e,n),e.then(t,t))}function J0(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Y0(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=ui(-1,1),e.tag=2,rs(n,e,1))),n.lanes|=1),t)}var Ak=Si.ReactCurrentOwner,Sn=!1;function mn(t,e,n,r){e.child=t===null?OS(e,null,n,r):Da(e,t.child,n,r)}function X0(t,e,n,r,i){n=n.render;var s=e.ref;return Sa(e,i),r=jy(t,e,n,r,s,i),n=Fy(),t!==null&&!Sn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,yi(t,e,i)):(ct&&n&&Ay(e),e.flags|=1,mn(t,e,r,i),e.child)}function ew(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!Qy(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,iI(t,e,s,r,i)):(t=Fd(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Ru,n(o,r)&&t.ref===e.ref)return yi(t,e,i)}return e.flags|=1,t=os(s,r),t.ref=e.ref,t.return=e,e.child=t}function iI(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Ru(s,r)&&t.ref===e.ref)if(Sn=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Sn=!0);else return e.lanes=t.lanes,yi(t,e,i)}return Jm(t,e,n,r,i)}function sI(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},nt(ma,Nn),Nn|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,nt(ma,Nn),Nn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,nt(ma,Nn),Nn|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,nt(ma,Nn),Nn|=r;return mn(t,e,i,n),e.child}function oI(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Jm(t,e,n,r,i){var s=Rn(n)?co:ln.current;return s=Oa(e,s),Sa(e,i),n=jy(t,e,n,r,s,i),r=Fy(),t!==null&&!Sn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,yi(t,e,i)):(ct&&r&&Ay(e),e.flags|=1,mn(t,e,n,i),e.child)}function tw(t,e,n,r,i){if(Rn(n)){var s=!0;lh(e)}else s=!1;if(Sa(e,i),e.stateNode===null)Md(t,e),tI(e,n,r),Qm(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=sr(c):(c=Rn(n)?co:ln.current,c=Oa(e,c));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&Q0(e,o,r,c),Ui=!1;var p=e.memoizedState;o.state=p,fh(e,r,o,i),l=e.memoizedState,a!==r||p!==l||In.current||Ui?(typeof d=="function"&&(Gm(e,n,d,r),l=e.memoizedState),(a=Ui||G0(e,n,a,r,p,l,c))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,DS(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:fr(e.type,a),o.props=c,f=e.pendingProps,p=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=sr(l):(l=Rn(n)?co:ln.current,l=Oa(e,l));var y=n.getDerivedStateFromProps;(d=typeof y=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||p!==l)&&Q0(e,o,r,l),Ui=!1,p=e.memoizedState,o.state=p,fh(e,r,o,i);var w=e.memoizedState;a!==f||p!==w||In.current||Ui?(typeof y=="function"&&(Gm(e,n,y,r),w=e.memoizedState),(c=Ui||G0(e,n,c,r,p,w,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,w,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,w,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=w),o.props=r,o.state=w,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),r=!1)}return Ym(t,e,n,r,s,i)}function Ym(t,e,n,r,i,s){oI(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&U0(e,n,!1),yi(t,e,s);r=e.stateNode,Ak.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Da(e,t.child,null,s),e.child=Da(e,null,a,s)):mn(t,e,a,s),e.memoizedState=r.state,i&&U0(e,n,!0),e.child}function aI(t){var e=t.stateNode;e.pendingContext?F0(t,e.pendingContext,e.pendingContext!==e.context):e.context&&F0(t,e.context,!1),Dy(t,e.containerInfo)}function nw(t,e,n,r,i){return Na(),Cy(i),e.flags|=256,mn(t,e,n,r),e.child}var Xm={dehydrated:null,treeContext:null,retryLane:0};function eg(t){return{baseLanes:t,cachePool:null,transitions:null}}function lI(t,e,n){var r=e.pendingProps,i=ft.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),nt(ft,i&1),t===null)return Wm(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=_f(o,r,0,null),t=io(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=eg(n),e.memoizedState=Xm,t):By(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return bk(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=os(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=os(a,s):(s=io(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?eg(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=Xm,r}return s=t.child,t=s.sibling,r=os(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function By(t,e){return e=_f({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function fd(t,e,n,r){return r!==null&&Cy(r),Da(e,t.child,null,n),t=By(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function bk(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=Up(Error(Z(422))),fd(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=_f({mode:"visible",children:r.children},i,0,null),s=io(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Da(e,t.child,null,o),e.child.memoizedState=eg(o),e.memoizedState=Xm,s);if(!(e.mode&1))return fd(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(Z(419)),r=Up(s,r,void 0),fd(t,e,o,r)}if(a=(o&t.childLanes)!==0,Sn||a){if(r=Ut,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,gi(t,i),wr(r,t,i,-1))}return Gy(),r=Up(Error(Z(421))),fd(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=Uk.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Ln=ns(i.nextSibling),jn=e,ct=!0,gr=null,t!==null&&(Xn[er++]=ii,Xn[er++]=si,Xn[er++]=ho,ii=t.id,si=t.overflow,ho=e),e=By(e,r.children),e.flags|=4096,e)}function rw(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Km(t.return,e,n)}function $p(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function uI(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(mn(t,e,r.children,n),r=ft.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&rw(t,n,e);else if(t.tag===19)rw(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(nt(ft,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&ph(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),$p(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&ph(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}$p(e,!0,n,null,s);break;case"together":$p(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Md(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function yi(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),po|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Z(153));if(e.child!==null){for(t=e.child,n=os(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=os(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Ck(t,e,n){switch(e.tag){case 3:aI(e),Na();break;case 5:LS(e);break;case 1:Rn(e.type)&&lh(e);break;case 4:Dy(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;nt(dh,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(nt(ft,ft.current&1),e.flags|=128,null):n&e.child.childLanes?lI(t,e,n):(nt(ft,ft.current&1),t=yi(t,e,n),t!==null?t.sibling:null);nt(ft,ft.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return uI(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),nt(ft,ft.current),r)break;return null;case 22:case 23:return e.lanes=0,sI(t,e,n)}return yi(t,e,n)}var cI,tg,dI,hI;cI=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};tg=function(){};dI=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Js(Mr.current);var s=null;switch(n){case"input":i=Sm(t,i),r=Sm(t,r),s=[];break;case"select":i=gt({},i,{value:void 0}),r=gt({},r,{value:void 0}),s=[];break;case"textarea":i=Am(t,i),r=Am(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=oh)}Cm(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(vu.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(vu.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&ot("scroll",t),s||a===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};hI=function(t,e,n,r){n!==r&&(e.flags|=4)};function xl(t,e){if(!ct)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function nn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function Pk(t,e,n){var r=e.pendingProps;switch(by(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return nn(e),null;case 1:return Rn(e.type)&&ah(),nn(e),null;case 3:return r=e.stateNode,La(),ut(In),ut(ln),My(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(dd(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,gr!==null&&(ug(gr),gr=null))),tg(t,e),nn(e),null;case 5:Ly(e);var i=Js(xu.current);if(n=e.type,t!==null&&e.stateNode!=null)dI(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(Z(166));return nn(e),null}if(t=Js(Mr.current),dd(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Or]=e,r[Cu]=s,t=(e.mode&1)!==0,n){case"dialog":ot("cancel",r),ot("close",r);break;case"iframe":case"object":case"embed":ot("load",r);break;case"video":case"audio":for(i=0;i<Hl.length;i++)ot(Hl[i],r);break;case"source":ot("error",r);break;case"img":case"image":case"link":ot("error",r),ot("load",r);break;case"details":ot("toggle",r);break;case"input":h0(r,s),ot("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},ot("invalid",r);break;case"textarea":p0(r,s),ot("invalid",r)}Cm(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&cd(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&cd(r.textContent,a,t),i=["children",""+a]):vu.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&ot("scroll",r)}switch(n){case"input":nd(r),f0(r,s,!0);break;case"textarea":nd(r),m0(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=oh)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=U1(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Or]=e,t[Cu]=r,cI(t,e,!1,!1),e.stateNode=t;e:{switch(o=Pm(n,r),n){case"dialog":ot("cancel",t),ot("close",t),i=r;break;case"iframe":case"object":case"embed":ot("load",t),i=r;break;case"video":case"audio":for(i=0;i<Hl.length;i++)ot(Hl[i],t);i=r;break;case"source":ot("error",t),i=r;break;case"img":case"image":case"link":ot("error",t),ot("load",t),i=r;break;case"details":ot("toggle",t),i=r;break;case"input":h0(t,r),i=Sm(t,r),ot("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=gt({},r,{value:void 0}),ot("invalid",t);break;case"textarea":p0(t,r),i=Am(t,r),ot("invalid",t);break;default:i=r}Cm(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?z1(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&$1(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&_u(t,l):typeof l=="number"&&_u(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(vu.hasOwnProperty(s)?l!=null&&s==="onScroll"&&ot("scroll",t):l!=null&&hy(t,s,l,o))}switch(n){case"input":nd(t),f0(t,r,!1);break;case"textarea":nd(t),m0(t);break;case"option":r.value!=null&&t.setAttribute("value",""+ds(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?_a(t,!!r.multiple,s,!1):r.defaultValue!=null&&_a(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=oh)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return nn(e),null;case 6:if(t&&e.stateNode!=null)hI(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(Z(166));if(n=Js(xu.current),Js(Mr.current),dd(e)){if(r=e.stateNode,n=e.memoizedProps,r[Or]=e,(s=r.nodeValue!==n)&&(t=jn,t!==null))switch(t.tag){case 3:cd(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&cd(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Or]=e,e.stateNode=r}return nn(e),null;case 13:if(ut(ft),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ct&&Ln!==null&&e.mode&1&&!(e.flags&128))xS(),Na(),e.flags|=98560,s=!1;else if(s=dd(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(Z(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Z(317));s[Or]=e}else Na(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;nn(e),s=!1}else gr!==null&&(ug(gr),gr=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||ft.current&1?Dt===0&&(Dt=3):Gy())),e.updateQueue!==null&&(e.flags|=4),nn(e),null);case 4:return La(),tg(t,e),t===null&&Au(e.stateNode.containerInfo),nn(e),null;case 10:return ky(e.type._context),nn(e),null;case 17:return Rn(e.type)&&ah(),nn(e),null;case 19:if(ut(ft),s=e.memoizedState,s===null)return nn(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)xl(s,!1);else{if(Dt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=ph(t),o!==null){for(e.flags|=128,xl(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return nt(ft,ft.current&1|2),e.child}t=t.sibling}s.tail!==null&&Rt()>Va&&(e.flags|=128,r=!0,xl(s,!1),e.lanes=4194304)}else{if(!r)if(t=ph(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),xl(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!ct)return nn(e),null}else 2*Rt()-s.renderingStartTime>Va&&n!==1073741824&&(e.flags|=128,r=!0,xl(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Rt(),e.sibling=null,n=ft.current,nt(ft,r?n&1|2:n&1),e):(nn(e),null);case 22:case 23:return Ky(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Nn&1073741824&&(nn(e),e.subtreeFlags&6&&(e.flags|=8192)):nn(e),null;case 24:return null;case 25:return null}throw Error(Z(156,e.tag))}function xk(t,e){switch(by(e),e.tag){case 1:return Rn(e.type)&&ah(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return La(),ut(In),ut(ln),My(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Ly(e),null;case 13:if(ut(ft),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Z(340));Na()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ut(ft),null;case 4:return La(),null;case 10:return ky(e.type._context),null;case 22:case 23:return Ky(),null;case 24:return null;default:return null}}var pd=!1,on=!1,kk=typeof WeakSet=="function"?WeakSet:Set,se=null;function pa(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Et(t,e,r)}else n.current=null}function ng(t,e,n){try{n()}catch(r){Et(t,e,r)}}var iw=!1;function Ok(t,e){if(Fm=rh,t=yS(),Ry(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,d=0,f=t,p=null;t:for(;;){for(var y;f!==n||i!==0&&f.nodeType!==3||(a=o+i),f!==s||r!==0&&f.nodeType!==3||(l=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(y=f.firstChild)!==null;)p=f,f=y;for(;;){if(f===t)break t;if(p===n&&++c===i&&(a=o),p===s&&++d===r&&(l=o),(y=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=y}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Um={focusedElem:t,selectionRange:n},rh=!1,se=e;se!==null;)if(e=se,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,se=t;else for(;se!==null;){e=se;try{var w=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var E=w.memoizedProps,A=w.memoizedState,I=e.stateNode,v=I.getSnapshotBeforeUpdate(e.elementType===e.type?E:fr(e.type,E),A);I.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var b=e.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Z(163))}}catch(D){Et(e,e.return,D)}if(t=e.sibling,t!==null){t.return=e.return,se=t;break}se=e.return}return w=iw,iw=!1,w}function au(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&ng(e,n,s)}i=i.next}while(i!==r)}}function yf(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function rg(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function fI(t){var e=t.alternate;e!==null&&(t.alternate=null,fI(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Or],delete e[Cu],delete e[zm],delete e[pk],delete e[mk])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function pI(t){return t.tag===5||t.tag===3||t.tag===4}function sw(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||pI(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function ig(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=oh));else if(r!==4&&(t=t.child,t!==null))for(ig(t,e,n),t=t.sibling;t!==null;)ig(t,e,n),t=t.sibling}function sg(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(sg(t,e,n),t=t.sibling;t!==null;)sg(t,e,n),t=t.sibling}var zt=null,pr=!1;function Di(t,e,n){for(n=n.child;n!==null;)mI(t,e,n),n=n.sibling}function mI(t,e,n){if(Lr&&typeof Lr.onCommitFiberUnmount=="function")try{Lr.onCommitFiberUnmount(uf,n)}catch{}switch(n.tag){case 5:on||pa(n,e);case 6:var r=zt,i=pr;zt=null,Di(t,e,n),zt=r,pr=i,zt!==null&&(pr?(t=zt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):zt.removeChild(n.stateNode));break;case 18:zt!==null&&(pr?(t=zt,n=n.stateNode,t.nodeType===8?Dp(t.parentNode,n):t.nodeType===1&&Dp(t,n),Su(t)):Dp(zt,n.stateNode));break;case 4:r=zt,i=pr,zt=n.stateNode.containerInfo,pr=!0,Di(t,e,n),zt=r,pr=i;break;case 0:case 11:case 14:case 15:if(!on&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&ng(n,e,o),i=i.next}while(i!==r)}Di(t,e,n);break;case 1:if(!on&&(pa(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Et(n,e,a)}Di(t,e,n);break;case 21:Di(t,e,n);break;case 22:n.mode&1?(on=(r=on)||n.memoizedState!==null,Di(t,e,n),on=r):Di(t,e,n);break;default:Di(t,e,n)}}function ow(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new kk),e.forEach(function(r){var i=$k.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function hr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:zt=a.stateNode,pr=!1;break e;case 3:zt=a.stateNode.containerInfo,pr=!0;break e;case 4:zt=a.stateNode.containerInfo,pr=!0;break e}a=a.return}if(zt===null)throw Error(Z(160));mI(s,o,i),zt=null,pr=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){Et(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)gI(e,t),e=e.sibling}function gI(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(hr(e,t),xr(t),r&4){try{au(3,t,t.return),yf(3,t)}catch(E){Et(t,t.return,E)}try{au(5,t,t.return)}catch(E){Et(t,t.return,E)}}break;case 1:hr(e,t),xr(t),r&512&&n!==null&&pa(n,n.return);break;case 5:if(hr(e,t),xr(t),r&512&&n!==null&&pa(n,n.return),t.flags&32){var i=t.stateNode;try{_u(i,"")}catch(E){Et(t,t.return,E)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&j1(i,s),Pm(a,o);var c=Pm(a,s);for(o=0;o<l.length;o+=2){var d=l[o],f=l[o+1];d==="style"?z1(i,f):d==="dangerouslySetInnerHTML"?$1(i,f):d==="children"?_u(i,f):hy(i,d,f,c)}switch(a){case"input":Im(i,s);break;case"textarea":F1(i,s);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var y=s.value;y!=null?_a(i,!!s.multiple,y,!1):p!==!!s.multiple&&(s.defaultValue!=null?_a(i,!!s.multiple,s.defaultValue,!0):_a(i,!!s.multiple,s.multiple?[]:"",!1))}i[Cu]=s}catch(E){Et(t,t.return,E)}}break;case 6:if(hr(e,t),xr(t),r&4){if(t.stateNode===null)throw Error(Z(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(E){Et(t,t.return,E)}}break;case 3:if(hr(e,t),xr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Su(e.containerInfo)}catch(E){Et(t,t.return,E)}break;case 4:hr(e,t),xr(t);break;case 13:hr(e,t),xr(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(qy=Rt())),r&4&&ow(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(on=(c=on)||d,hr(e,t),on=c):hr(e,t),xr(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for(se=t,d=t.child;d!==null;){for(f=se=d;se!==null;){switch(p=se,y=p.child,p.tag){case 0:case 11:case 14:case 15:au(4,p,p.return);break;case 1:pa(p,p.return);var w=p.stateNode;if(typeof w.componentWillUnmount=="function"){r=p,n=p.return;try{e=r,w.props=e.memoizedProps,w.state=e.memoizedState,w.componentWillUnmount()}catch(E){Et(r,n,E)}}break;case 5:pa(p,p.return);break;case 22:if(p.memoizedState!==null){lw(f);continue}}y!==null?(y.return=p,se=y):lw(f)}d=d.sibling}e:for(d=null,f=t;;){if(f.tag===5){if(d===null){d=f;try{i=f.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=B1("display",o))}catch(E){Et(t,t.return,E)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(E){Et(t,t.return,E)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:hr(e,t),xr(t),r&4&&ow(t);break;case 21:break;default:hr(e,t),xr(t)}}function xr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(pI(n)){var r=n;break e}n=n.return}throw Error(Z(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(_u(i,""),r.flags&=-33);var s=sw(t);sg(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=sw(t);ig(t,a,o);break;default:throw Error(Z(161))}}catch(l){Et(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Nk(t,e,n){se=t,yI(t)}function yI(t,e,n){for(var r=(t.mode&1)!==0;se!==null;){var i=se,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||pd;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||on;a=pd;var c=on;if(pd=o,(on=l)&&!c)for(se=i;se!==null;)o=se,l=o.child,o.tag===22&&o.memoizedState!==null?uw(i):l!==null?(l.return=o,se=l):uw(i);for(;s!==null;)se=s,yI(s),s=s.sibling;se=i,pd=a,on=c}aw(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,se=s):aw(t)}}function aw(t){for(;se!==null;){var e=se;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:on||yf(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!on)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:fr(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&q0(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}q0(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Su(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Z(163))}on||e.flags&512&&rg(e)}catch(p){Et(e,e.return,p)}}if(e===t){se=null;break}if(n=e.sibling,n!==null){n.return=e.return,se=n;break}se=e.return}}function lw(t){for(;se!==null;){var e=se;if(e===t){se=null;break}var n=e.sibling;if(n!==null){n.return=e.return,se=n;break}se=e.return}}function uw(t){for(;se!==null;){var e=se;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{yf(4,e)}catch(l){Et(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Et(e,i,l)}}var s=e.return;try{rg(e)}catch(l){Et(e,s,l)}break;case 5:var o=e.return;try{rg(e)}catch(l){Et(e,o,l)}}}catch(l){Et(e,e.return,l)}if(e===t){se=null;break}var a=e.sibling;if(a!==null){a.return=e.return,se=a;break}se=e.return}}var Dk=Math.ceil,yh=Si.ReactCurrentDispatcher,zy=Si.ReactCurrentOwner,ir=Si.ReactCurrentBatchConfig,Be=0,Ut=null,Pt=null,Wt=0,Nn=0,ma=Ss(0),Dt=0,Du=null,po=0,vf=0,Hy=0,lu=null,Tn=null,qy=0,Va=1/0,ti=null,vh=!1,og=null,is=null,md=!1,Qi=null,_h=0,uu=0,ag=null,Vd=-1,jd=0;function gn(){return Be&6?Rt():Vd!==-1?Vd:Vd=Rt()}function ss(t){return t.mode&1?Be&2&&Wt!==0?Wt&-Wt:yk.transition!==null?(jd===0&&(jd=tS()),jd):(t=Ke,t!==0||(t=window.event,t=t===void 0?16:lS(t.type)),t):1}function wr(t,e,n,r){if(50<uu)throw uu=0,ag=null,Error(Z(185));pc(t,n,r),(!(Be&2)||t!==Ut)&&(t===Ut&&(!(Be&2)&&(vf|=n),Dt===4&&Bi(t,Wt)),An(t,r),n===1&&Be===0&&!(e.mode&1)&&(Va=Rt()+500,pf&&Is()))}function An(t,e){var n=t.callbackNode;yx(t,e);var r=nh(t,t===Ut?Wt:0);if(r===0)n!==null&&v0(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&v0(n),e===1)t.tag===0?gk(cw.bind(null,t)):bS(cw.bind(null,t)),hk(function(){!(Be&6)&&Is()}),n=null;else{switch(nS(r)){case 1:n=yy;break;case 4:n=X1;break;case 16:n=th;break;case 536870912:n=eS;break;default:n=th}n=RI(n,vI.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function vI(t,e){if(Vd=-1,jd=0,Be&6)throw Error(Z(327));var n=t.callbackNode;if(Ia()&&t.callbackNode!==n)return null;var r=nh(t,t===Ut?Wt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=wh(t,r);else{e=r;var i=Be;Be|=2;var s=wI();(Ut!==t||Wt!==e)&&(ti=null,Va=Rt()+500,ro(t,e));do try{Vk();break}catch(a){_I(t,a)}while(!0);xy(),yh.current=s,Be=i,Pt!==null?e=0:(Ut=null,Wt=0,e=Dt)}if(e!==0){if(e===2&&(i=Dm(t),i!==0&&(r=i,e=lg(t,i))),e===1)throw n=Du,ro(t,0),Bi(t,r),An(t,Rt()),n;if(e===6)Bi(t,r);else{if(i=t.current.alternate,!(r&30)&&!Lk(i)&&(e=wh(t,r),e===2&&(s=Dm(t),s!==0&&(r=s,e=lg(t,s))),e===1))throw n=Du,ro(t,0),Bi(t,r),An(t,Rt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(Z(345));case 2:qs(t,Tn,ti);break;case 3:if(Bi(t,r),(r&130023424)===r&&(e=qy+500-Rt(),10<e)){if(nh(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){gn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Bm(qs.bind(null,t,Tn,ti),e);break}qs(t,Tn,ti);break;case 4:if(Bi(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-_r(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Rt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Dk(r/1960))-r,10<r){t.timeoutHandle=Bm(qs.bind(null,t,Tn,ti),r);break}qs(t,Tn,ti);break;case 5:qs(t,Tn,ti);break;default:throw Error(Z(329))}}}return An(t,Rt()),t.callbackNode===n?vI.bind(null,t):null}function lg(t,e){var n=lu;return t.current.memoizedState.isDehydrated&&(ro(t,e).flags|=256),t=wh(t,e),t!==2&&(e=Tn,Tn=n,e!==null&&ug(e)),t}function ug(t){Tn===null?Tn=t:Tn.push.apply(Tn,t)}function Lk(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Tr(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Bi(t,e){for(e&=~Hy,e&=~vf,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-_r(e),r=1<<n;t[n]=-1,e&=~r}}function cw(t){if(Be&6)throw Error(Z(327));Ia();var e=nh(t,0);if(!(e&1))return An(t,Rt()),null;var n=wh(t,e);if(t.tag!==0&&n===2){var r=Dm(t);r!==0&&(e=r,n=lg(t,r))}if(n===1)throw n=Du,ro(t,0),Bi(t,e),An(t,Rt()),n;if(n===6)throw Error(Z(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,qs(t,Tn,ti),An(t,Rt()),null}function Wy(t,e){var n=Be;Be|=1;try{return t(e)}finally{Be=n,Be===0&&(Va=Rt()+500,pf&&Is())}}function mo(t){Qi!==null&&Qi.tag===0&&!(Be&6)&&Ia();var e=Be;Be|=1;var n=ir.transition,r=Ke;try{if(ir.transition=null,Ke=1,t)return t()}finally{Ke=r,ir.transition=n,Be=e,!(Be&6)&&Is()}}function Ky(){Nn=ma.current,ut(ma)}function ro(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,dk(n)),Pt!==null)for(n=Pt.return;n!==null;){var r=n;switch(by(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&ah();break;case 3:La(),ut(In),ut(ln),My();break;case 5:Ly(r);break;case 4:La();break;case 13:ut(ft);break;case 19:ut(ft);break;case 10:ky(r.type._context);break;case 22:case 23:Ky()}n=n.return}if(Ut=t,Pt=t=os(t.current,null),Wt=Nn=e,Dt=0,Du=null,Hy=vf=po=0,Tn=lu=null,Zs!==null){for(e=0;e<Zs.length;e++)if(n=Zs[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Zs=null}return t}function _I(t,e){do{var n=Pt;try{if(xy(),Dd.current=gh,mh){for(var r=mt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}mh=!1}if(fo=0,Ft=Nt=mt=null,ou=!1,ku=0,zy.current=null,n===null||n.return===null){Dt=1,Du=e,Pt=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=Wt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=a,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var y=J0(o);if(y!==null){y.flags&=-257,Y0(y,o,a,s,e),y.mode&1&&Z0(s,c,e),e=y,l=c;var w=e.updateQueue;if(w===null){var E=new Set;E.add(l),e.updateQueue=E}else w.add(l);break e}else{if(!(e&1)){Z0(s,c,e),Gy();break e}l=Error(Z(426))}}else if(ct&&a.mode&1){var A=J0(o);if(A!==null){!(A.flags&65536)&&(A.flags|=256),Y0(A,o,a,s,e),Cy(Ma(l,a));break e}}s=l=Ma(l,a),Dt!==4&&(Dt=2),lu===null?lu=[s]:lu.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var I=nI(s,l,e);H0(s,I);break e;case 1:a=l;var v=s.type,b=s.stateNode;if(!(s.flags&128)&&(typeof v.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(is===null||!is.has(b)))){s.flags|=65536,e&=-e,s.lanes|=e;var D=rI(s,a,e);H0(s,D);break e}}s=s.return}while(s!==null)}TI(n)}catch($){e=$,Pt===n&&n!==null&&(Pt=n=n.return);continue}break}while(!0)}function wI(){var t=yh.current;return yh.current=gh,t===null?gh:t}function Gy(){(Dt===0||Dt===3||Dt===2)&&(Dt=4),Ut===null||!(po&268435455)&&!(vf&268435455)||Bi(Ut,Wt)}function wh(t,e){var n=Be;Be|=2;var r=wI();(Ut!==t||Wt!==e)&&(ti=null,ro(t,e));do try{Mk();break}catch(i){_I(t,i)}while(!0);if(xy(),Be=n,yh.current=r,Pt!==null)throw Error(Z(261));return Ut=null,Wt=0,Dt}function Mk(){for(;Pt!==null;)EI(Pt)}function Vk(){for(;Pt!==null&&!lx();)EI(Pt)}function EI(t){var e=II(t.alternate,t,Nn);t.memoizedProps=t.pendingProps,e===null?TI(t):Pt=e,zy.current=null}function TI(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=xk(n,e),n!==null){n.flags&=32767,Pt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Dt=6,Pt=null;return}}else if(n=Pk(n,e,Nn),n!==null){Pt=n;return}if(e=e.sibling,e!==null){Pt=e;return}Pt=e=t}while(e!==null);Dt===0&&(Dt=5)}function qs(t,e,n){var r=Ke,i=ir.transition;try{ir.transition=null,Ke=1,jk(t,e,n,r)}finally{ir.transition=i,Ke=r}return null}function jk(t,e,n,r){do Ia();while(Qi!==null);if(Be&6)throw Error(Z(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(Z(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(vx(t,s),t===Ut&&(Pt=Ut=null,Wt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||md||(md=!0,RI(th,function(){return Ia(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=ir.transition,ir.transition=null;var o=Ke;Ke=1;var a=Be;Be|=4,zy.current=null,Ok(t,n),gI(n,t),ik(Um),rh=!!Fm,Um=Fm=null,t.current=n,Nk(n),ux(),Be=a,Ke=o,ir.transition=s}else t.current=n;if(md&&(md=!1,Qi=t,_h=i),s=t.pendingLanes,s===0&&(is=null),hx(n.stateNode),An(t,Rt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(vh)throw vh=!1,t=og,og=null,t;return _h&1&&t.tag!==0&&Ia(),s=t.pendingLanes,s&1?t===ag?uu++:(uu=0,ag=t):uu=0,Is(),null}function Ia(){if(Qi!==null){var t=nS(_h),e=ir.transition,n=Ke;try{if(ir.transition=null,Ke=16>t?16:t,Qi===null)var r=!1;else{if(t=Qi,Qi=null,_h=0,Be&6)throw Error(Z(331));var i=Be;for(Be|=4,se=t.current;se!==null;){var s=se,o=s.child;if(se.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(se=c;se!==null;){var d=se;switch(d.tag){case 0:case 11:case 15:au(8,d,s)}var f=d.child;if(f!==null)f.return=d,se=f;else for(;se!==null;){d=se;var p=d.sibling,y=d.return;if(fI(d),d===c){se=null;break}if(p!==null){p.return=y,se=p;break}se=y}}}var w=s.alternate;if(w!==null){var E=w.child;if(E!==null){w.child=null;do{var A=E.sibling;E.sibling=null,E=A}while(E!==null)}}se=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,se=o;else e:for(;se!==null;){if(s=se,s.flags&2048)switch(s.tag){case 0:case 11:case 15:au(9,s,s.return)}var I=s.sibling;if(I!==null){I.return=s.return,se=I;break e}se=s.return}}var v=t.current;for(se=v;se!==null;){o=se;var b=o.child;if(o.subtreeFlags&2064&&b!==null)b.return=o,se=b;else e:for(o=v;se!==null;){if(a=se,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:yf(9,a)}}catch($){Et(a,a.return,$)}if(a===o){se=null;break e}var D=a.sibling;if(D!==null){D.return=a.return,se=D;break e}se=a.return}}if(Be=i,Is(),Lr&&typeof Lr.onPostCommitFiberRoot=="function")try{Lr.onPostCommitFiberRoot(uf,t)}catch{}r=!0}return r}finally{Ke=n,ir.transition=e}}return!1}function dw(t,e,n){e=Ma(n,e),e=nI(t,e,1),t=rs(t,e,1),e=gn(),t!==null&&(pc(t,1,e),An(t,e))}function Et(t,e,n){if(t.tag===3)dw(t,t,n);else for(;e!==null;){if(e.tag===3){dw(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(is===null||!is.has(r))){t=Ma(n,t),t=rI(e,t,1),e=rs(e,t,1),t=gn(),e!==null&&(pc(e,1,t),An(e,t));break}}e=e.return}}function Fk(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=gn(),t.pingedLanes|=t.suspendedLanes&n,Ut===t&&(Wt&n)===n&&(Dt===4||Dt===3&&(Wt&130023424)===Wt&&500>Rt()-qy?ro(t,0):Hy|=n),An(t,e)}function SI(t,e){e===0&&(t.mode&1?(e=sd,sd<<=1,!(sd&130023424)&&(sd=4194304)):e=1);var n=gn();t=gi(t,e),t!==null&&(pc(t,e,n),An(t,n))}function Uk(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),SI(t,n)}function $k(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(Z(314))}r!==null&&r.delete(e),SI(t,n)}var II;II=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||In.current)Sn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Sn=!1,Ck(t,e,n);Sn=!!(t.flags&131072)}else Sn=!1,ct&&e.flags&1048576&&CS(e,ch,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Md(t,e),t=e.pendingProps;var i=Oa(e,ln.current);Sa(e,n),i=jy(null,e,r,t,i,n);var s=Fy();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Rn(r)?(s=!0,lh(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Ny(e),i.updater=gf,e.stateNode=i,i._reactInternals=e,Qm(e,r,t,n),e=Ym(null,e,r,!0,s,n)):(e.tag=0,ct&&s&&Ay(e),mn(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Md(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=zk(r),t=fr(r,t),i){case 0:e=Jm(null,e,r,t,n);break e;case 1:e=tw(null,e,r,t,n);break e;case 11:e=X0(null,e,r,t,n);break e;case 14:e=ew(null,e,r,fr(r.type,t),n);break e}throw Error(Z(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:fr(r,i),Jm(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:fr(r,i),tw(t,e,r,i,n);case 3:e:{if(aI(e),t===null)throw Error(Z(387));r=e.pendingProps,s=e.memoizedState,i=s.element,DS(t,e),fh(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Ma(Error(Z(423)),e),e=nw(t,e,r,n,i);break e}else if(r!==i){i=Ma(Error(Z(424)),e),e=nw(t,e,r,n,i);break e}else for(Ln=ns(e.stateNode.containerInfo.firstChild),jn=e,ct=!0,gr=null,n=OS(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Na(),r===i){e=yi(t,e,n);break e}mn(t,e,r,n)}e=e.child}return e;case 5:return LS(e),t===null&&Wm(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,$m(r,i)?o=null:s!==null&&$m(r,s)&&(e.flags|=32),oI(t,e),mn(t,e,o,n),e.child;case 6:return t===null&&Wm(e),null;case 13:return lI(t,e,n);case 4:return Dy(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Da(e,null,r,n):mn(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:fr(r,i),X0(t,e,r,i,n);case 7:return mn(t,e,e.pendingProps,n),e.child;case 8:return mn(t,e,e.pendingProps.children,n),e.child;case 12:return mn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,nt(dh,r._currentValue),r._currentValue=o,s!==null)if(Tr(s.value,o)){if(s.children===i.children&&!In.current){e=yi(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=ui(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Km(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(Z(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Km(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}mn(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Sa(e,n),i=sr(i),r=r(i),e.flags|=1,mn(t,e,r,n),e.child;case 14:return r=e.type,i=fr(r,e.pendingProps),i=fr(r.type,i),ew(t,e,r,i,n);case 15:return iI(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:fr(r,i),Md(t,e),e.tag=1,Rn(r)?(t=!0,lh(e)):t=!1,Sa(e,n),tI(e,r,i),Qm(e,r,i,n),Ym(null,e,r,!0,t,n);case 19:return uI(t,e,n);case 22:return sI(t,e,n)}throw Error(Z(156,e.tag))};function RI(t,e){return Y1(t,e)}function Bk(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function rr(t,e,n,r){return new Bk(t,e,n,r)}function Qy(t){return t=t.prototype,!(!t||!t.isReactComponent)}function zk(t){if(typeof t=="function")return Qy(t)?1:0;if(t!=null){if(t=t.$$typeof,t===py)return 11;if(t===my)return 14}return 2}function os(t,e){var n=t.alternate;return n===null?(n=rr(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Fd(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")Qy(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case sa:return io(n.children,i,s,e);case fy:o=8,i|=8;break;case _m:return t=rr(12,n,e,i|2),t.elementType=_m,t.lanes=s,t;case wm:return t=rr(13,n,e,i),t.elementType=wm,t.lanes=s,t;case Em:return t=rr(19,n,e,i),t.elementType=Em,t.lanes=s,t;case L1:return _f(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case N1:o=10;break e;case D1:o=9;break e;case py:o=11;break e;case my:o=14;break e;case Fi:o=16,r=null;break e}throw Error(Z(130,t==null?t:typeof t,""))}return e=rr(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function io(t,e,n,r){return t=rr(7,t,r,e),t.lanes=n,t}function _f(t,e,n,r){return t=rr(22,t,r,e),t.elementType=L1,t.lanes=n,t.stateNode={isHidden:!1},t}function Bp(t,e,n){return t=rr(6,t,null,e),t.lanes=n,t}function zp(t,e,n){return e=rr(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Hk(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Sp(0),this.expirationTimes=Sp(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Sp(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Zy(t,e,n,r,i,s,o,a,l){return t=new Hk(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=rr(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ny(s),t}function qk(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ia,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function AI(t){if(!t)return hs;t=t._reactInternals;e:{if(ko(t)!==t||t.tag!==1)throw Error(Z(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Rn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Z(171))}if(t.tag===1){var n=t.type;if(Rn(n))return AS(t,n,e)}return e}function bI(t,e,n,r,i,s,o,a,l){return t=Zy(n,r,!0,t,i,s,o,a,l),t.context=AI(null),n=t.current,r=gn(),i=ss(n),s=ui(r,i),s.callback=e??null,rs(n,s,i),t.current.lanes=i,pc(t,i,r),An(t,r),t}function wf(t,e,n,r){var i=e.current,s=gn(),o=ss(i);return n=AI(n),e.context===null?e.context=n:e.pendingContext=n,e=ui(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=rs(i,e,o),t!==null&&(wr(t,i,o,s),Nd(t,i,o)),o}function Eh(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function hw(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Jy(t,e){hw(t,e),(t=t.alternate)&&hw(t,e)}function Wk(){return null}var CI=typeof reportError=="function"?reportError:function(t){console.error(t)};function Yy(t){this._internalRoot=t}Ef.prototype.render=Yy.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Z(409));wf(t,e,null,null)};Ef.prototype.unmount=Yy.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;mo(function(){wf(null,t,null,null)}),e[mi]=null}};function Ef(t){this._internalRoot=t}Ef.prototype.unstable_scheduleHydration=function(t){if(t){var e=sS();t={blockedOn:null,target:t,priority:e};for(var n=0;n<$i.length&&e!==0&&e<$i[n].priority;n++);$i.splice(n,0,t),n===0&&aS(t)}};function Xy(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Tf(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function fw(){}function Kk(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=Eh(o);s.call(c)}}var o=bI(e,r,t,0,null,!1,!1,"",fw);return t._reactRootContainer=o,t[mi]=o.current,Au(t.nodeType===8?t.parentNode:t),mo(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=Eh(l);a.call(c)}}var l=Zy(t,0,!1,null,null,!1,!1,"",fw);return t._reactRootContainer=l,t[mi]=l.current,Au(t.nodeType===8?t.parentNode:t),mo(function(){wf(e,l,n,r)}),l}function Sf(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=Eh(o);a.call(l)}}wf(e,o,t,i)}else o=Kk(n,e,t,i,r);return Eh(o)}rS=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=zl(e.pendingLanes);n!==0&&(vy(e,n|1),An(e,Rt()),!(Be&6)&&(Va=Rt()+500,Is()))}break;case 13:mo(function(){var r=gi(t,1);if(r!==null){var i=gn();wr(r,t,1,i)}}),Jy(t,1)}};_y=function(t){if(t.tag===13){var e=gi(t,134217728);if(e!==null){var n=gn();wr(e,t,134217728,n)}Jy(t,134217728)}};iS=function(t){if(t.tag===13){var e=ss(t),n=gi(t,e);if(n!==null){var r=gn();wr(n,t,e,r)}Jy(t,e)}};sS=function(){return Ke};oS=function(t,e){var n=Ke;try{return Ke=t,e()}finally{Ke=n}};km=function(t,e,n){switch(e){case"input":if(Im(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=ff(r);if(!i)throw Error(Z(90));V1(r),Im(r,i)}}}break;case"textarea":F1(t,n);break;case"select":e=n.value,e!=null&&_a(t,!!n.multiple,e,!1)}};W1=Wy;K1=mo;var Gk={usingClientEntryPoint:!1,Events:[gc,ua,ff,H1,q1,Wy]},kl={findFiberByHostInstance:Qs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Qk={bundleType:kl.bundleType,version:kl.version,rendererPackageName:kl.rendererPackageName,rendererConfig:kl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Si.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Z1(t),t===null?null:t.stateNode},findFiberByHostInstance:kl.findFiberByHostInstance||Wk,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var gd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!gd.isDisabled&&gd.supportsFiber)try{uf=gd.inject(Qk),Lr=gd}catch{}}$n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Gk;$n.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Xy(e))throw Error(Z(200));return qk(t,e,null,n)};$n.createRoot=function(t,e){if(!Xy(t))throw Error(Z(299));var n=!1,r="",i=CI;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Zy(t,1,!1,null,null,n,!1,r,i),t[mi]=e.current,Au(t.nodeType===8?t.parentNode:t),new Yy(e)};$n.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Z(188)):(t=Object.keys(t).join(","),Error(Z(268,t)));return t=Z1(e),t=t===null?null:t.stateNode,t};$n.flushSync=function(t){return mo(t)};$n.hydrate=function(t,e,n){if(!Tf(e))throw Error(Z(200));return Sf(null,t,e,!0,n)};$n.hydrateRoot=function(t,e,n){if(!Xy(t))throw Error(Z(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=CI;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=bI(e,null,t,1,n??null,i,!1,s,o),t[mi]=e.current,Au(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Ef(e)};$n.render=function(t,e,n){if(!Tf(e))throw Error(Z(200));return Sf(null,t,e,!1,n)};$n.unmountComponentAtNode=function(t){if(!Tf(t))throw Error(Z(40));return t._reactRootContainer?(mo(function(){Sf(null,null,t,!1,function(){t._reactRootContainer=null,t[mi]=null})}),!0):!1};$n.unstable_batchedUpdates=Wy;$n.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Tf(n))throw Error(Z(200));if(t==null||t._reactInternals===void 0)throw Error(Z(38));return Sf(t,e,n,!1,r)};$n.version="18.3.1-next-f1338f8080-20240426";function PI(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(PI)}catch(t){console.error(t)}}PI(),P1.exports=$n;var ev=P1.exports;const Zk=af(ev),Jk=sy({__proto__:null,default:Zk},[ev]);var xI,pw=ev;xI=pw.createRoot,pw.hydrateRoot;var mw={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kI=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Yk=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},OI={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,d=s>>2,f=(s&3)<<4|a>>4;let p=(a&15)<<2|c>>6,y=c&63;l||(y=64,o||(p=64)),r.push(n[d],n[f],n[p],n[y])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(kI(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Yk(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const f=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||c==null||f==null)throw new Xk;const p=s<<2|a>>4;if(r.push(p),c!==64){const y=a<<4&240|c>>2;if(r.push(y),f!==64){const w=c<<6&192|f;r.push(w)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Xk extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const eO=function(t){const e=kI(t);return OI.encodeByteArray(e,!0)},Th=function(t){return eO(t).replace(/\./g,"")},NI=function(t){try{return OI.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tO(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nO=()=>tO().__FIREBASE_DEFAULTS__,rO=()=>{if(typeof process>"u"||typeof mw>"u")return;const t=mw.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},iO=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&NI(t[1]);return e&&JSON.parse(e)},If=()=>{try{return nO()||rO()||iO()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},DI=t=>{var e,n;return(n=(e=If())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},sO=t=>{const e=DI(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},LI=()=>{var t;return(t=If())===null||t===void 0?void 0:t.config},MI=t=>{var e;return(e=If())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let oO=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aO(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Th(JSON.stringify(n)),Th(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function un(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function lO(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(un())}function uO(){var t;const e=(t=If())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function cO(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function dO(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function hO(){const t=un();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function fO(){return!uO()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function pO(){try{return typeof indexedDB=="object"}catch{return!1}}function mO(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gO="FirebaseError";class Zt extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=gO,Object.setPrototypeOf(this,Zt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,vc.prototype.create)}}class vc{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?yO(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Zt(i,a,r)}}function yO(t,e){return t.replace(vO,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const vO=/\{\$([^}]+)}/g;function _O(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Sh(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(gw(s)&&gw(o)){if(!Sh(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function gw(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _c(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function ql(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Wl(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function wO(t,e){const n=new EO(t,e);return n.subscribe.bind(n)}class EO{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");TO(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Hp),i.error===void 0&&(i.error=Hp),i.complete===void 0&&(i.complete=Hp);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function TO(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Hp(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mt(t){return t&&t._delegate?t._delegate:t}class go{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ws="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SO{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new oO;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(RO(e))try{this.getOrInitializeService({instanceIdentifier:Ws})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Ws){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ws){return this.instances.has(e)}getOptions(e=Ws){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:IO(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ws){return this.component?this.component.multipleInstances?e:Ws:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function IO(t){return t===Ws?void 0:t}function RO(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AO{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new SO(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ve;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ve||(Ve={}));const bO={debug:Ve.DEBUG,verbose:Ve.VERBOSE,info:Ve.INFO,warn:Ve.WARN,error:Ve.ERROR,silent:Ve.SILENT},CO=Ve.INFO,PO={[Ve.DEBUG]:"log",[Ve.VERBOSE]:"log",[Ve.INFO]:"info",[Ve.WARN]:"warn",[Ve.ERROR]:"error"},xO=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=PO[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};let tv=class{constructor(e){this.name=e,this._logLevel=CO,this._logHandler=xO,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ve))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?bO[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ve.DEBUG,...e),this._logHandler(this,Ve.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ve.VERBOSE,...e),this._logHandler(this,Ve.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ve.INFO,...e),this._logHandler(this,Ve.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ve.WARN,...e),this._logHandler(this,Ve.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ve.ERROR,...e),this._logHandler(this,Ve.ERROR,...e)}};const kO=(t,e)=>e.some(n=>t instanceof n);let yw,vw;function OO(){return yw||(yw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function NO(){return vw||(vw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const VI=new WeakMap,cg=new WeakMap,jI=new WeakMap,qp=new WeakMap,nv=new WeakMap;function DO(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(as(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&VI.set(n,t)}).catch(()=>{}),nv.set(e,t),e}function LO(t){if(cg.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});cg.set(t,e)}let dg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return cg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||jI.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return as(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function MO(t){dg=t(dg)}function VO(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Wp(this),e,...n);return jI.set(r,e.sort?e.sort():[e]),as(r)}:NO().includes(t)?function(...e){return t.apply(Wp(this),e),as(VI.get(this))}:function(...e){return as(t.apply(Wp(this),e))}}function jO(t){return typeof t=="function"?VO(t):(t instanceof IDBTransaction&&LO(t),kO(t,OO())?new Proxy(t,dg):t)}function as(t){if(t instanceof IDBRequest)return DO(t);if(qp.has(t))return qp.get(t);const e=jO(t);return e!==t&&(qp.set(t,e),nv.set(e,t)),e}const Wp=t=>nv.get(t);function FO(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=as(o);return r&&o.addEventListener("upgradeneeded",l=>{r(as(o.result),l.oldVersion,l.newVersion,as(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const UO=["get","getKey","getAll","getAllKeys","count"],$O=["put","add","delete","clear"],Kp=new Map;function _w(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Kp.get(e))return Kp.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=$O.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||UO.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),i&&l.done]))[0]};return Kp.set(e,s),s}MO(t=>({...t,get:(e,n,r)=>_w(e,n)||t.get(e,n,r),has:(e,n)=>!!_w(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BO{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(zO(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function zO(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const hg="@firebase/app",ww="0.10.9";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vi=new tv("@firebase/app"),HO="@firebase/app-compat",qO="@firebase/analytics-compat",WO="@firebase/analytics",KO="@firebase/app-check-compat",GO="@firebase/app-check",QO="@firebase/auth",ZO="@firebase/auth-compat",JO="@firebase/database",YO="@firebase/database-compat",XO="@firebase/functions",e2="@firebase/functions-compat",t2="@firebase/installations",n2="@firebase/installations-compat",r2="@firebase/messaging",i2="@firebase/messaging-compat",s2="@firebase/performance",o2="@firebase/performance-compat",a2="@firebase/remote-config",l2="@firebase/remote-config-compat",u2="@firebase/storage",c2="@firebase/storage-compat",d2="@firebase/firestore",h2="@firebase/vertexai-preview",f2="@firebase/firestore-compat",p2="firebase",m2="10.13.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fg="[DEFAULT]",g2={[hg]:"fire-core",[HO]:"fire-core-compat",[WO]:"fire-analytics",[qO]:"fire-analytics-compat",[GO]:"fire-app-check",[KO]:"fire-app-check-compat",[QO]:"fire-auth",[ZO]:"fire-auth-compat",[JO]:"fire-rtdb",[YO]:"fire-rtdb-compat",[XO]:"fire-fn",[e2]:"fire-fn-compat",[t2]:"fire-iid",[n2]:"fire-iid-compat",[r2]:"fire-fcm",[i2]:"fire-fcm-compat",[s2]:"fire-perf",[o2]:"fire-perf-compat",[a2]:"fire-rc",[l2]:"fire-rc-compat",[u2]:"fire-gcs",[c2]:"fire-gcs-compat",[d2]:"fire-fst",[f2]:"fire-fst-compat",[h2]:"fire-vertex","fire-js":"fire-js",[p2]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ih=new Map,y2=new Map,pg=new Map;function Ew(t,e){try{t.container.addComponent(e)}catch(n){vi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ja(t){const e=t.name;if(pg.has(e))return vi.debug(`There were multiple attempts to register component ${e}.`),!1;pg.set(e,t);for(const n of Ih.values())Ew(n,t);for(const n of y2.values())Ew(n,t);return!0}function rv(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Nr(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ls=new vc("app","Firebase",v2);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _2{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new go("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ls.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tl=m2;function FI(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:fg,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw ls.create("bad-app-name",{appName:String(i)});if(n||(n=LI()),!n)throw ls.create("no-options");const s=Ih.get(i);if(s){if(Sh(n,s.options)&&Sh(r,s.config))return s;throw ls.create("duplicate-app",{appName:i})}const o=new AO(i);for(const l of pg.values())o.addComponent(l);const a=new _2(n,r,o);return Ih.set(i,a),a}function UI(t=fg){const e=Ih.get(t);if(!e&&t===fg&&LI())return FI();if(!e)throw ls.create("no-app",{appName:t});return e}function us(t,e,n){var r;let i=(r=g2[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),vi.warn(a.join(" "));return}ja(new go(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w2="firebase-heartbeat-database",E2=1,Lu="firebase-heartbeat-store";let Gp=null;function $I(){return Gp||(Gp=FO(w2,E2,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Lu)}catch(n){console.warn(n)}}}}).catch(t=>{throw ls.create("idb-open",{originalErrorMessage:t.message})})),Gp}async function T2(t){try{const n=(await $I()).transaction(Lu),r=await n.objectStore(Lu).get(BI(t));return await n.done,r}catch(e){if(e instanceof Zt)vi.warn(e.message);else{const n=ls.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});vi.warn(n.message)}}}async function Tw(t,e){try{const r=(await $I()).transaction(Lu,"readwrite");await r.objectStore(Lu).put(e,BI(t)),await r.done}catch(n){if(n instanceof Zt)vi.warn(n.message);else{const r=ls.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});vi.warn(r.message)}}}function BI(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S2=1024,I2=30*24*60*60*1e3;class R2{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new b2(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n,r;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=Sw();return console.log("heartbeats",(e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats),((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(a=>a.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(a=>{const l=new Date(a.date).valueOf();return Date.now()-l<=I2}),this._storage.overwrite(this._heartbeatsCache))}catch(i){vi.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Sw(),{heartbeatsToSend:r,unsentEntries:i}=A2(this._heartbeatsCache.heartbeats),s=Th(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return vi.warn(n),""}}}function Sw(){return new Date().toISOString().substring(0,10)}function A2(t,e=S2){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),Iw(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Iw(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class b2{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return pO()?mO().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await T2(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Tw(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Tw(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Iw(t){return Th(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C2(t){ja(new go("platform-logger",e=>new BO(e),"PRIVATE")),ja(new go("heartbeat",e=>new R2(e),"PRIVATE")),us(hg,ww,t),us(hg,ww,"esm2017"),us("fire-js","")}C2("");var P2="firebase",x2="10.13.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */us(P2,x2,"app");var Rw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var so,zI;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(T,g){function S(){}S.prototype=g.prototype,T.D=g.prototype,T.prototype=new S,T.prototype.constructor=T,T.C=function(R,P,k){for(var C=Array(arguments.length-2),Ee=2;Ee<arguments.length;Ee++)C[Ee-2]=arguments[Ee];return g.prototype[P].apply(R,C)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(T,g,S){S||(S=0);var R=Array(16);if(typeof g=="string")for(var P=0;16>P;++P)R[P]=g.charCodeAt(S++)|g.charCodeAt(S++)<<8|g.charCodeAt(S++)<<16|g.charCodeAt(S++)<<24;else for(P=0;16>P;++P)R[P]=g[S++]|g[S++]<<8|g[S++]<<16|g[S++]<<24;g=T.g[0],S=T.g[1],P=T.g[2];var k=T.g[3],C=g+(k^S&(P^k))+R[0]+3614090360&4294967295;g=S+(C<<7&4294967295|C>>>25),C=k+(P^g&(S^P))+R[1]+3905402710&4294967295,k=g+(C<<12&4294967295|C>>>20),C=P+(S^k&(g^S))+R[2]+606105819&4294967295,P=k+(C<<17&4294967295|C>>>15),C=S+(g^P&(k^g))+R[3]+3250441966&4294967295,S=P+(C<<22&4294967295|C>>>10),C=g+(k^S&(P^k))+R[4]+4118548399&4294967295,g=S+(C<<7&4294967295|C>>>25),C=k+(P^g&(S^P))+R[5]+1200080426&4294967295,k=g+(C<<12&4294967295|C>>>20),C=P+(S^k&(g^S))+R[6]+2821735955&4294967295,P=k+(C<<17&4294967295|C>>>15),C=S+(g^P&(k^g))+R[7]+4249261313&4294967295,S=P+(C<<22&4294967295|C>>>10),C=g+(k^S&(P^k))+R[8]+1770035416&4294967295,g=S+(C<<7&4294967295|C>>>25),C=k+(P^g&(S^P))+R[9]+2336552879&4294967295,k=g+(C<<12&4294967295|C>>>20),C=P+(S^k&(g^S))+R[10]+4294925233&4294967295,P=k+(C<<17&4294967295|C>>>15),C=S+(g^P&(k^g))+R[11]+2304563134&4294967295,S=P+(C<<22&4294967295|C>>>10),C=g+(k^S&(P^k))+R[12]+1804603682&4294967295,g=S+(C<<7&4294967295|C>>>25),C=k+(P^g&(S^P))+R[13]+4254626195&4294967295,k=g+(C<<12&4294967295|C>>>20),C=P+(S^k&(g^S))+R[14]+2792965006&4294967295,P=k+(C<<17&4294967295|C>>>15),C=S+(g^P&(k^g))+R[15]+1236535329&4294967295,S=P+(C<<22&4294967295|C>>>10),C=g+(P^k&(S^P))+R[1]+4129170786&4294967295,g=S+(C<<5&4294967295|C>>>27),C=k+(S^P&(g^S))+R[6]+3225465664&4294967295,k=g+(C<<9&4294967295|C>>>23),C=P+(g^S&(k^g))+R[11]+643717713&4294967295,P=k+(C<<14&4294967295|C>>>18),C=S+(k^g&(P^k))+R[0]+3921069994&4294967295,S=P+(C<<20&4294967295|C>>>12),C=g+(P^k&(S^P))+R[5]+3593408605&4294967295,g=S+(C<<5&4294967295|C>>>27),C=k+(S^P&(g^S))+R[10]+38016083&4294967295,k=g+(C<<9&4294967295|C>>>23),C=P+(g^S&(k^g))+R[15]+3634488961&4294967295,P=k+(C<<14&4294967295|C>>>18),C=S+(k^g&(P^k))+R[4]+3889429448&4294967295,S=P+(C<<20&4294967295|C>>>12),C=g+(P^k&(S^P))+R[9]+568446438&4294967295,g=S+(C<<5&4294967295|C>>>27),C=k+(S^P&(g^S))+R[14]+3275163606&4294967295,k=g+(C<<9&4294967295|C>>>23),C=P+(g^S&(k^g))+R[3]+4107603335&4294967295,P=k+(C<<14&4294967295|C>>>18),C=S+(k^g&(P^k))+R[8]+1163531501&4294967295,S=P+(C<<20&4294967295|C>>>12),C=g+(P^k&(S^P))+R[13]+2850285829&4294967295,g=S+(C<<5&4294967295|C>>>27),C=k+(S^P&(g^S))+R[2]+4243563512&4294967295,k=g+(C<<9&4294967295|C>>>23),C=P+(g^S&(k^g))+R[7]+1735328473&4294967295,P=k+(C<<14&4294967295|C>>>18),C=S+(k^g&(P^k))+R[12]+2368359562&4294967295,S=P+(C<<20&4294967295|C>>>12),C=g+(S^P^k)+R[5]+4294588738&4294967295,g=S+(C<<4&4294967295|C>>>28),C=k+(g^S^P)+R[8]+2272392833&4294967295,k=g+(C<<11&4294967295|C>>>21),C=P+(k^g^S)+R[11]+1839030562&4294967295,P=k+(C<<16&4294967295|C>>>16),C=S+(P^k^g)+R[14]+4259657740&4294967295,S=P+(C<<23&4294967295|C>>>9),C=g+(S^P^k)+R[1]+2763975236&4294967295,g=S+(C<<4&4294967295|C>>>28),C=k+(g^S^P)+R[4]+1272893353&4294967295,k=g+(C<<11&4294967295|C>>>21),C=P+(k^g^S)+R[7]+4139469664&4294967295,P=k+(C<<16&4294967295|C>>>16),C=S+(P^k^g)+R[10]+3200236656&4294967295,S=P+(C<<23&4294967295|C>>>9),C=g+(S^P^k)+R[13]+681279174&4294967295,g=S+(C<<4&4294967295|C>>>28),C=k+(g^S^P)+R[0]+3936430074&4294967295,k=g+(C<<11&4294967295|C>>>21),C=P+(k^g^S)+R[3]+3572445317&4294967295,P=k+(C<<16&4294967295|C>>>16),C=S+(P^k^g)+R[6]+76029189&4294967295,S=P+(C<<23&4294967295|C>>>9),C=g+(S^P^k)+R[9]+3654602809&4294967295,g=S+(C<<4&4294967295|C>>>28),C=k+(g^S^P)+R[12]+3873151461&4294967295,k=g+(C<<11&4294967295|C>>>21),C=P+(k^g^S)+R[15]+530742520&4294967295,P=k+(C<<16&4294967295|C>>>16),C=S+(P^k^g)+R[2]+3299628645&4294967295,S=P+(C<<23&4294967295|C>>>9),C=g+(P^(S|~k))+R[0]+4096336452&4294967295,g=S+(C<<6&4294967295|C>>>26),C=k+(S^(g|~P))+R[7]+1126891415&4294967295,k=g+(C<<10&4294967295|C>>>22),C=P+(g^(k|~S))+R[14]+2878612391&4294967295,P=k+(C<<15&4294967295|C>>>17),C=S+(k^(P|~g))+R[5]+4237533241&4294967295,S=P+(C<<21&4294967295|C>>>11),C=g+(P^(S|~k))+R[12]+1700485571&4294967295,g=S+(C<<6&4294967295|C>>>26),C=k+(S^(g|~P))+R[3]+2399980690&4294967295,k=g+(C<<10&4294967295|C>>>22),C=P+(g^(k|~S))+R[10]+4293915773&4294967295,P=k+(C<<15&4294967295|C>>>17),C=S+(k^(P|~g))+R[1]+2240044497&4294967295,S=P+(C<<21&4294967295|C>>>11),C=g+(P^(S|~k))+R[8]+1873313359&4294967295,g=S+(C<<6&4294967295|C>>>26),C=k+(S^(g|~P))+R[15]+4264355552&4294967295,k=g+(C<<10&4294967295|C>>>22),C=P+(g^(k|~S))+R[6]+2734768916&4294967295,P=k+(C<<15&4294967295|C>>>17),C=S+(k^(P|~g))+R[13]+1309151649&4294967295,S=P+(C<<21&4294967295|C>>>11),C=g+(P^(S|~k))+R[4]+4149444226&4294967295,g=S+(C<<6&4294967295|C>>>26),C=k+(S^(g|~P))+R[11]+3174756917&4294967295,k=g+(C<<10&4294967295|C>>>22),C=P+(g^(k|~S))+R[2]+718787259&4294967295,P=k+(C<<15&4294967295|C>>>17),C=S+(k^(P|~g))+R[9]+3951481745&4294967295,T.g[0]=T.g[0]+g&4294967295,T.g[1]=T.g[1]+(P+(C<<21&4294967295|C>>>11))&4294967295,T.g[2]=T.g[2]+P&4294967295,T.g[3]=T.g[3]+k&4294967295}r.prototype.u=function(T,g){g===void 0&&(g=T.length);for(var S=g-this.blockSize,R=this.B,P=this.h,k=0;k<g;){if(P==0)for(;k<=S;)i(this,T,k),k+=this.blockSize;if(typeof T=="string"){for(;k<g;)if(R[P++]=T.charCodeAt(k++),P==this.blockSize){i(this,R),P=0;break}}else for(;k<g;)if(R[P++]=T[k++],P==this.blockSize){i(this,R),P=0;break}}this.h=P,this.o+=g},r.prototype.v=function(){var T=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);T[0]=128;for(var g=1;g<T.length-8;++g)T[g]=0;var S=8*this.o;for(g=T.length-8;g<T.length;++g)T[g]=S&255,S/=256;for(this.u(T),T=Array(16),g=S=0;4>g;++g)for(var R=0;32>R;R+=8)T[S++]=this.g[g]>>>R&255;return T};function s(T,g){var S=a;return Object.prototype.hasOwnProperty.call(S,T)?S[T]:S[T]=g(T)}function o(T,g){this.h=g;for(var S=[],R=!0,P=T.length-1;0<=P;P--){var k=T[P]|0;R&&k==g||(S[P]=k,R=!1)}this.g=S}var a={};function l(T){return-128<=T&&128>T?s(T,function(g){return new o([g|0],0>g?-1:0)}):new o([T|0],0>T?-1:0)}function c(T){if(isNaN(T)||!isFinite(T))return f;if(0>T)return A(c(-T));for(var g=[],S=1,R=0;T>=S;R++)g[R]=T/S|0,S*=4294967296;return new o(g,0)}function d(T,g){if(T.length==0)throw Error("number format error: empty string");if(g=g||10,2>g||36<g)throw Error("radix out of range: "+g);if(T.charAt(0)=="-")return A(d(T.substring(1),g));if(0<=T.indexOf("-"))throw Error('number format error: interior "-" character');for(var S=c(Math.pow(g,8)),R=f,P=0;P<T.length;P+=8){var k=Math.min(8,T.length-P),C=parseInt(T.substring(P,P+k),g);8>k?(k=c(Math.pow(g,k)),R=R.j(k).add(c(C))):(R=R.j(S),R=R.add(c(C)))}return R}var f=l(0),p=l(1),y=l(16777216);t=o.prototype,t.m=function(){if(E(this))return-A(this).m();for(var T=0,g=1,S=0;S<this.g.length;S++){var R=this.i(S);T+=(0<=R?R:4294967296+R)*g,g*=4294967296}return T},t.toString=function(T){if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(w(this))return"0";if(E(this))return"-"+A(this).toString(T);for(var g=c(Math.pow(T,6)),S=this,R="";;){var P=D(S,g).g;S=I(S,P.j(g));var k=((0<S.g.length?S.g[0]:S.h)>>>0).toString(T);if(S=P,w(S))return k+R;for(;6>k.length;)k="0"+k;R=k+R}},t.i=function(T){return 0>T?0:T<this.g.length?this.g[T]:this.h};function w(T){if(T.h!=0)return!1;for(var g=0;g<T.g.length;g++)if(T.g[g]!=0)return!1;return!0}function E(T){return T.h==-1}t.l=function(T){return T=I(this,T),E(T)?-1:w(T)?0:1};function A(T){for(var g=T.g.length,S=[],R=0;R<g;R++)S[R]=~T.g[R];return new o(S,~T.h).add(p)}t.abs=function(){return E(this)?A(this):this},t.add=function(T){for(var g=Math.max(this.g.length,T.g.length),S=[],R=0,P=0;P<=g;P++){var k=R+(this.i(P)&65535)+(T.i(P)&65535),C=(k>>>16)+(this.i(P)>>>16)+(T.i(P)>>>16);R=C>>>16,k&=65535,C&=65535,S[P]=C<<16|k}return new o(S,S[S.length-1]&-2147483648?-1:0)};function I(T,g){return T.add(A(g))}t.j=function(T){if(w(this)||w(T))return f;if(E(this))return E(T)?A(this).j(A(T)):A(A(this).j(T));if(E(T))return A(this.j(A(T)));if(0>this.l(y)&&0>T.l(y))return c(this.m()*T.m());for(var g=this.g.length+T.g.length,S=[],R=0;R<2*g;R++)S[R]=0;for(R=0;R<this.g.length;R++)for(var P=0;P<T.g.length;P++){var k=this.i(R)>>>16,C=this.i(R)&65535,Ee=T.i(P)>>>16,M=T.i(P)&65535;S[2*R+2*P]+=C*M,v(S,2*R+2*P),S[2*R+2*P+1]+=k*M,v(S,2*R+2*P+1),S[2*R+2*P+1]+=C*Ee,v(S,2*R+2*P+1),S[2*R+2*P+2]+=k*Ee,v(S,2*R+2*P+2)}for(R=0;R<g;R++)S[R]=S[2*R+1]<<16|S[2*R];for(R=g;R<2*g;R++)S[R]=0;return new o(S,0)};function v(T,g){for(;(T[g]&65535)!=T[g];)T[g+1]+=T[g]>>>16,T[g]&=65535,g++}function b(T,g){this.g=T,this.h=g}function D(T,g){if(w(g))throw Error("division by zero");if(w(T))return new b(f,f);if(E(T))return g=D(A(T),g),new b(A(g.g),A(g.h));if(E(g))return g=D(T,A(g)),new b(A(g.g),g.h);if(30<T.g.length){if(E(T)||E(g))throw Error("slowDivide_ only works with positive integers.");for(var S=p,R=g;0>=R.l(T);)S=$(S),R=$(R);var P=j(S,1),k=j(R,1);for(R=j(R,2),S=j(S,2);!w(R);){var C=k.add(R);0>=C.l(T)&&(P=P.add(S),k=C),R=j(R,1),S=j(S,1)}return g=I(T,P.j(g)),new b(P,g)}for(P=f;0<=T.l(g);){for(S=Math.max(1,Math.floor(T.m()/g.m())),R=Math.ceil(Math.log(S)/Math.LN2),R=48>=R?1:Math.pow(2,R-48),k=c(S),C=k.j(g);E(C)||0<C.l(T);)S-=R,k=c(S),C=k.j(g);w(k)&&(k=p),P=P.add(k),T=I(T,C)}return new b(P,T)}t.A=function(T){return D(this,T).h},t.and=function(T){for(var g=Math.max(this.g.length,T.g.length),S=[],R=0;R<g;R++)S[R]=this.i(R)&T.i(R);return new o(S,this.h&T.h)},t.or=function(T){for(var g=Math.max(this.g.length,T.g.length),S=[],R=0;R<g;R++)S[R]=this.i(R)|T.i(R);return new o(S,this.h|T.h)},t.xor=function(T){for(var g=Math.max(this.g.length,T.g.length),S=[],R=0;R<g;R++)S[R]=this.i(R)^T.i(R);return new o(S,this.h^T.h)};function $(T){for(var g=T.g.length+1,S=[],R=0;R<g;R++)S[R]=T.i(R)<<1|T.i(R-1)>>>31;return new o(S,T.h)}function j(T,g){var S=g>>5;g%=32;for(var R=T.g.length-S,P=[],k=0;k<R;k++)P[k]=0<g?T.i(k+S)>>>g|T.i(k+S+1)<<32-g:T.i(k+S);return new o(P,T.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,zI=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=d,so=o}).apply(typeof Rw<"u"?Rw:typeof self<"u"?self:typeof window<"u"?window:{});var yd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var HI,qI,Kl,WI,Ud,mg,KI,GI,QI;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,h,m){return u==Array.prototype||u==Object.prototype||(u[h]=m.value),u};function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof yd=="object"&&yd];for(var h=0;h<u.length;++h){var m=u[h];if(m&&m.Math==Math)return m}throw Error("Cannot find global object")}var r=n(this);function i(u,h){if(h)e:{var m=r;u=u.split(".");for(var _=0;_<u.length-1;_++){var L=u[_];if(!(L in m))break e;m=m[L]}u=u[u.length-1],_=m[u],h=h(_),h!=_&&h!=null&&e(m,u,{configurable:!0,writable:!0,value:h})}}function s(u,h){u instanceof String&&(u+="");var m=0,_=!1,L={next:function(){if(!_&&m<u.length){var B=m++;return{value:h(B,u[B]),done:!1}}return _=!0,{done:!0,value:void 0}}};return L[Symbol.iterator]=function(){return L},L}i("Array.prototype.values",function(u){return u||function(){return s(this,function(h,m){return m})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(u){var h=typeof u;return h=h!="object"?h:u?Array.isArray(u)?"array":h:"null",h=="array"||h=="object"&&typeof u.length=="number"}function c(u){var h=typeof u;return h=="object"&&u!=null||h=="function"}function d(u,h,m){return u.call.apply(u.bind,arguments)}function f(u,h,m){if(!u)throw Error();if(2<arguments.length){var _=Array.prototype.slice.call(arguments,2);return function(){var L=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(L,_),u.apply(h,L)}}return function(){return u.apply(h,arguments)}}function p(u,h,m){return p=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:f,p.apply(null,arguments)}function y(u,h){var m=Array.prototype.slice.call(arguments,1);return function(){var _=m.slice();return _.push.apply(_,arguments),u.apply(this,_)}}function w(u,h){function m(){}m.prototype=h.prototype,u.aa=h.prototype,u.prototype=new m,u.prototype.constructor=u,u.Qb=function(_,L,B){for(var ee=Array(arguments.length-2),Je=2;Je<arguments.length;Je++)ee[Je-2]=arguments[Je];return h.prototype[L].apply(_,ee)}}function E(u){const h=u.length;if(0<h){const m=Array(h);for(let _=0;_<h;_++)m[_]=u[_];return m}return[]}function A(u,h){for(let m=1;m<arguments.length;m++){const _=arguments[m];if(l(_)){const L=u.length||0,B=_.length||0;u.length=L+B;for(let ee=0;ee<B;ee++)u[L+ee]=_[ee]}else u.push(_)}}class I{constructor(h,m){this.i=h,this.j=m,this.h=0,this.g=null}get(){let h;return 0<this.h?(this.h--,h=this.g,this.g=h.next,h.next=null):h=this.i(),h}}function v(u){return/^[\s\xa0]*$/.test(u)}function b(){var u=a.navigator;return u&&(u=u.userAgent)?u:""}function D(u){return D[" "](u),u}D[" "]=function(){};var $=b().indexOf("Gecko")!=-1&&!(b().toLowerCase().indexOf("webkit")!=-1&&b().indexOf("Edge")==-1)&&!(b().indexOf("Trident")!=-1||b().indexOf("MSIE")!=-1)&&b().indexOf("Edge")==-1;function j(u,h,m){for(const _ in u)h.call(m,u[_],_,u)}function T(u,h){for(const m in u)h.call(void 0,u[m],m,u)}function g(u){const h={};for(const m in u)h[m]=u[m];return h}const S="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function R(u,h){let m,_;for(let L=1;L<arguments.length;L++){_=arguments[L];for(m in _)u[m]=_[m];for(let B=0;B<S.length;B++)m=S[B],Object.prototype.hasOwnProperty.call(_,m)&&(u[m]=_[m])}}function P(u){var h=1;u=u.split(":");const m=[];for(;0<h&&u.length;)m.push(u.shift()),h--;return u.length&&m.push(u.join(":")),m}function k(u){a.setTimeout(()=>{throw u},0)}function C(){var u=G;let h=null;return u.g&&(h=u.g,u.g=u.g.next,u.g||(u.h=null),h.next=null),h}class Ee{constructor(){this.h=this.g=null}add(h,m){const _=M.get();_.set(h,m),this.h?this.h.next=_:this.g=_,this.h=_}}var M=new I(()=>new K,u=>u.reset());class K{constructor(){this.next=this.g=this.h=null}set(h,m){this.h=h,this.g=m,this.next=null}reset(){this.next=this.g=this.h=null}}let de,H=!1,G=new Ee,Y=()=>{const u=a.Promise.resolve(void 0);de=()=>{u.then(xe)}};var xe=()=>{for(var u;u=C();){try{u.h.call(u.g)}catch(m){k(m)}var h=M;h.j(u),100>h.h&&(h.h++,u.next=h.g,h.g=u)}H=!1};function Pe(){this.s=this.s,this.C=this.C}Pe.prototype.s=!1,Pe.prototype.ma=function(){this.s||(this.s=!0,this.N())},Pe.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Se(u,h){this.type=u,this.g=this.target=h,this.defaultPrevented=!1}Se.prototype.h=function(){this.defaultPrevented=!0};var rt=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var u=!1,h=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const m=()=>{};a.addEventListener("test",m,h),a.removeEventListener("test",m,h)}catch{}return u}();function vt(u,h){if(Se.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var m=this.type=u.type,_=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=h,h=u.relatedTarget){if($){e:{try{D(h.nodeName);var L=!0;break e}catch{}L=!1}L||(h=null)}}else m=="mouseover"?h=u.fromElement:m=="mouseout"&&(h=u.toElement);this.relatedTarget=h,_?(this.clientX=_.clientX!==void 0?_.clientX:_.pageX,this.clientY=_.clientY!==void 0?_.clientY:_.pageY,this.screenX=_.screenX||0,this.screenY=_.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:_t[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&vt.aa.h.call(this)}}w(vt,Se);var _t={2:"touch",3:"pen",4:"mouse"};vt.prototype.h=function(){vt.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Tt="closure_listenable_"+(1e6*Math.random()|0),Hn=0;function $o(u,h,m,_,L){this.listener=u,this.proxy=null,this.src=h,this.type=m,this.capture=!!_,this.ha=L,this.key=++Hn,this.da=this.fa=!1}function lr(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Ar(u){this.src=u,this.g={},this.h=0}Ar.prototype.add=function(u,h,m,_,L){var B=u.toString();u=this.g[B],u||(u=this.g[B]=[],this.h++);var ee=bi(u,h,_,L);return-1<ee?(h=u[ee],m||(h.fa=!1)):(h=new $o(h,this.src,B,!!_,L),h.fa=m,u.push(h)),h};function Ps(u,h){var m=h.type;if(m in u.g){var _=u.g[m],L=Array.prototype.indexOf.call(_,h,void 0),B;(B=0<=L)&&Array.prototype.splice.call(_,L,1),B&&(lr(h),u.g[m].length==0&&(delete u.g[m],u.h--))}}function bi(u,h,m,_){for(var L=0;L<u.length;++L){var B=u[L];if(!B.da&&B.listener==h&&B.capture==!!m&&B.ha==_)return L}return-1}var St="closure_lm_"+(1e6*Math.random()|0),qn={};function xs(u,h,m,_,L){if(Array.isArray(h)){for(var B=0;B<h.length;B++)xs(u,h[B],m,_,L);return null}return m=fe(m),u&&u[Tt]?u.K(h,m,c(_)?!!_.capture:!!_,L):hl(u,h,m,!1,_,L)}function hl(u,h,m,_,L,B){if(!h)throw Error("Invalid event type");var ee=c(L)?!!L.capture:!!L,Je=te(u);if(Je||(u[St]=Je=new Ar(u)),m=Je.add(h,m,_,ee,B),m.proxy)return m;if(_=ur(),m.proxy=_,_.src=u,_.listener=m,u.addEventListener)rt||(L=ee),L===void 0&&(L=!1),u.addEventListener(h.toString(),_,L);else if(u.attachEvent)u.attachEvent(Os(h.toString()),_);else if(u.addListener&&u.removeListener)u.addListener(_);else throw Error("addEventListener and attachEvent are unavailable.");return m}function ur(){function u(m){return h.call(u.src,u.listener,m)}const h=U;return u}function Ci(u,h,m,_,L){if(Array.isArray(h))for(var B=0;B<h.length;B++)Ci(u,h[B],m,_,L);else _=c(_)?!!_.capture:!!_,m=fe(m),u&&u[Tt]?(u=u.i,h=String(h).toString(),h in u.g&&(B=u.g[h],m=bi(B,m,_,L),-1<m&&(lr(B[m]),Array.prototype.splice.call(B,m,1),B.length==0&&(delete u.g[h],u.h--)))):u&&(u=te(u))&&(h=u.g[h.toString()],u=-1,h&&(u=bi(h,m,_,L)),(m=-1<u?h[u]:null)&&ks(m))}function ks(u){if(typeof u!="number"&&u&&!u.da){var h=u.src;if(h&&h[Tt])Ps(h.i,u);else{var m=u.type,_=u.proxy;h.removeEventListener?h.removeEventListener(m,_,u.capture):h.detachEvent?h.detachEvent(Os(m),_):h.addListener&&h.removeListener&&h.removeListener(_),(m=te(h))?(Ps(m,u),m.h==0&&(m.src=null,h[St]=null)):lr(u)}}}function Os(u){return u in qn?qn[u]:qn[u]="on"+u}function U(u,h){if(u.da)u=!0;else{h=new vt(h,this);var m=u.listener,_=u.ha||u.src;u.fa&&ks(u),u=m.call(_,h)}return u}function te(u){return u=u[St],u instanceof Ar?u:null}var ae="__closure_events_fn_"+(1e9*Math.random()>>>0);function fe(u){return typeof u=="function"?u:(u[ae]||(u[ae]=function(h){return u.handleEvent(h)}),u[ae])}function ce(){Pe.call(this),this.i=new Ar(this),this.M=this,this.F=null}w(ce,Pe),ce.prototype[Tt]=!0,ce.prototype.removeEventListener=function(u,h,m,_){Ci(this,u,h,m,_)};function ye(u,h){var m,_=u.F;if(_)for(m=[];_;_=_.F)m.push(_);if(u=u.M,_=h.type||h,typeof h=="string")h=new Se(h,u);else if(h instanceof Se)h.target=h.target||u;else{var L=h;h=new Se(_,u),R(h,L)}if(L=!0,m)for(var B=m.length-1;0<=B;B--){var ee=h.g=m[B];L=Xe(ee,_,!0,h)&&L}if(ee=h.g=u,L=Xe(ee,_,!0,h)&&L,L=Xe(ee,_,!1,h)&&L,m)for(B=0;B<m.length;B++)ee=h.g=m[B],L=Xe(ee,_,!1,h)&&L}ce.prototype.N=function(){if(ce.aa.N.call(this),this.i){var u=this.i,h;for(h in u.g){for(var m=u.g[h],_=0;_<m.length;_++)lr(m[_]);delete u.g[h],u.h--}}this.F=null},ce.prototype.K=function(u,h,m,_){return this.i.add(String(u),h,!1,m,_)},ce.prototype.L=function(u,h,m,_){return this.i.add(String(u),h,!0,m,_)};function Xe(u,h,m,_){if(h=u.i.g[String(h)],!h)return!0;h=h.concat();for(var L=!0,B=0;B<h.length;++B){var ee=h[B];if(ee&&!ee.da&&ee.capture==m){var Je=ee.listener,Bt=ee.ha||ee.src;ee.fa&&Ps(u.i,ee),L=Je.call(Bt,_)!==!1&&L}}return L&&!_.defaultPrevented}function Jt(u,h,m){if(typeof u=="function")m&&(u=p(u,m));else if(u&&typeof u.handleEvent=="function")u=p(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(h)?-1:a.setTimeout(u,h||0)}function hn(u){u.g=Jt(()=>{u.g=null,u.i&&(u.i=!1,hn(u))},u.l);const h=u.h;u.h=null,u.m.apply(null,h)}class fn extends Pe{constructor(h,m){super(),this.m=h,this.l=m,this.h=null,this.i=!1,this.g=null}j(h){this.h=arguments,this.g?this.i=!0:hn(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function br(u){Pe.call(this),this.h=u,this.g={}}w(br,Pe);var Pi=[];function Ns(u){j(u.g,function(h,m){this.g.hasOwnProperty(m)&&ks(h)},u),u.g={}}br.prototype.N=function(){br.aa.N.call(this),Ns(this)},br.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var wn=a.JSON.stringify,Fc=a.JSON.parse,Uc=class{stringify(u){return a.JSON.stringify(u,void 0)}parse(u){return a.JSON.parse(u,void 0)}};function Bo(){}Bo.prototype.h=null;function $c(u){return u.h||(u.h=u.i())}function fl(){}var Cr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function zo(){Se.call(this,"d")}w(zo,Se);function Ds(){Se.call(this,"c")}w(Ds,Se);var Wn={},Ho=null;function qo(){return Ho=Ho||new ce}Wn.La="serverreachability";function pl(u){Se.call(this,Wn.La,u)}w(pl,Se);function Ls(u){const h=qo();ye(h,new pl(h))}Wn.STAT_EVENT="statevent";function ml(u,h){Se.call(this,Wn.STAT_EVENT,u),this.stat=h}w(ml,Se);function At(u){const h=qo();ye(h,new ml(h,u))}Wn.Ma="timingevent";function Ms(u,h){Se.call(this,Wn.Ma,u),this.size=h}w(Ms,Se);function xi(u,h){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){u()},h)}function Vs(){this.g=!0}Vs.prototype.xa=function(){this.g=!1};function hp(u,h,m,_,L,B){u.info(function(){if(u.g)if(B)for(var ee="",Je=B.split("&"),Bt=0;Bt<Je.length;Bt++){var He=Je[Bt].split("=");if(1<He.length){var Xt=He[0];He=He[1];var en=Xt.split("_");ee=2<=en.length&&en[1]=="type"?ee+(Xt+"="+He+"&"):ee+(Xt+"=redacted&")}}else ee=null;else ee=B;return"XMLHTTP REQ ("+_+") [attempt "+L+"]: "+h+`
`+m+`
`+ee})}function x(u,h,m,_,L,B,ee){u.info(function(){return"XMLHTTP RESP ("+_+") [ attempt "+L+"]: "+h+`
`+m+`
`+B+" "+ee})}function O(u,h,m,_){u.info(function(){return"XMLHTTP TEXT ("+h+"): "+q(u,m)+(_?" "+_:"")})}function F(u,h){u.info(function(){return"TIMEOUT: "+h})}Vs.prototype.info=function(){};function q(u,h){if(!u.g)return h;if(!h)return null;try{var m=JSON.parse(h);if(m){for(u=0;u<m.length;u++)if(Array.isArray(m[u])){var _=m[u];if(!(2>_.length)){var L=_[1];if(Array.isArray(L)&&!(1>L.length)){var B=L[0];if(B!="noop"&&B!="stop"&&B!="close")for(var ee=1;ee<L.length;ee++)L[ee]=""}}}}return wn(m)}catch{return h}}var ne={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},le={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ve;function X(){}w(X,Bo),X.prototype.g=function(){return new XMLHttpRequest},X.prototype.i=function(){return{}},ve=new X;function _e(u,h,m,_){this.j=u,this.i=h,this.l=m,this.R=_||1,this.U=new br(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new me}function me(){this.i=null,this.g="",this.h=!1}var Re={},ze={};function Ue(u,h,m){u.L=1,u.v=Wc(Zr(h)),u.m=m,u.P=!0,We(u,null)}function We(u,h){u.F=Date.now(),it(u),u.A=Zr(u.v);var m=u.A,_=u.R;Array.isArray(_)||(_=[String(_)]),V_(m.i,"t",_),u.C=0,m=u.j.J,u.h=new me,u.g=t0(u.j,m?h:null,!u.m),0<u.O&&(u.M=new fn(p(u.Y,u,u.g),u.O)),h=u.U,m=u.g,_=u.ca;var L="readystatechange";Array.isArray(L)||(L&&(Pi[0]=L.toString()),L=Pi);for(var B=0;B<L.length;B++){var ee=xs(m,L[B],_||h.handleEvent,!1,h.h||h);if(!ee)break;h.g[ee.key]=ee}h=u.H?g(u.H):{},u.m?(u.u||(u.u="POST"),h["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,h)):(u.u="GET",u.g.ea(u.A,u.u,null,h)),Ls(),hp(u.i,u.u,u.A,u.l,u.R,u.m)}_e.prototype.ca=function(u){u=u.target;const h=this.M;h&&Jr(u)==3?h.j():this.Y(u)},_e.prototype.Y=function(u){try{if(u==this.g)e:{const en=Jr(this.g);var h=this.g.Ba();const Go=this.g.Z();if(!(3>en)&&(en!=3||this.g&&(this.h.h||this.g.oa()||H_(this.g)))){this.J||en!=4||h==7||(h==8||0>=Go?Ls(3):Ls(2)),Kn(this);var m=this.g.Z();this.X=m;t:if($e(this)){var _=H_(this.g);u="";var L=_.length,B=Jr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){En(this),Gn(this);var ee="";break t}this.h.i=new a.TextDecoder}for(h=0;h<L;h++)this.h.h=!0,u+=this.h.i.decode(_[h],{stream:!(B&&h==L-1)});_.length=0,this.h.g+=u,this.C=0,ee=this.h.g}else ee=this.g.oa();if(this.o=m==200,x(this.i,this.u,this.A,this.l,this.R,en,m),this.o){if(this.T&&!this.K){t:{if(this.g){var Je,Bt=this.g;if((Je=Bt.g?Bt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!v(Je)){var He=Je;break t}}He=null}if(m=He)O(this.i,this.l,m,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Pr(this,m);else{this.o=!1,this.s=3,At(12),En(this),Gn(this);break e}}if(this.P){m=!0;let dr;for(;!this.J&&this.C<ee.length;)if(dr=Ot(this,ee),dr==ze){en==4&&(this.s=4,At(14),m=!1),O(this.i,this.l,null,"[Incomplete Response]");break}else if(dr==Re){this.s=4,At(15),O(this.i,this.l,ee,"[Invalid Chunk]"),m=!1;break}else O(this.i,this.l,dr,null),Pr(this,dr);if($e(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),en!=4||ee.length!=0||this.h.h||(this.s=1,At(16),m=!1),this.o=this.o&&m,!m)O(this.i,this.l,ee,"[Invalid Chunked Response]"),En(this),Gn(this);else if(0<ee.length&&!this.W){this.W=!0;var Xt=this.j;Xt.g==this&&Xt.ba&&!Xt.M&&(Xt.j.info("Great, no buffering proxy detected. Bytes received: "+ee.length),gp(Xt),Xt.M=!0,At(11))}}else O(this.i,this.l,ee,null),Pr(this,ee);en==4&&En(this),this.o&&!this.J&&(en==4?J_(this.j,this):(this.o=!1,it(this)))}else _P(this.g),m==400&&0<ee.indexOf("Unknown SID")?(this.s=3,At(12)):(this.s=0,At(13)),En(this),Gn(this)}}}catch{}finally{}};function $e(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function Ot(u,h){var m=u.C,_=h.indexOf(`
`,m);return _==-1?ze:(m=Number(h.substring(m,_)),isNaN(m)?Re:(_+=1,_+m>h.length?ze:(h=h.slice(_,_+m),u.C=_+m,h)))}_e.prototype.cancel=function(){this.J=!0,En(this)};function it(u){u.S=Date.now()+u.I,ki(u,u.I)}function ki(u,h){if(u.B!=null)throw Error("WatchDog timer not null");u.B=xi(p(u.ba,u),h)}function Kn(u){u.B&&(a.clearTimeout(u.B),u.B=null)}_e.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(F(this.i,this.A),this.L!=2&&(Ls(),At(17)),En(this),this.s=2,Gn(this)):ki(this,this.S-u)};function Gn(u){u.j.G==0||u.J||J_(u.j,u)}function En(u){Kn(u);var h=u.M;h&&typeof h.ma=="function"&&h.ma(),u.M=null,Ns(u.U),u.g&&(h=u.g,u.g=null,h.abort(),h.ma())}function Pr(u,h){try{var m=u.j;if(m.G!=0&&(m.g==u||Ae(m.h,u))){if(!u.K&&Ae(m.h,u)&&m.G==3){try{var _=m.Da.g.parse(h)}catch{_=null}if(Array.isArray(_)&&_.length==3){var L=_;if(L[0]==0){e:if(!m.u){if(m.g)if(m.g.F+3e3<u.F)Jc(m),Qc(m);else break e;mp(m),At(18)}}else m.za=L[1],0<m.za-m.T&&37500>L[2]&&m.F&&m.v==0&&!m.C&&(m.C=xi(p(m.Za,m),6e3));if(1>=Us(m.h)&&m.ca){try{m.ca()}catch{}m.ca=void 0}}else Bs(m,11)}else if((u.K||m.g==u)&&Jc(m),!v(h))for(L=m.Da.g.parse(h),h=0;h<L.length;h++){let He=L[h];if(m.T=He[0],He=He[1],m.G==2)if(He[0]=="c"){m.K=He[1],m.ia=He[2];const Xt=He[3];Xt!=null&&(m.la=Xt,m.j.info("VER="+m.la));const en=He[4];en!=null&&(m.Aa=en,m.j.info("SVER="+m.Aa));const Go=He[5];Go!=null&&typeof Go=="number"&&0<Go&&(_=1.5*Go,m.L=_,m.j.info("backChannelRequestTimeoutMs_="+_)),_=m;const dr=u.g;if(dr){const Xc=dr.g?dr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Xc){var B=_.h;B.g||Xc.indexOf("spdy")==-1&&Xc.indexOf("quic")==-1&&Xc.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(et(B,B.h),B.h=null))}if(_.D){const yp=dr.g?dr.g.getResponseHeader("X-HTTP-Session-Id"):null;yp&&(_.ya=yp,st(_.I,_.D,yp))}}m.G=3,m.l&&m.l.ua(),m.ba&&(m.R=Date.now()-u.F,m.j.info("Handshake RTT: "+m.R+"ms")),_=m;var ee=u;if(_.qa=e0(_,_.J?_.ia:null,_.W),ee.K){Yt(_.h,ee);var Je=ee,Bt=_.L;Bt&&(Je.I=Bt),Je.B&&(Kn(Je),it(Je)),_.g=ee}else Q_(_);0<m.i.length&&Zc(m)}else He[0]!="stop"&&He[0]!="close"||Bs(m,7);else m.G==3&&(He[0]=="stop"||He[0]=="close"?He[0]=="stop"?Bs(m,7):pp(m):He[0]!="noop"&&m.l&&m.l.ta(He),m.v=0)}}Ls(4)}catch{}}var Qn=class{constructor(u,h){this.g=u,this.map=h}};function js(u){this.l=u||10,a.PerformanceNavigationTiming?(u=a.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Fs(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Us(u){return u.h?1:u.g?u.g.size:0}function Ae(u,h){return u.h?u.h==h:u.g?u.g.has(h):!1}function et(u,h){u.g?u.g.add(h):u.h=h}function Yt(u,h){u.h&&u.h==h?u.h=null:u.g&&u.g.has(h)&&u.g.delete(h)}js.prototype.cancel=function(){if(this.i=Ze(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Ze(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let h=u.i;for(const m of u.g.values())h=h.concat(m.D);return h}return E(u.i)}function cr(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(l(u)){for(var h=[],m=u.length,_=0;_<m;_++)h.push(u[_]);return h}h=[],m=0;for(_ in u)h[m++]=u[_];return h}function Bc(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(l(u)||typeof u=="string"){var h=[];u=u.length;for(var m=0;m<u;m++)h.push(m);return h}h=[],m=0;for(const _ in u)h[m++]=_;return h}}}function zc(u,h){if(u.forEach&&typeof u.forEach=="function")u.forEach(h,void 0);else if(l(u)||typeof u=="string")Array.prototype.forEach.call(u,h,void 0);else for(var m=Bc(u),_=cr(u),L=_.length,B=0;B<L;B++)h.call(void 0,_[B],m&&m[B],u)}var O_=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function oP(u,h){if(u){u=u.split("&");for(var m=0;m<u.length;m++){var _=u[m].indexOf("="),L=null;if(0<=_){var B=u[m].substring(0,_);L=u[m].substring(_+1)}else B=u[m];h(B,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function $s(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof $s){this.h=u.h,Hc(this,u.j),this.o=u.o,this.g=u.g,qc(this,u.s),this.l=u.l;var h=u.i,m=new vl;m.i=h.i,h.g&&(m.g=new Map(h.g),m.h=h.h),N_(this,m),this.m=u.m}else u&&(h=String(u).match(O_))?(this.h=!1,Hc(this,h[1]||"",!0),this.o=gl(h[2]||""),this.g=gl(h[3]||"",!0),qc(this,h[4]),this.l=gl(h[5]||"",!0),N_(this,h[6]||"",!0),this.m=gl(h[7]||"")):(this.h=!1,this.i=new vl(null,this.h))}$s.prototype.toString=function(){var u=[],h=this.j;h&&u.push(yl(h,D_,!0),":");var m=this.g;return(m||h=="file")&&(u.push("//"),(h=this.o)&&u.push(yl(h,D_,!0),"@"),u.push(encodeURIComponent(String(m)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m=this.s,m!=null&&u.push(":",String(m))),(m=this.l)&&(this.g&&m.charAt(0)!="/"&&u.push("/"),u.push(yl(m,m.charAt(0)=="/"?uP:lP,!0))),(m=this.i.toString())&&u.push("?",m),(m=this.m)&&u.push("#",yl(m,dP)),u.join("")};function Zr(u){return new $s(u)}function Hc(u,h,m){u.j=m?gl(h,!0):h,u.j&&(u.j=u.j.replace(/:$/,""))}function qc(u,h){if(h){if(h=Number(h),isNaN(h)||0>h)throw Error("Bad port number "+h);u.s=h}else u.s=null}function N_(u,h,m){h instanceof vl?(u.i=h,hP(u.i,u.h)):(m||(h=yl(h,cP)),u.i=new vl(h,u.h))}function st(u,h,m){u.i.set(h,m)}function Wc(u){return st(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function gl(u,h){return u?h?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function yl(u,h,m){return typeof u=="string"?(u=encodeURI(u).replace(h,aP),m&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function aP(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var D_=/[#\/\?@]/g,lP=/[#\?:]/g,uP=/[#\?]/g,cP=/[#\?@]/g,dP=/#/g;function vl(u,h){this.h=this.g=null,this.i=u||null,this.j=!!h}function Oi(u){u.g||(u.g=new Map,u.h=0,u.i&&oP(u.i,function(h,m){u.add(decodeURIComponent(h.replace(/\+/g," ")),m)}))}t=vl.prototype,t.add=function(u,h){Oi(this),this.i=null,u=Wo(this,u);var m=this.g.get(u);return m||this.g.set(u,m=[]),m.push(h),this.h+=1,this};function L_(u,h){Oi(u),h=Wo(u,h),u.g.has(h)&&(u.i=null,u.h-=u.g.get(h).length,u.g.delete(h))}function M_(u,h){return Oi(u),h=Wo(u,h),u.g.has(h)}t.forEach=function(u,h){Oi(this),this.g.forEach(function(m,_){m.forEach(function(L){u.call(h,L,_,this)},this)},this)},t.na=function(){Oi(this);const u=Array.from(this.g.values()),h=Array.from(this.g.keys()),m=[];for(let _=0;_<h.length;_++){const L=u[_];for(let B=0;B<L.length;B++)m.push(h[_])}return m},t.V=function(u){Oi(this);let h=[];if(typeof u=="string")M_(this,u)&&(h=h.concat(this.g.get(Wo(this,u))));else{u=Array.from(this.g.values());for(let m=0;m<u.length;m++)h=h.concat(u[m])}return h},t.set=function(u,h){return Oi(this),this.i=null,u=Wo(this,u),M_(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[h]),this.h+=1,this},t.get=function(u,h){return u?(u=this.V(u),0<u.length?String(u[0]):h):h};function V_(u,h,m){L_(u,h),0<m.length&&(u.i=null,u.g.set(Wo(u,h),E(m)),u.h+=m.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],h=Array.from(this.g.keys());for(var m=0;m<h.length;m++){var _=h[m];const B=encodeURIComponent(String(_)),ee=this.V(_);for(_=0;_<ee.length;_++){var L=B;ee[_]!==""&&(L+="="+encodeURIComponent(String(ee[_]))),u.push(L)}}return this.i=u.join("&")};function Wo(u,h){return h=String(h),u.j&&(h=h.toLowerCase()),h}function hP(u,h){h&&!u.j&&(Oi(u),u.i=null,u.g.forEach(function(m,_){var L=_.toLowerCase();_!=L&&(L_(this,_),V_(this,L,m))},u)),u.j=h}function fP(u,h){const m=new Vs;if(a.Image){const _=new Image;_.onload=y(Ni,m,"TestLoadImage: loaded",!0,h,_),_.onerror=y(Ni,m,"TestLoadImage: error",!1,h,_),_.onabort=y(Ni,m,"TestLoadImage: abort",!1,h,_),_.ontimeout=y(Ni,m,"TestLoadImage: timeout",!1,h,_),a.setTimeout(function(){_.ontimeout&&_.ontimeout()},1e4),_.src=u}else h(!1)}function pP(u,h){const m=new Vs,_=new AbortController,L=setTimeout(()=>{_.abort(),Ni(m,"TestPingServer: timeout",!1,h)},1e4);fetch(u,{signal:_.signal}).then(B=>{clearTimeout(L),B.ok?Ni(m,"TestPingServer: ok",!0,h):Ni(m,"TestPingServer: server error",!1,h)}).catch(()=>{clearTimeout(L),Ni(m,"TestPingServer: error",!1,h)})}function Ni(u,h,m,_,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),_(m)}catch{}}function mP(){this.g=new Uc}function gP(u,h,m){const _=m||"";try{zc(u,function(L,B){let ee=L;c(L)&&(ee=wn(L)),h.push(_+B+"="+encodeURIComponent(ee))})}catch(L){throw h.push(_+"type="+encodeURIComponent("_badmap")),L}}function _l(u){this.l=u.Ub||null,this.j=u.eb||!1}w(_l,Bo),_l.prototype.g=function(){return new Kc(this.l,this.j)},_l.prototype.i=function(u){return function(){return u}}({});function Kc(u,h){ce.call(this),this.D=u,this.o=h,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}w(Kc,ce),t=Kc.prototype,t.open=function(u,h){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=h,this.readyState=1,El(this)},t.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const h={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(h.body=u),(this.D||a).fetch(new Request(this.A,h)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,wl(this)),this.readyState=0},t.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,El(this)),this.g&&(this.readyState=3,El(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;j_(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function j_(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}t.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var h=u.value?u.value:new Uint8Array(0);(h=this.v.decode(h,{stream:!u.done}))&&(this.response=this.responseText+=h)}u.done?wl(this):El(this),this.readyState==3&&j_(this)}},t.Ra=function(u){this.g&&(this.response=this.responseText=u,wl(this))},t.Qa=function(u){this.g&&(this.response=u,wl(this))},t.ga=function(){this.g&&wl(this)};function wl(u){u.readyState=4,u.l=null,u.j=null,u.v=null,El(u)}t.setRequestHeader=function(u,h){this.u.append(u,h)},t.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],h=this.h.entries();for(var m=h.next();!m.done;)m=m.value,u.push(m[0]+": "+m[1]),m=h.next();return u.join(`\r
`)};function El(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Kc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function F_(u){let h="";return j(u,function(m,_){h+=_,h+=":",h+=m,h+=`\r
`}),h}function fp(u,h,m){e:{for(_ in m){var _=!1;break e}_=!0}_||(m=F_(m),typeof u=="string"?m!=null&&encodeURIComponent(String(m)):st(u,h,m))}function wt(u){ce.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}w(wt,ce);var yP=/^https?$/i,vP=["POST","PUT"];t=wt.prototype,t.Ha=function(u){this.J=u},t.ea=function(u,h,m,_){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);h=h?h.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ve.g(),this.v=this.o?$c(this.o):$c(ve),this.g.onreadystatechange=p(this.Ea,this);try{this.B=!0,this.g.open(h,String(u),!0),this.B=!1}catch(B){U_(this,B);return}if(u=m||"",m=new Map(this.headers),_)if(Object.getPrototypeOf(_)===Object.prototype)for(var L in _)m.set(L,_[L]);else if(typeof _.keys=="function"&&typeof _.get=="function")for(const B of _.keys())m.set(B,_.get(B));else throw Error("Unknown input type for opt_headers: "+String(_));_=Array.from(m.keys()).find(B=>B.toLowerCase()=="content-type"),L=a.FormData&&u instanceof a.FormData,!(0<=Array.prototype.indexOf.call(vP,h,void 0))||_||L||m.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,ee]of m)this.g.setRequestHeader(B,ee);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{z_(this),this.u=!0,this.g.send(u),this.u=!1}catch(B){U_(this,B)}};function U_(u,h){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=h,u.m=5,$_(u),Gc(u)}function $_(u){u.A||(u.A=!0,ye(u,"complete"),ye(u,"error"))}t.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,ye(this,"complete"),ye(this,"abort"),Gc(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Gc(this,!0)),wt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?B_(this):this.bb())},t.bb=function(){B_(this)};function B_(u){if(u.h&&typeof o<"u"&&(!u.v[1]||Jr(u)!=4||u.Z()!=2)){if(u.u&&Jr(u)==4)Jt(u.Ea,0,u);else if(ye(u,"readystatechange"),Jr(u)==4){u.h=!1;try{const ee=u.Z();e:switch(ee){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var h=!0;break e;default:h=!1}var m;if(!(m=h)){var _;if(_=ee===0){var L=String(u.D).match(O_)[1]||null;!L&&a.self&&a.self.location&&(L=a.self.location.protocol.slice(0,-1)),_=!yP.test(L?L.toLowerCase():"")}m=_}if(m)ye(u,"complete"),ye(u,"success");else{u.m=6;try{var B=2<Jr(u)?u.g.statusText:""}catch{B=""}u.l=B+" ["+u.Z()+"]",$_(u)}}finally{Gc(u)}}}}function Gc(u,h){if(u.g){z_(u);const m=u.g,_=u.v[0]?()=>{}:null;u.g=null,u.v=null,h||ye(u,"ready");try{m.onreadystatechange=_}catch{}}}function z_(u){u.I&&(a.clearTimeout(u.I),u.I=null)}t.isActive=function(){return!!this.g};function Jr(u){return u.g?u.g.readyState:0}t.Z=function(){try{return 2<Jr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(u){if(this.g){var h=this.g.responseText;return u&&h.indexOf(u)==0&&(h=h.substring(u.length)),Fc(h)}};function H_(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function _P(u){const h={};u=(u.g&&2<=Jr(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let _=0;_<u.length;_++){if(v(u[_]))continue;var m=P(u[_]);const L=m[0];if(m=m[1],typeof m!="string")continue;m=m.trim();const B=h[L]||[];h[L]=B,B.push(m)}T(h,function(_){return _.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Tl(u,h,m){return m&&m.internalChannelParams&&m.internalChannelParams[u]||h}function q_(u){this.Aa=0,this.i=[],this.j=new Vs,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Tl("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Tl("baseRetryDelayMs",5e3,u),this.cb=Tl("retryDelaySeedMs",1e4,u),this.Wa=Tl("forwardChannelMaxRetries",2,u),this.wa=Tl("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new js(u&&u.concurrentRequestLimit),this.Da=new mP,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=q_.prototype,t.la=8,t.G=1,t.connect=function(u,h,m,_){At(0),this.W=u,this.H=h||{},m&&_!==void 0&&(this.H.OSID=m,this.H.OAID=_),this.F=this.X,this.I=e0(this,null,this.W),Zc(this)};function pp(u){if(W_(u),u.G==3){var h=u.U++,m=Zr(u.I);if(st(m,"SID",u.K),st(m,"RID",h),st(m,"TYPE","terminate"),Sl(u,m),h=new _e(u,u.j,h),h.L=2,h.v=Wc(Zr(m)),m=!1,a.navigator&&a.navigator.sendBeacon)try{m=a.navigator.sendBeacon(h.v.toString(),"")}catch{}!m&&a.Image&&(new Image().src=h.v,m=!0),m||(h.g=t0(h.j,null),h.g.ea(h.v)),h.F=Date.now(),it(h)}X_(u)}function Qc(u){u.g&&(gp(u),u.g.cancel(),u.g=null)}function W_(u){Qc(u),u.u&&(a.clearTimeout(u.u),u.u=null),Jc(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&a.clearTimeout(u.s),u.s=null)}function Zc(u){if(!Fs(u.h)&&!u.s){u.s=!0;var h=u.Ga;de||Y(),H||(de(),H=!0),G.add(h,u),u.B=0}}function wP(u,h){return Us(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=h.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=xi(p(u.Ga,u,h),Y_(u,u.B)),u.B++,!0)}t.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const L=new _e(this,this.j,u);let B=this.o;if(this.S&&(B?(B=g(B),R(B,this.S)):B=this.S),this.m!==null||this.O||(L.H=B,B=null),this.P)e:{for(var h=0,m=0;m<this.i.length;m++){t:{var _=this.i[m];if("__data__"in _.map&&(_=_.map.__data__,typeof _=="string")){_=_.length;break t}_=void 0}if(_===void 0)break;if(h+=_,4096<h){h=m;break e}if(h===4096||m===this.i.length-1){h=m+1;break e}}h=1e3}else h=1e3;h=G_(this,L,h),m=Zr(this.I),st(m,"RID",u),st(m,"CVER",22),this.D&&st(m,"X-HTTP-Session-Id",this.D),Sl(this,m),B&&(this.O?h="headers="+encodeURIComponent(String(F_(B)))+"&"+h:this.m&&fp(m,this.m,B)),et(this.h,L),this.Ua&&st(m,"TYPE","init"),this.P?(st(m,"$req",h),st(m,"SID","null"),L.T=!0,Ue(L,m,null)):Ue(L,m,h),this.G=2}}else this.G==3&&(u?K_(this,u):this.i.length==0||Fs(this.h)||K_(this))};function K_(u,h){var m;h?m=h.l:m=u.U++;const _=Zr(u.I);st(_,"SID",u.K),st(_,"RID",m),st(_,"AID",u.T),Sl(u,_),u.m&&u.o&&fp(_,u.m,u.o),m=new _e(u,u.j,m,u.B+1),u.m===null&&(m.H=u.o),h&&(u.i=h.D.concat(u.i)),h=G_(u,m,1e3),m.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),et(u.h,m),Ue(m,_,h)}function Sl(u,h){u.H&&j(u.H,function(m,_){st(h,_,m)}),u.l&&zc({},function(m,_){st(h,_,m)})}function G_(u,h,m){m=Math.min(u.i.length,m);var _=u.l?p(u.l.Na,u.l,u):null;e:{var L=u.i;let B=-1;for(;;){const ee=["count="+m];B==-1?0<m?(B=L[0].g,ee.push("ofs="+B)):B=0:ee.push("ofs="+B);let Je=!0;for(let Bt=0;Bt<m;Bt++){let He=L[Bt].g;const Xt=L[Bt].map;if(He-=B,0>He)B=Math.max(0,L[Bt].g-100),Je=!1;else try{gP(Xt,ee,"req"+He+"_")}catch{_&&_(Xt)}}if(Je){_=ee.join("&");break e}}}return u=u.i.splice(0,m),h.D=u,_}function Q_(u){if(!u.g&&!u.u){u.Y=1;var h=u.Fa;de||Y(),H||(de(),H=!0),G.add(h,u),u.v=0}}function mp(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=xi(p(u.Fa,u),Y_(u,u.v)),u.v++,!0)}t.Fa=function(){if(this.u=null,Z_(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=xi(p(this.ab,this),u)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,At(10),Qc(this),Z_(this))};function gp(u){u.A!=null&&(a.clearTimeout(u.A),u.A=null)}function Z_(u){u.g=new _e(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var h=Zr(u.qa);st(h,"RID","rpc"),st(h,"SID",u.K),st(h,"AID",u.T),st(h,"CI",u.F?"0":"1"),!u.F&&u.ja&&st(h,"TO",u.ja),st(h,"TYPE","xmlhttp"),Sl(u,h),u.m&&u.o&&fp(h,u.m,u.o),u.L&&(u.g.I=u.L);var m=u.g;u=u.ia,m.L=1,m.v=Wc(Zr(h)),m.m=null,m.P=!0,We(m,u)}t.Za=function(){this.C!=null&&(this.C=null,Qc(this),mp(this),At(19))};function Jc(u){u.C!=null&&(a.clearTimeout(u.C),u.C=null)}function J_(u,h){var m=null;if(u.g==h){Jc(u),gp(u),u.g=null;var _=2}else if(Ae(u.h,h))m=h.D,Yt(u.h,h),_=1;else return;if(u.G!=0){if(h.o)if(_==1){m=h.m?h.m.length:0,h=Date.now()-h.F;var L=u.B;_=qo(),ye(_,new Ms(_,m)),Zc(u)}else Q_(u);else if(L=h.s,L==3||L==0&&0<h.X||!(_==1&&wP(u,h)||_==2&&mp(u)))switch(m&&0<m.length&&(h=u.h,h.i=h.i.concat(m)),L){case 1:Bs(u,5);break;case 4:Bs(u,10);break;case 3:Bs(u,6);break;default:Bs(u,2)}}}function Y_(u,h){let m=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(m*=2),m*h}function Bs(u,h){if(u.j.info("Error code "+h),h==2){var m=p(u.fb,u),_=u.Xa;const L=!_;_=new $s(_||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Hc(_,"https"),Wc(_),L?fP(_.toString(),m):pP(_.toString(),m)}else At(2);u.G=0,u.l&&u.l.sa(h),X_(u),W_(u)}t.fb=function(u){u?(this.j.info("Successfully pinged google.com"),At(2)):(this.j.info("Failed to ping google.com"),At(1))};function X_(u){if(u.G=0,u.ka=[],u.l){const h=Ze(u.h);(h.length!=0||u.i.length!=0)&&(A(u.ka,h),A(u.ka,u.i),u.h.i.length=0,E(u.i),u.i.length=0),u.l.ra()}}function e0(u,h,m){var _=m instanceof $s?Zr(m):new $s(m);if(_.g!="")h&&(_.g=h+"."+_.g),qc(_,_.s);else{var L=a.location;_=L.protocol,h=h?h+"."+L.hostname:L.hostname,L=+L.port;var B=new $s(null);_&&Hc(B,_),h&&(B.g=h),L&&qc(B,L),m&&(B.l=m),_=B}return m=u.D,h=u.ya,m&&h&&st(_,m,h),st(_,"VER",u.la),Sl(u,_),_}function t0(u,h,m){if(h&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return h=u.Ca&&!u.pa?new wt(new _l({eb:m})):new wt(u.pa),h.Ha(u.J),h}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function n0(){}t=n0.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Yc(){}Yc.prototype.g=function(u,h){return new kn(u,h)};function kn(u,h){ce.call(this),this.g=new q_(h),this.l=u,this.h=h&&h.messageUrlParams||null,u=h&&h.messageHeaders||null,h&&h.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=h&&h.initMessageHeaders||null,h&&h.messageContentType&&(u?u["X-WebChannel-Content-Type"]=h.messageContentType:u={"X-WebChannel-Content-Type":h.messageContentType}),h&&h.va&&(u?u["X-WebChannel-Client-Profile"]=h.va:u={"X-WebChannel-Client-Profile":h.va}),this.g.S=u,(u=h&&h.Sb)&&!v(u)&&(this.g.m=u),this.v=h&&h.supportsCrossDomainXhr||!1,this.u=h&&h.sendRawJson||!1,(h=h&&h.httpSessionIdParam)&&!v(h)&&(this.g.D=h,u=this.h,u!==null&&h in u&&(u=this.h,h in u&&delete u[h])),this.j=new Ko(this)}w(kn,ce),kn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},kn.prototype.close=function(){pp(this.g)},kn.prototype.o=function(u){var h=this.g;if(typeof u=="string"){var m={};m.__data__=u,u=m}else this.u&&(m={},m.__data__=wn(u),u=m);h.i.push(new Qn(h.Ya++,u)),h.G==3&&Zc(h)},kn.prototype.N=function(){this.g.l=null,delete this.j,pp(this.g),delete this.g,kn.aa.N.call(this)};function r0(u){zo.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var h=u.__sm__;if(h){e:{for(const m in h){u=m;break e}u=void 0}(this.i=u)&&(u=this.i,h=h!==null&&u in h?h[u]:void 0),this.data=h}else this.data=u}w(r0,zo);function i0(){Ds.call(this),this.status=1}w(i0,Ds);function Ko(u){this.g=u}w(Ko,n0),Ko.prototype.ua=function(){ye(this.g,"a")},Ko.prototype.ta=function(u){ye(this.g,new r0(u))},Ko.prototype.sa=function(u){ye(this.g,new i0)},Ko.prototype.ra=function(){ye(this.g,"b")},Yc.prototype.createWebChannel=Yc.prototype.g,kn.prototype.send=kn.prototype.o,kn.prototype.open=kn.prototype.m,kn.prototype.close=kn.prototype.close,QI=function(){return new Yc},GI=function(){return qo()},KI=Wn,mg={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ne.NO_ERROR=0,ne.TIMEOUT=8,ne.HTTP_ERROR=6,Ud=ne,le.COMPLETE="complete",WI=le,fl.EventType=Cr,Cr.OPEN="a",Cr.CLOSE="b",Cr.ERROR="c",Cr.MESSAGE="d",ce.prototype.listen=ce.prototype.K,Kl=fl,qI=_l,wt.prototype.listenOnce=wt.prototype.L,wt.prototype.getLastError=wt.prototype.Ka,wt.prototype.getLastErrorCode=wt.prototype.Ba,wt.prototype.getStatus=wt.prototype.Z,wt.prototype.getResponseJson=wt.prototype.Oa,wt.prototype.getResponseText=wt.prototype.oa,wt.prototype.send=wt.prototype.ea,wt.prototype.setWithCredentials=wt.prototype.Ha,HI=wt}).apply(typeof yd<"u"?yd:typeof self<"u"?self:typeof window<"u"?window:{});const Aw="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}sn.UNAUTHENTICATED=new sn(null),sn.GOOGLE_CREDENTIALS=new sn("google-credentials-uid"),sn.FIRST_PARTY=new sn("first-party-uid"),sn.MOCK_USER=new sn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nl="10.13.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yo=new tv("@firebase/firestore");function Ol(){return yo.logLevel}function ue(t,...e){if(yo.logLevel<=Ve.DEBUG){const n=e.map(iv);yo.debug(`Firestore (${nl}): ${t}`,...n)}}function _i(t,...e){if(yo.logLevel<=Ve.ERROR){const n=e.map(iv);yo.error(`Firestore (${nl}): ${t}`,...n)}}function Fa(t,...e){if(yo.logLevel<=Ve.WARN){const n=e.map(iv);yo.warn(`Firestore (${nl}): ${t}`,...n)}}function iv(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ie(t="Unexpected state"){const e=`FIRESTORE (${nl}) INTERNAL ASSERTION FAILED: `+t;throw _i(e),new Error(e)}function Ye(t,e){t||Ie()}function Ce(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class oe extends Zt{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ci{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZI{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class k2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(sn.UNAUTHENTICATED))}shutdown(){}}class O2{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class N2{constructor(e){this.t=e,this.currentUser=sn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new ci;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new ci,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{ue("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(ue("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new ci)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(ue("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ye(typeof r.accessToken=="string"),new ZI(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Ye(e===null||typeof e=="string"),new sn(e)}}class D2{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=sn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class L2{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new D2(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(sn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class M2{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class V2{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=s=>{s.error!=null&&ue("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,ue("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{ue("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):ue("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ye(typeof n.token=="string"),this.R=n.token,new M2(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j2(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JI{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=j2(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function qe(t,e){return t<e?-1:t>e?1:0}function Ua(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new oe(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new oe(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new oe(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new oe(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Lt.fromMillis(Date.now())}static fromDate(e){return Lt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Lt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?qe(this.nanoseconds,e.nanoseconds):qe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{constructor(e){this.timestamp=e}static fromTimestamp(e){return new be(e)}static min(){return new be(new Lt(0,0))}static max(){return new be(new Lt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mu{constructor(e,n,r){n===void 0?n=0:n>e.length&&Ie(),r===void 0?r=e.length-n:r>e.length-n&&Ie(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Mu.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Mu?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class lt extends Mu{construct(e,n,r){return new lt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new oe(W.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new lt(n)}static emptyPath(){return new lt([])}}const F2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class qt extends Mu{construct(e,n,r){return new qt(e,n,r)}static isValidIdentifier(e){return F2.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),qt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new qt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new oe(W.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new oe(W.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new oe(W.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new oe(W.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new qt(n)}static emptyPath(){return new qt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ge{constructor(e){this.path=e}static fromPath(e){return new ge(lt.fromString(e))}static fromName(e){return new ge(lt.fromString(e).popFirst(5))}static empty(){return new ge(lt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&lt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return lt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ge(new lt(e.slice()))}}function U2(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=be.fromTimestamp(r===1e9?new Lt(n+1,0):new Lt(n,r));return new fs(i,ge.empty(),e)}function $2(t){return new fs(t.readTime,t.key,-1)}class fs{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new fs(be.min(),ge.empty(),-1)}static max(){return new fs(be.max(),ge.empty(),-1)}}function B2(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ge.comparator(t.documentKey,e.documentKey),n!==0?n:qe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class H2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wc(t){if(t.code!==W.FAILED_PRECONDITION||t.message!==z2)throw t;ue("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ie(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Q((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof Q?n:Q.resolve(n)}catch(n){return Q.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):Q.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):Q.reject(n)}static resolve(e){return new Q((n,r)=>{n(e)})}static reject(e){return new Q((n,r)=>{r(e)})}static waitFor(e){return new Q((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=Q.resolve(!1);for(const r of e)n=n.next(i=>i?Q.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new Q((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const c=l;n(e[c]).next(d=>{o[c]=d,++a,a===s&&r(o)},d=>i(d))}})}static doWhile(e,n){return new Q((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function q2(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ec(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sv{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}sv.oe=-1;function Rf(t){return t==null}function Rh(t){return t===0&&1/t==-1/0}function W2(t){return typeof t=="number"&&Number.isInteger(t)&&!Rh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bw(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function rl(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function YI(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{constructor(e,n){this.comparator=e,this.root=n||Ht.EMPTY}insert(e,n){return new yt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ht.BLACK,null,null))}remove(e){return new yt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ht.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new vd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new vd(this.root,e,this.comparator,!1)}getReverseIterator(){return new vd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new vd(this.root,e,this.comparator,!0)}}class vd{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ht{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Ht.RED,this.left=i??Ht.EMPTY,this.right=s??Ht.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Ht(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Ht.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Ht.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ht.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ht.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ie();const e=this.left.check();if(e!==this.right.check())throw Ie();return e+(this.isRed()?0:1)}}Ht.EMPTY=null,Ht.RED=!0,Ht.BLACK=!1;Ht.EMPTY=new class{constructor(){this.size=0}get key(){throw Ie()}get value(){throw Ie()}get color(){throw Ie()}get left(){throw Ie()}get right(){throw Ie()}copy(e,n,r,i,s){return this}insert(e,n,r){return new Ht(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{constructor(e){this.comparator=e,this.data=new yt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Cw(this.data.getIterator())}getIteratorFrom(e){return new Cw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Kt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Kt(this.comparator);return n.data=e,n}}class Cw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yr{constructor(e){this.fields=e,e.sort(qt.comparator)}static empty(){return new yr([])}unionWith(e){let n=new Kt(qt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new yr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ua(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XI extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new XI("Invalid base64 string: "+s):s}}(e);return new Qt(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new Qt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return qe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Qt.EMPTY_BYTE_STRING=new Qt("");const K2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ps(t){if(Ye(!!t),typeof t=="string"){let e=0;const n=K2.exec(t);if(Ye(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:It(t.seconds),nanos:It(t.nanos)}}function It(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function vo(t){return typeof t=="string"?Qt.fromBase64String(t):Qt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ov(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function av(t){const e=t.mapValue.fields.__previous_value__;return ov(e)?av(e):e}function Vu(t){const e=ps(t.mapValue.fields.__local_write_time__.timestampValue);return new Lt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G2{constructor(e,n,r,i,s,o,a,l,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}class ju{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new ju("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof ju&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _d={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function _o(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?ov(t)?4:Z2(t)?9007199254740991:Q2(t)?10:11:Ie()}function zr(t,e){if(t===e)return!0;const n=_o(t);if(n!==_o(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Vu(t).isEqual(Vu(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=ps(i.timestampValue),a=ps(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return vo(i.bytesValue).isEqual(vo(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return It(i.geoPointValue.latitude)===It(s.geoPointValue.latitude)&&It(i.geoPointValue.longitude)===It(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return It(i.integerValue)===It(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=It(i.doubleValue),a=It(s.doubleValue);return o===a?Rh(o)===Rh(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Ua(t.arrayValue.values||[],e.arrayValue.values||[],zr);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(bw(o)!==bw(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!zr(o[l],a[l])))return!1;return!0}(t,e);default:return Ie()}}function Fu(t,e){return(t.values||[]).find(n=>zr(n,e))!==void 0}function $a(t,e){if(t===e)return 0;const n=_o(t),r=_o(e);if(n!==r)return qe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return qe(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=It(s.integerValue||s.doubleValue),l=It(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return Pw(t.timestampValue,e.timestampValue);case 4:return Pw(Vu(t),Vu(e));case 5:return qe(t.stringValue,e.stringValue);case 6:return function(s,o){const a=vo(s),l=vo(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){const d=qe(a[c],l[c]);if(d!==0)return d}return qe(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=qe(It(s.latitude),It(o.latitude));return a!==0?a:qe(It(s.longitude),It(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return xw(t.arrayValue,e.arrayValue);case 10:return function(s,o){var a,l,c,d;const f=s.fields||{},p=o.fields||{},y=(a=f.value)===null||a===void 0?void 0:a.arrayValue,w=(l=p.value)===null||l===void 0?void 0:l.arrayValue,E=qe(((c=y==null?void 0:y.values)===null||c===void 0?void 0:c.length)||0,((d=w==null?void 0:w.values)===null||d===void 0?void 0:d.length)||0);return E!==0?E:xw(y,w)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===_d.mapValue&&o===_d.mapValue)return 0;if(s===_d.mapValue)return 1;if(o===_d.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),c=o.fields||{},d=Object.keys(c);l.sort(),d.sort();for(let f=0;f<l.length&&f<d.length;++f){const p=qe(l[f],d[f]);if(p!==0)return p;const y=$a(a[l[f]],c[d[f]]);if(y!==0)return y}return qe(l.length,d.length)}(t.mapValue,e.mapValue);default:throw Ie()}}function Pw(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return qe(t,e);const n=ps(t),r=ps(e),i=qe(n.seconds,r.seconds);return i!==0?i:qe(n.nanos,r.nanos)}function xw(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=$a(n[i],r[i]);if(s)return s}return qe(n.length,r.length)}function Ba(t){return gg(t)}function gg(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=ps(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return vo(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ge.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=gg(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${gg(n.fields[o])}`;return i+"}"}(t.mapValue):Ie()}function kw(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function yg(t){return!!t&&"integerValue"in t}function lv(t){return!!t&&"arrayValue"in t}function Ow(t){return!!t&&"nullValue"in t}function Nw(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function $d(t){return!!t&&"mapValue"in t}function Q2(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function cu(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return rl(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=cu(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=cu(t.arrayValue.values[n]);return e}return Object.assign({},t)}function Z2(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nr{constructor(e){this.value=e}static empty(){return new nr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!$d(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=cu(n)}setAll(e){let n=qt.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=cu(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());$d(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return zr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];$d(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){rl(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new nr(cu(this.value))}}function eR(t){const e=[];return rl(t.fields,(n,r)=>{const i=new qt([n]);if($d(r)){const s=eR(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new yr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new an(e,0,be.min(),be.min(),be.min(),nr.empty(),0)}static newFoundDocument(e,n,r,i){return new an(e,1,n,be.min(),r,i,0)}static newNoDocument(e,n){return new an(e,2,n,be.min(),be.min(),nr.empty(),0)}static newUnknownDocument(e,n){return new an(e,3,n,be.min(),be.min(),nr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(be.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=nr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=nr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=be.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof an&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new an(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ah{constructor(e,n){this.position=e,this.inclusive=n}}function Dw(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=ge.comparator(ge.fromName(o.referenceValue),n.key):r=$a(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function Lw(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!zr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bh{constructor(e,n="asc"){this.field=e,this.dir=n}}function J2(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tR{}class xt extends tR{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new X2(e,n,r):n==="array-contains"?new nN(e,r):n==="in"?new rN(e,r):n==="not-in"?new iN(e,r):n==="array-contains-any"?new sN(e,r):new xt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new eN(e,r):new tN(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison($a(n,this.value)):n!==null&&_o(this.value)===_o(n)&&this.matchesComparison($a(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ie()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Sr extends tR{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Sr(e,n)}matches(e){return nR(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function nR(t){return t.op==="and"}function rR(t){return Y2(t)&&nR(t)}function Y2(t){for(const e of t.filters)if(e instanceof Sr)return!1;return!0}function vg(t){if(t instanceof xt)return t.field.canonicalString()+t.op.toString()+Ba(t.value);if(rR(t))return t.filters.map(e=>vg(e)).join(",");{const e=t.filters.map(n=>vg(n)).join(",");return`${t.op}(${e})`}}function iR(t,e){return t instanceof xt?function(r,i){return i instanceof xt&&r.op===i.op&&r.field.isEqual(i.field)&&zr(r.value,i.value)}(t,e):t instanceof Sr?function(r,i){return i instanceof Sr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&iR(o,i.filters[a]),!0):!1}(t,e):void Ie()}function sR(t){return t instanceof xt?function(n){return`${n.field.canonicalString()} ${n.op} ${Ba(n.value)}`}(t):t instanceof Sr?function(n){return n.op.toString()+" {"+n.getFilters().map(sR).join(" ,")+"}"}(t):"Filter"}class X2 extends xt{constructor(e,n,r){super(e,n,r),this.key=ge.fromName(r.referenceValue)}matches(e){const n=ge.comparator(e.key,this.key);return this.matchesComparison(n)}}class eN extends xt{constructor(e,n){super(e,"in",n),this.keys=oR("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class tN extends xt{constructor(e,n){super(e,"not-in",n),this.keys=oR("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function oR(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ge.fromName(r.referenceValue))}class nN extends xt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return lv(n)&&Fu(n.arrayValue,this.value)}}class rN extends xt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Fu(this.value.arrayValue,n)}}class iN extends xt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Fu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Fu(this.value.arrayValue,n)}}class sN extends xt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!lv(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Fu(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oN{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}}function Mw(t,e=null,n=[],r=[],i=null,s=null,o=null){return new oN(t,e,n,r,i,s,o)}function uv(t){const e=Ce(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>vg(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Rf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Ba(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Ba(r)).join(",")),e.ue=n}return e.ue}function cv(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!J2(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!iR(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Lw(t.startAt,e.startAt)&&Lw(t.endAt,e.endAt)}function _g(t){return ge.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tc{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function aN(t,e,n,r,i,s,o,a){return new Tc(t,e,n,r,i,s,o,a)}function dv(t){return new Tc(t)}function Vw(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function aR(t){return t.collectionGroup!==null}function du(t){const e=Ce(t);if(e.ce===null){e.ce=[];const n=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Kt(qt.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new bh(s,r))}),n.has(qt.keyField().canonicalString())||e.ce.push(new bh(qt.keyField(),r))}return e.ce}function Vr(t){const e=Ce(t);return e.le||(e.le=lN(e,du(t))),e.le}function lN(t,e){if(t.limitType==="F")return Mw(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new bh(i.field,s)});const n=t.endAt?new Ah(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Ah(t.startAt.position,t.startAt.inclusive):null;return Mw(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function wg(t,e){const n=t.filters.concat([e]);return new Tc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Eg(t,e,n){return new Tc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Af(t,e){return cv(Vr(t),Vr(e))&&t.limitType===e.limitType}function lR(t){return`${uv(Vr(t))}|lt:${t.limitType}`}function ea(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>sR(i)).join(", ")}]`),Rf(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Ba(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Ba(i)).join(",")),`Target(${r})`}(Vr(t))}; limitType=${t.limitType})`}function bf(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):ge.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of du(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,l){const c=Dw(o,a,l);return o.inclusive?c<=0:c<0}(r.startAt,du(r),i)||r.endAt&&!function(o,a,l){const c=Dw(o,a,l);return o.inclusive?c>=0:c>0}(r.endAt,du(r),i))}(t,e)}function uN(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function uR(t){return(e,n)=>{let r=!1;for(const i of du(t)){const s=cN(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function cN(t,e,n){const r=t.field.isKeyField()?ge.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),c=a.data.field(s);return l!==null&&c!==null?$a(l,c):Ie()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ie()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class il{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){rl(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return YI(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dN=new yt(ge.comparator);function wi(){return dN}const cR=new yt(ge.comparator);function Gl(...t){let e=cR;for(const n of t)e=e.insert(n.key,n);return e}function dR(t){let e=cR;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Ys(){return hu()}function hR(){return hu()}function hu(){return new il(t=>t.toString(),(t,e)=>t.isEqual(e))}const hN=new yt(ge.comparator),fN=new Kt(ge.comparator);function Me(...t){let e=fN;for(const n of t)e=e.add(n);return e}const pN=new Kt(qe);function mN(){return pN}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hv(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Rh(e)?"-0":e}}function fR(t){return{integerValue:""+t}}function gN(t,e){return W2(e)?fR(e):hv(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cf{constructor(){this._=void 0}}function yN(t,e,n){return t instanceof Ch?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&ov(s)&&(s=av(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof Uu?mR(t,e):t instanceof $u?gR(t,e):function(i,s){const o=pR(i,s),a=jw(o)+jw(i.Pe);return yg(o)&&yg(i.Pe)?fR(a):hv(i.serializer,a)}(t,e)}function vN(t,e,n){return t instanceof Uu?mR(t,e):t instanceof $u?gR(t,e):n}function pR(t,e){return t instanceof Ph?function(r){return yg(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class Ch extends Cf{}class Uu extends Cf{constructor(e){super(),this.elements=e}}function mR(t,e){const n=yR(e);for(const r of t.elements)n.some(i=>zr(i,r))||n.push(r);return{arrayValue:{values:n}}}class $u extends Cf{constructor(e){super(),this.elements=e}}function gR(t,e){let n=yR(e);for(const r of t.elements)n=n.filter(i=>!zr(i,r));return{arrayValue:{values:n}}}class Ph extends Cf{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function jw(t){return It(t.integerValue||t.doubleValue)}function yR(t){return lv(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function _N(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Uu&&i instanceof Uu||r instanceof $u&&i instanceof $u?Ua(r.elements,i.elements,zr):r instanceof Ph&&i instanceof Ph?zr(r.Pe,i.Pe):r instanceof Ch&&i instanceof Ch}(t.transform,e.transform)}class wN{constructor(e,n){this.version=e,this.transformResults=n}}class jr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new jr}static exists(e){return new jr(void 0,e)}static updateTime(e){return new jr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Bd(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Pf{}function vR(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new wR(t.key,jr.none()):new Sc(t.key,t.data,jr.none());{const n=t.data,r=nr.empty();let i=new Kt(qt.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Oo(t.key,r,new yr(i.toArray()),jr.none())}}function EN(t,e,n){t instanceof Sc?function(i,s,o){const a=i.value.clone(),l=Uw(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Oo?function(i,s,o){if(!Bd(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=Uw(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(_R(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function fu(t,e,n,r){return t instanceof Sc?function(s,o,a,l){if(!Bd(s.precondition,o))return a;const c=s.value.clone(),d=$w(s.fieldTransforms,l,o);return c.setAll(d),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof Oo?function(s,o,a,l){if(!Bd(s.precondition,o))return a;const c=$w(s.fieldTransforms,l,o),d=o.data;return d.setAll(_R(s)),d.setAll(c),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(s,o,a){return Bd(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function TN(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=pR(r.transform,i||null);s!=null&&(n===null&&(n=nr.empty()),n.set(r.field,s))}return n||null}function Fw(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Ua(r,i,(s,o)=>_N(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Sc extends Pf{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Oo extends Pf{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function _R(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function Uw(t,e,n){const r=new Map;Ye(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,vN(o,a,n[i]))}return r}function $w(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,yN(s,o,e))}return r}class wR extends Pf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class SN extends Pf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IN{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&EN(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=fu(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=fu(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=hR();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=vR(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(be.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Me())}isEqual(e){return this.batchId===e.batchId&&Ua(this.mutations,e.mutations,(n,r)=>Fw(n,r))&&Ua(this.baseMutations,e.baseMutations,(n,r)=>Fw(n,r))}}class fv{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Ye(e.mutations.length===r.length);let i=function(){return hN}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new fv(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RN{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AN{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var bt,je;function bN(t){switch(t){default:return Ie();case W.CANCELLED:case W.UNKNOWN:case W.DEADLINE_EXCEEDED:case W.RESOURCE_EXHAUSTED:case W.INTERNAL:case W.UNAVAILABLE:case W.UNAUTHENTICATED:return!1;case W.INVALID_ARGUMENT:case W.NOT_FOUND:case W.ALREADY_EXISTS:case W.PERMISSION_DENIED:case W.FAILED_PRECONDITION:case W.ABORTED:case W.OUT_OF_RANGE:case W.UNIMPLEMENTED:case W.DATA_LOSS:return!0}}function ER(t){if(t===void 0)return _i("GRPC error has no .code"),W.UNKNOWN;switch(t){case bt.OK:return W.OK;case bt.CANCELLED:return W.CANCELLED;case bt.UNKNOWN:return W.UNKNOWN;case bt.DEADLINE_EXCEEDED:return W.DEADLINE_EXCEEDED;case bt.RESOURCE_EXHAUSTED:return W.RESOURCE_EXHAUSTED;case bt.INTERNAL:return W.INTERNAL;case bt.UNAVAILABLE:return W.UNAVAILABLE;case bt.UNAUTHENTICATED:return W.UNAUTHENTICATED;case bt.INVALID_ARGUMENT:return W.INVALID_ARGUMENT;case bt.NOT_FOUND:return W.NOT_FOUND;case bt.ALREADY_EXISTS:return W.ALREADY_EXISTS;case bt.PERMISSION_DENIED:return W.PERMISSION_DENIED;case bt.FAILED_PRECONDITION:return W.FAILED_PRECONDITION;case bt.ABORTED:return W.ABORTED;case bt.OUT_OF_RANGE:return W.OUT_OF_RANGE;case bt.UNIMPLEMENTED:return W.UNIMPLEMENTED;case bt.DATA_LOSS:return W.DATA_LOSS;default:return Ie()}}(je=bt||(bt={}))[je.OK=0]="OK",je[je.CANCELLED=1]="CANCELLED",je[je.UNKNOWN=2]="UNKNOWN",je[je.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",je[je.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",je[je.NOT_FOUND=5]="NOT_FOUND",je[je.ALREADY_EXISTS=6]="ALREADY_EXISTS",je[je.PERMISSION_DENIED=7]="PERMISSION_DENIED",je[je.UNAUTHENTICATED=16]="UNAUTHENTICATED",je[je.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",je[je.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",je[je.ABORTED=10]="ABORTED",je[je.OUT_OF_RANGE=11]="OUT_OF_RANGE",je[je.UNIMPLEMENTED=12]="UNIMPLEMENTED",je[je.INTERNAL=13]="INTERNAL",je[je.UNAVAILABLE=14]="UNAVAILABLE",je[je.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CN(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PN=new so([4294967295,4294967295],0);function Bw(t){const e=CN().encode(t),n=new zI;return n.update(e),new Uint8Array(n.digest())}function zw(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new so([n,r],0),new so([i,s],0)]}class pv{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ql(`Invalid padding: ${n}`);if(r<0)throw new Ql(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ql(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Ql(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=so.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(so.fromNumber(r)));return i.compare(PN)===1&&(i=new so([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=Bw(e),[r,i]=zw(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new pv(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;const n=Bw(e),[r,i]=zw(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Ql extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xf{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Ic.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new xf(be.min(),i,new yt(qe),wi(),Me())}}class Ic{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Ic(r,n,Me(),Me(),Me())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zd{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class TR{constructor(e,n){this.targetId=e,this.me=n}}class SR{constructor(e,n,r=Qt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class Hw{constructor(){this.fe=0,this.ge=Ww(),this.pe=Qt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Me(),n=Me(),r=Me();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Ie()}}),new Ic(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=Ww()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Ye(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class xN{constructor(e){this.Le=e,this.Be=new Map,this.ke=wi(),this.qe=qw(),this.Qe=new yt(qe)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:Ie()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const s=i.target;if(_g(s))if(r===0){const o=new ge(s.path);this.Ue(n,o,an.newNoDocument(o,be.min()))}else Ye(r===1);else{const o=this.Ye(n);if(o!==r){const a=this.Ze(e),l=a?this.Xe(a,e,o):1;if(l!==0){this.je(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,c)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=vo(r).toUint8Array()}catch(l){if(l instanceof XI)return Fa("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new pv(o,i,s)}catch(l){return Fa(l instanceof Ql?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,s,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((s,o)=>{const a=this.Je(o);if(a){if(s.current&&_g(a.target)){const l=new ge(a.target.path);this.ke.get(l)!==null||this.it(o,l)||this.Ue(o,l,an.newNoDocument(l,e))}s.be&&(n.set(o,s.ve()),s.Ce())}});let r=Me();this.qe.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.Je(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));const i=new xf(e,n,this.Qe,this.ke,r);return this.ke=wi(),this.qe=qw(),this.Qe=new yt(qe),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new Hw,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Kt(qe),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||ue("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Hw),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function qw(){return new yt(ge.comparator)}function Ww(){return new yt(ge.comparator)}const kN={asc:"ASCENDING",desc:"DESCENDING"},ON={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},NN={and:"AND",or:"OR"};class DN{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Tg(t,e){return t.useProto3Json||Rf(e)?e:{value:e}}function xh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function IR(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function LN(t,e){return xh(t,e.toTimestamp())}function Fr(t){return Ye(!!t),be.fromTimestamp(function(n){const r=ps(n);return new Lt(r.seconds,r.nanos)}(t))}function mv(t,e){return Sg(t,e).canonicalString()}function Sg(t,e){const n=function(i){return new lt(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function RR(t){const e=lt.fromString(t);return Ye(xR(e)),e}function Ig(t,e){return mv(t.databaseId,e.path)}function Qp(t,e){const n=RR(e);if(n.get(1)!==t.databaseId.projectId)throw new oe(W.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new oe(W.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ge(bR(n))}function AR(t,e){return mv(t.databaseId,e)}function MN(t){const e=RR(t);return e.length===4?lt.emptyPath():bR(e)}function Rg(t){return new lt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function bR(t){return Ye(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function Kw(t,e,n){return{name:Ig(t,e),fields:n.value.mapValue.fields}}function VN(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:Ie()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(c,d){return c.useProto3Json?(Ye(d===void 0||typeof d=="string"),Qt.fromBase64String(d||"")):(Ye(d===void 0||d instanceof Buffer||d instanceof Uint8Array),Qt.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const d=c.code===void 0?W.UNKNOWN:ER(c.code);return new oe(d,c.message||"")}(o);n=new SR(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Qp(t,r.document.name),s=Fr(r.document.updateTime),o=r.document.createTime?Fr(r.document.createTime):be.min(),a=new nr({mapValue:{fields:r.document.fields}}),l=an.newFoundDocument(i,s,o,a),c=r.targetIds||[],d=r.removedTargetIds||[];n=new zd(c,d,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Qp(t,r.document),s=r.readTime?Fr(r.readTime):be.min(),o=an.newNoDocument(i,s),a=r.removedTargetIds||[];n=new zd([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Qp(t,r.document),s=r.removedTargetIds||[];n=new zd([],s,i,null)}else{if(!("filter"in e))return Ie();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new AN(i,s),a=r.targetId;n=new TR(a,o)}}return n}function jN(t,e){let n;if(e instanceof Sc)n={update:Kw(t,e.key,e.value)};else if(e instanceof wR)n={delete:Ig(t,e.key)};else if(e instanceof Oo)n={update:Kw(t,e.key,e.data),updateMask:KN(e.fieldMask)};else{if(!(e instanceof SN))return Ie();n={verify:Ig(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof Ch)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Uu)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof $u)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Ph)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw Ie()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:LN(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Ie()}(t,e.precondition)),n}function FN(t,e){return t&&t.length>0?(Ye(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?Fr(i.updateTime):Fr(s);return o.isEqual(be.min())&&(o=Fr(s)),new wN(o,i.transformResults||[])}(n,e))):[]}function UN(t,e){return{documents:[AR(t,e.path)]}}function $N(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=AR(t,i);const s=function(c){if(c.length!==0)return PR(Sr.create(c,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(c){if(c.length!==0)return c.map(d=>function(p){return{field:ta(p.field),direction:HN(p.dir)}}(d))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=Tg(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{_t:n,parent:i}}function BN(t){let e=MN(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Ye(r===1);const d=n.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let s=[];n.where&&(s=function(f){const p=CR(f);return p instanceof Sr&&rR(p)?p.getFilters():[p]}(n.where));let o=[];n.orderBy&&(o=function(f){return f.map(p=>function(w){return new bh(na(w.field),function(A){switch(A){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(w.direction))}(p))}(n.orderBy));let a=null;n.limit&&(a=function(f){let p;return p=typeof f=="object"?f.value:f,Rf(p)?null:p}(n.limit));let l=null;n.startAt&&(l=function(f){const p=!!f.before,y=f.values||[];return new Ah(y,p)}(n.startAt));let c=null;return n.endAt&&(c=function(f){const p=!f.before,y=f.values||[];return new Ah(y,p)}(n.endAt)),aN(e,i,o,s,a,"F",l,c)}function zN(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ie()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function CR(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=na(n.unaryFilter.field);return xt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=na(n.unaryFilter.field);return xt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=na(n.unaryFilter.field);return xt.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=na(n.unaryFilter.field);return xt.create(o,"!=",{nullValue:"NULL_VALUE"});default:return Ie()}}(t):t.fieldFilter!==void 0?function(n){return xt.create(na(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ie()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Sr.create(n.compositeFilter.filters.map(r=>CR(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Ie()}}(n.compositeFilter.op))}(t):Ie()}function HN(t){return kN[t]}function qN(t){return ON[t]}function WN(t){return NN[t]}function ta(t){return{fieldPath:t.canonicalString()}}function na(t){return qt.fromServerFormat(t.fieldPath)}function PR(t){return t instanceof xt?function(n){if(n.op==="=="){if(Nw(n.value))return{unaryFilter:{field:ta(n.field),op:"IS_NAN"}};if(Ow(n.value))return{unaryFilter:{field:ta(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Nw(n.value))return{unaryFilter:{field:ta(n.field),op:"IS_NOT_NAN"}};if(Ow(n.value))return{unaryFilter:{field:ta(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ta(n.field),op:qN(n.op),value:n.value}}}(t):t instanceof Sr?function(n){const r=n.getFilters().map(i=>PR(i));return r.length===1?r[0]:{compositeFilter:{op:WN(n.op),filters:r}}}(t):Ie()}function KN(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function xR(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zi{constructor(e,n,r,i,s=be.min(),o=be.min(),a=Qt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Zi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Zi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Zi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Zi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GN{constructor(e){this.ct=e}}function QN(t){const e=BN({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Eg(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZN{constructor(){this.un=new JN}addToCollectionParentIndex(e,n){return this.un.add(n),Q.resolve()}getCollectionParents(e,n){return Q.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return Q.resolve()}deleteFieldIndex(e,n){return Q.resolve()}deleteAllFieldIndexes(e){return Q.resolve()}createTargetIndexes(e,n){return Q.resolve()}getDocumentsMatchingTarget(e,n){return Q.resolve(null)}getIndexType(e,n){return Q.resolve(0)}getFieldIndexes(e,n){return Q.resolve([])}getNextCollectionGroupToUpdate(e){return Q.resolve(null)}getMinOffset(e,n){return Q.resolve(fs.min())}getMinOffsetFromCollectionGroup(e,n){return Q.resolve(fs.min())}updateCollectionGroup(e,n,r){return Q.resolve()}updateIndexEntries(e,n){return Q.resolve()}}class JN{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Kt(lt.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Kt(lt.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class za{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new za(0)}static kn(){return new za(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YN{constructor(){this.changes=new il(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,an.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Q.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XN{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eD{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&fu(r.mutation,i,yr.empty(),Lt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Me()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Me()){const i=Ys();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Gl();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Ys();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Me()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=wi();const o=hu(),a=function(){return hu()}();return n.forEach((l,c)=>{const d=r.get(c.key);i.has(c.key)&&(d===void 0||d.mutation instanceof Oo)?s=s.insert(c.key,c):d!==void 0?(o.set(c.key,d.mutation.getFieldMask()),fu(d.mutation,c,d.mutation.getFieldMask(),Lt.now())):o.set(c.key,yr.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((c,d)=>o.set(c,d)),n.forEach((c,d)=>{var f;return a.set(c,new XN(d,(f=o.get(c))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(e,n){const r=hu();let i=new yt((o,a)=>o-a),s=Me();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let d=r.get(l)||yr.empty();d=a.applyToLocalView(c,d),r.set(l,d);const f=(i.get(a.batchId)||Me()).add(l);i=i.insert(a.batchId,f)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,d=l.value,f=hR();d.forEach(p=>{if(!s.has(p)){const y=vR(n.get(p),r.get(p));y!==null&&f.set(p,y),s=s.add(p)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,f))}return Q.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return ge.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):aR(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):Q.resolve(Ys());let a=-1,l=s;return o.next(c=>Q.forEach(c,(d,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),s.get(d)?Q.resolve():this.remoteDocumentCache.getEntry(e,d).next(p=>{l=l.insert(d,p)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,l,c,Me())).next(d=>({batchId:a,changes:dR(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ge(n)).next(r=>{let i=Gl();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=Gl();return this.indexManager.getCollectionParents(e,s).next(a=>Q.forEach(a,l=>{const c=function(f,p){return new Tc(p,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(d=>{d.forEach((f,p)=>{o=o.insert(f,p)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((l,c)=>{const d=c.getKey();o.get(d)===null&&(o=o.insert(d,an.newInvalidDocument(d)))});let a=Gl();return o.forEach((l,c)=>{const d=s.get(l);d!==void 0&&fu(d.mutation,c,yr.empty(),Lt.now()),bf(n,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tD{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return Q.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Fr(i.createTime)}}(n)),Q.resolve()}getNamedQuery(e,n){return Q.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:QN(i.bundledQuery),readTime:Fr(i.readTime)}}(n)),Q.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nD{constructor(){this.overlays=new yt(ge.comparator),this.Ir=new Map}getOverlay(e,n){return Q.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Ys();return Q.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),Q.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(r)),Q.resolve()}getOverlaysForCollection(e,n,r){const i=Ys(),s=n.length+1,o=new ge(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return Q.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new yt((c,d)=>c-d);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let d=s.get(c.largestBatchId);d===null&&(d=Ys(),s=s.insert(c.largestBatchId,d)),d.set(c.getKey(),c)}}const a=Ys(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,d)=>a.set(c,d)),!(a.size()>=i)););return Q.resolve(a)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new RN(n,r));let s=this.Ir.get(n);s===void 0&&(s=Me(),this.Ir.set(n,s)),this.Ir.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rD{constructor(){this.sessionToken=Qt.EMPTY_BYTE_STRING}getSessionToken(e){return Q.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Q.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gv{constructor(){this.Tr=new Kt(jt.Er),this.dr=new Kt(jt.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new jt(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new jt(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new ge(new lt([])),r=new jt(n,e),i=new jt(n,e+1),s=[];return this.dr.forEachInRange([r,i],o=>{this.Vr(o),s.push(o.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new ge(new lt([])),r=new jt(n,e),i=new jt(n,e+1);let s=Me();return this.dr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new jt(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class jt{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return ge.comparator(e.key,n.key)||qe(e.wr,n.wr)}static Ar(e,n){return qe(e.wr,n.wr)||ge.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iD{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new Kt(jt.Er)}checkEmpty(e){return Q.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new IN(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.br=this.br.add(new jt(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return Q.resolve(o)}lookupMutationBatch(e,n){return Q.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.vr(r),s=i<0?0:i;return Q.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return Q.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return Q.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new jt(n,0),i=new jt(n,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([r,i],o=>{const a=this.Dr(o.wr);s.push(a)}),Q.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Kt(qe);return n.forEach(i=>{const s=new jt(i,0),o=new jt(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,o],a=>{r=r.add(a.wr)})}),Q.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;ge.isDocumentKey(s)||(s=s.child(""));const o=new jt(new ge(s),0);let a=new Kt(qe);return this.br.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(l.wr)),!0)},o),Q.resolve(this.Cr(a))}Cr(e){const n=[];return e.forEach(r=>{const i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Ye(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return Q.forEach(n.mutations,i=>{const s=new jt(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new jt(n,0),i=this.br.firstAfterOrEqual(r);return Q.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,Q.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sD{constructor(e){this.Mr=e,this.docs=function(){return new yt(ge.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return Q.resolve(r?r.document.mutableCopy():an.newInvalidDocument(n))}getEntries(e,n){let r=wi();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():an.newInvalidDocument(i))}),Q.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=wi();const o=n.path,a=new ge(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:d}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||B2($2(d),r)<=0||(i.has(d.key)||bf(n,d))&&(s=s.insert(d.key,d.mutableCopy()))}return Q.resolve(s)}getAllFromCollectionGroup(e,n,r,i){Ie()}Or(e,n){return Q.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new oD(this)}getSize(e){return Q.resolve(this.size)}}class oD extends YN{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),Q.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aD{constructor(e){this.persistence=e,this.Nr=new il(n=>uv(n),cv),this.lastRemoteSnapshotVersion=be.min(),this.highestTargetId=0,this.Lr=0,this.Br=new gv,this.targetCount=0,this.kr=za.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),Q.resolve()}getLastRemoteSnapshotVersion(e){return Q.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Q.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),Q.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),Q.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new za(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,Q.resolve()}updateTargetData(e,n){return this.Kn(n),Q.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,Q.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Nr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),Q.waitFor(s).next(()=>i)}getTargetCount(e){return Q.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return Q.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),Q.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),Q.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),Q.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return Q.resolve(r)}containsKey(e,n){return Q.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lD{constructor(e,n){this.qr={},this.overlays={},this.Qr=new sv(0),this.Kr=!1,this.Kr=!0,this.$r=new rD,this.referenceDelegate=e(this),this.Ur=new aD(this),this.indexManager=new ZN,this.remoteDocumentCache=function(i){return new sD(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new GN(n),this.Gr=new tD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new nD,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new iD(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){ue("MemoryPersistence","Starting transaction:",e);const i=new uD(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(e,n){return Q.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class uD extends H2{constructor(e){super(),this.currentSequenceNumber=e}}class yv{constructor(e){this.persistence=e,this.Jr=new gv,this.Yr=null}static Zr(e){return new yv(e)}get Xr(){if(this.Yr)return this.Yr;throw Ie()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),Q.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),Q.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),Q.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Q.forEach(this.Xr,r=>{const i=ge.fromPath(r);return this.ei(e,i).next(s=>{s||n.removeEntry(i,be.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return Q.or([()=>Q.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vv{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=Me(),i=Me();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new vv(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cD{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dD{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return fO()?8:q2(un())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.Yi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Zi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new cD;return this.Xi(e,n,o).next(a=>{if(s.result=a,this.zi)return this.es(e,n,o,a.size)})}).next(()=>s.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(Ol()<=Ve.DEBUG&&ue("QueryEngine","SDK will not create cache indexes for query:",ea(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),Q.resolve()):(Ol()<=Ve.DEBUG&&ue("QueryEngine","Query:",ea(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(Ol()<=Ve.DEBUG&&ue("QueryEngine","The SDK decides to create cache indexes for query:",ea(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Vr(n))):Q.resolve())}Yi(e,n){if(Vw(n))return Q.resolve(null);let r=Vr(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Eg(n,null,"F"),r=Vr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=Me(...s);return this.Ji.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.ts(n,a);return this.ns(n,c,o,l.readTime)?this.Yi(e,Eg(n,null,"F")):this.rs(e,c,n,l)}))})))}Zi(e,n,r,i){return Vw(n)||i.isEqual(be.min())?Q.resolve(null):this.Ji.getDocuments(e,r).next(s=>{const o=this.ts(n,s);return this.ns(n,o,r,i)?Q.resolve(null):(Ol()<=Ve.DEBUG&&ue("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ea(n)),this.rs(e,o,n,U2(i,-1)).next(a=>a))})}ts(e,n){let r=new Kt(uR(e));return n.forEach((i,s)=>{bf(e,s)&&(r=r.add(s))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,n,r){return Ol()<=Ve.DEBUG&&ue("QueryEngine","Using full collection scan to execute query:",ea(n)),this.Ji.getDocumentsMatchingQuery(e,n,fs.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hD{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new yt(qe),this._s=new il(s=>uv(s),cv),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new eD(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function fD(t,e,n,r){return new hD(t,e,n,r)}async function kR(t,e){const n=Ce(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=Me();for(const c of i){o.push(c.batchId);for(const d of c.mutations)l=l.add(d.key)}for(const c of s){a.push(c.batchId);for(const d of c.mutations)l=l.add(d.key)}return n.localDocuments.getDocuments(r,l).next(c=>({hs:c,removedBatchIds:o,addedBatchIds:a}))})})}function pD(t,e){const n=Ce(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,l,c,d){const f=c.batch,p=f.keys();let y=Q.resolve();return p.forEach(w=>{y=y.next(()=>d.getEntry(l,w)).next(E=>{const A=c.docVersions.get(w);Ye(A!==null),E.version.compareTo(A)<0&&(f.applyToRemoteDocument(E,c),E.isValidDocument()&&(E.setReadTime(c.commitVersion),d.addEntry(E)))})}),y.next(()=>a.mutationQueue.removeMutationBatch(l,f))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=Me();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function OR(t){const e=Ce(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function mD(t,e){const n=Ce(t),r=e.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const a=[];e.targetChanges.forEach((d,f)=>{const p=i.get(f);if(!p)return;a.push(n.Ur.removeMatchingKeys(s,d.removedDocuments,f).next(()=>n.Ur.addMatchingKeys(s,d.addedDocuments,f)));let y=p.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(f)!==null?y=y.withResumeToken(Qt.EMPTY_BYTE_STRING,be.min()).withLastLimboFreeSnapshotVersion(be.min()):d.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(d.resumeToken,r)),i=i.insert(f,y),function(E,A,I){return E.resumeToken.approximateByteSize()===0||A.snapshotVersion.toMicroseconds()-E.snapshotVersion.toMicroseconds()>=3e8?!0:I.addedDocuments.size+I.modifiedDocuments.size+I.removedDocuments.size>0}(p,y,d)&&a.push(n.Ur.updateTargetData(s,y))});let l=wi(),c=Me();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,d))}),a.push(gD(s,o,e.documentUpdates).next(d=>{l=d.Ps,c=d.Is})),!r.isEqual(be.min())){const d=n.Ur.getLastRemoteSnapshotVersion(s).next(f=>n.Ur.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(d)}return Q.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,c)).next(()=>l)}).then(s=>(n.os=i,s))}function gD(t,e,n){let r=Me(),i=Me();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=wi();return n.forEach((a,l)=>{const c=s.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(be.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):ue("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{Ps:o,Is:i}})}function yD(t,e){const n=Ce(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function vD(t,e){const n=Ce(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(s=>s?(i=s,Q.resolve(i)):n.Ur.allocateTargetId(r).next(o=>(i=new Zi(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function Ag(t,e,n){const r=Ce(t),i=r.os.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Ec(o))throw o;ue("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(i.target)}function Gw(t,e,n){const r=Ce(t);let i=be.min(),s=Me();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,d){const f=Ce(l),p=f._s.get(d);return p!==void 0?Q.resolve(f.os.get(p)):f.Ur.getTargetData(c,d)}(r,o,Vr(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,n?i:be.min(),n?s:Me())).next(a=>(_D(r,uN(e),a),{documents:a,Ts:s})))}function _D(t,e,n){let r=t.us.get(e)||be.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.us.set(e,r)}class Qw{constructor(){this.activeTargetIds=mN()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class wD{constructor(){this.so=new Qw,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new Qw,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ED{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zw{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){ue("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){ue("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wd=null;function Zp(){return wd===null?wd=function(){return 268435456+Math.round(2147483648*Math.random())}():wd++,"0x"+wd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SD{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rn="WebChannelConnection";class ID extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(n,r,i,s,o){const a=Zp(),l=this.xo(n,r.toUriEncodedString());ue("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const c={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(c,s,o),this.No(n,l,c,i).then(d=>(ue("RestConnection",`Received RPC '${n}' ${a}: `,d),d),d=>{throw Fa("RestConnection",`RPC '${n}' ${a} failed with error: `,d,"url: ",l,"request:",i),d})}Lo(n,r,i,s,o,a){return this.Mo(n,r,i,s,o)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+nl}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}xo(n,r){const i=TD[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){const s=Zp();return new Promise((o,a)=>{const l=new HI;l.setWithCredentials(!0),l.listenOnce(WI.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Ud.NO_ERROR:const d=l.getResponseJson();ue(rn,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(d)),o(d);break;case Ud.TIMEOUT:ue(rn,`RPC '${e}' ${s} timed out`),a(new oe(W.DEADLINE_EXCEEDED,"Request time out"));break;case Ud.HTTP_ERROR:const f=l.getStatus();if(ue(rn,`RPC '${e}' ${s} failed with status:`,f,"response text:",l.getResponseText()),f>0){let p=l.getResponseJson();Array.isArray(p)&&(p=p[0]);const y=p==null?void 0:p.error;if(y&&y.status&&y.message){const w=function(A){const I=A.toLowerCase().replace(/_/g,"-");return Object.values(W).indexOf(I)>=0?I:W.UNKNOWN}(y.status);a(new oe(w,y.message))}else a(new oe(W.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new oe(W.UNAVAILABLE,"Connection failed."));break;default:Ie()}}finally{ue(rn,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(i);ue(rn,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",c,r,15)})}Bo(e,n,r){const i=Zp(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=QI(),a=GI(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.xmlHttpFactory=new qI({})),this.Oo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const d=s.join("");ue(rn,`Creating RPC '${e}' stream ${i}: ${d}`,l);const f=o.createWebChannel(d,l);let p=!1,y=!1;const w=new SD({Io:A=>{y?ue(rn,`Not sending because RPC '${e}' stream ${i} is closed:`,A):(p||(ue(rn,`Opening RPC '${e}' stream ${i} transport.`),f.open(),p=!0),ue(rn,`RPC '${e}' stream ${i} sending:`,A),f.send(A))},To:()=>f.close()}),E=(A,I,v)=>{A.listen(I,b=>{try{v(b)}catch(D){setTimeout(()=>{throw D},0)}})};return E(f,Kl.EventType.OPEN,()=>{y||(ue(rn,`RPC '${e}' stream ${i} transport opened.`),w.yo())}),E(f,Kl.EventType.CLOSE,()=>{y||(y=!0,ue(rn,`RPC '${e}' stream ${i} transport closed`),w.So())}),E(f,Kl.EventType.ERROR,A=>{y||(y=!0,Fa(rn,`RPC '${e}' stream ${i} transport errored:`,A),w.So(new oe(W.UNAVAILABLE,"The operation could not be completed")))}),E(f,Kl.EventType.MESSAGE,A=>{var I;if(!y){const v=A.data[0];Ye(!!v);const b=v,D=b.error||((I=b[0])===null||I===void 0?void 0:I.error);if(D){ue(rn,`RPC '${e}' stream ${i} received error:`,D);const $=D.status;let j=function(S){const R=bt[S];if(R!==void 0)return ER(R)}($),T=D.message;j===void 0&&(j=W.INTERNAL,T="Unknown error status: "+$+" with message "+D.message),y=!0,w.So(new oe(j,T)),f.close()}else ue(rn,`RPC '${e}' stream ${i} received:`,v),w.bo(v)}}),E(a,KI.STAT_EVENT,A=>{A.stat===mg.PROXY?ue(rn,`RPC '${e}' stream ${i} detected buffering proxy`):A.stat===mg.NOPROXY&&ue(rn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{w.wo()},0),w}}function Jp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kf(t){return new DN(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NR{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&ue("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DR{constructor(e,n,r,i,s,o,a,l){this.ui=e,this.Ho=r,this.Jo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new NR(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===W.RESOURCE_EXHAUSTED?(_i(n.toString()),_i("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===W.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{const i=new oe(W.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return ue("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(ue("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class RD extends DR{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=VN(this.serializer,e),r=function(s){if(!("targetChange"in s))return be.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?be.min():o.readTime?Fr(o.readTime):be.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=Rg(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=_g(l)?{documents:UN(s,l)}:{query:$N(s,l)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=IR(s,o.resumeToken);const c=Tg(s,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(be.min())>0){a.readTime=xh(s,o.snapshotVersion.toTimestamp());const c=Tg(s,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=zN(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=Rg(this.serializer),n.removeTarget=e,this.a_(n)}}class AD extends DR{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return Ye(!!e.streamToken),this.lastStreamToken=e.streamToken,Ye(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Ye(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=FN(e.writeResults,e.commitTime),r=Fr(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=Rg(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>jN(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bD extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new oe(W.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Mo(e,Sg(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new oe(W.UNKNOWN,s.toString())})}Lo(e,n,r,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Lo(e,Sg(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new oe(W.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class CD{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(_i(n),this.D_=!1):ue("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PD{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(o=>{r.enqueueAndForget(async()=>{No(this)&&(ue("RemoteStore","Restarting streams for network reachability change."),await async function(l){const c=Ce(l);c.L_.add(4),await Rc(c),c.q_.set("Unknown"),c.L_.delete(4),await Of(c)}(this))})}),this.q_=new CD(r,i)}}async function Of(t){if(No(t))for(const e of t.B_)await e(!0)}async function Rc(t){for(const e of t.B_)await e(!1)}function LR(t,e){const n=Ce(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),Tv(n)?Ev(n):sl(n).r_()&&wv(n,e))}function _v(t,e){const n=Ce(t),r=sl(n);n.N_.delete(e),r.r_()&&MR(n,e),n.N_.size===0&&(r.r_()?r.o_():No(n)&&n.q_.set("Unknown"))}function wv(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(be.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}sl(t).A_(e)}function MR(t,e){t.Q_.xe(e),sl(t).R_(e)}function Ev(t){t.Q_=new xN({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),sl(t).start(),t.q_.v_()}function Tv(t){return No(t)&&!sl(t).n_()&&t.N_.size>0}function No(t){return Ce(t).L_.size===0}function VR(t){t.Q_=void 0}async function xD(t){t.q_.set("Online")}async function kD(t){t.N_.forEach((e,n)=>{wv(t,e)})}async function OD(t,e){VR(t),Tv(t)?(t.q_.M_(e),Ev(t)):t.q_.set("Unknown")}async function ND(t,e,n){if(t.q_.set("Online"),e instanceof SR&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.N_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.N_.delete(a),i.Q_.removeTarget(a))}(t,e)}catch(r){ue("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await kh(t,r)}else if(e instanceof zd?t.Q_.Ke(e):e instanceof TR?t.Q_.He(e):t.Q_.We(e),!n.isEqual(be.min()))try{const r=await OR(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.Q_.rt(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const d=s.N_.get(c);d&&s.N_.set(c,d.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{const d=s.N_.get(l);if(!d)return;s.N_.set(l,d.withResumeToken(Qt.EMPTY_BYTE_STRING,d.snapshotVersion)),MR(s,l);const f=new Zi(d.target,l,c,d.sequenceNumber);wv(s,f)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){ue("RemoteStore","Failed to raise snapshot:",r),await kh(t,r)}}async function kh(t,e,n){if(!Ec(e))throw e;t.L_.add(1),await Rc(t),t.q_.set("Offline"),n||(n=()=>OR(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ue("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await Of(t)})}function jR(t,e){return e().catch(n=>kh(t,n,e))}async function Nf(t){const e=Ce(t),n=ms(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;DD(e);)try{const i=await yD(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,LD(e,i)}catch(i){await kh(e,i)}FR(e)&&UR(e)}function DD(t){return No(t)&&t.O_.length<10}function LD(t,e){t.O_.push(e);const n=ms(t);n.r_()&&n.V_&&n.m_(e.mutations)}function FR(t){return No(t)&&!ms(t).n_()&&t.O_.length>0}function UR(t){ms(t).start()}async function MD(t){ms(t).p_()}async function VD(t){const e=ms(t);for(const n of t.O_)e.m_(n.mutations)}async function jD(t,e,n){const r=t.O_.shift(),i=fv.from(r,e,n);await jR(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Nf(t)}async function FD(t,e){e&&ms(t).V_&&await async function(r,i){if(function(o){return bN(o)&&o!==W.ABORTED}(i.code)){const s=r.O_.shift();ms(r).s_(),await jR(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await Nf(r)}}(t,e),FR(t)&&UR(t)}async function Jw(t,e){const n=Ce(t);n.asyncQueue.verifyOperationInProgress(),ue("RemoteStore","RemoteStore received new credentials");const r=No(n);n.L_.add(3),await Rc(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await Of(n)}async function UD(t,e){const n=Ce(t);e?(n.L_.delete(2),await Of(n)):e||(n.L_.add(2),await Rc(n),n.q_.set("Unknown"))}function sl(t){return t.K_||(t.K_=function(n,r,i){const s=Ce(n);return s.w_(),new RD(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:xD.bind(null,t),Ro:kD.bind(null,t),mo:OD.bind(null,t),d_:ND.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),Tv(t)?Ev(t):t.q_.set("Unknown")):(await t.K_.stop(),VR(t))})),t.K_}function ms(t){return t.U_||(t.U_=function(n,r,i){const s=Ce(n);return s.w_(),new AD(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:MD.bind(null,t),mo:FD.bind(null,t),f_:VD.bind(null,t),g_:jD.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await Nf(t)):(await t.U_.stop(),t.O_.length>0&&(ue("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sv{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new ci,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new Sv(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new oe(W.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Iv(t,e){if(_i("AsyncQueue",`${e}: ${t}`),Ec(t))return new oe(W.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ra{constructor(e){this.comparator=e?(n,r)=>e(n,r)||ge.comparator(n.key,r.key):(n,r)=>ge.comparator(n.key,r.key),this.keyedMap=Gl(),this.sortedSet=new yt(this.comparator)}static emptySet(e){return new Ra(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ra)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Ra;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yw{constructor(){this.W_=new yt(ge.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):Ie():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Ha{constructor(e,n,r,i,s,o,a,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Ha(e,n,Ra.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Af(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $D{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class BD{constructor(){this.queries=Xw(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const i=Ce(n),s=i.queries;i.queries=Xw(),s.forEach((o,a)=>{for(const l of a.j_)l.onError(r)})})(this,new oe(W.ABORTED,"Firestore shutting down"))}}function Xw(){return new il(t=>lR(t),Af)}async function $R(t,e){const n=Ce(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.H_()&&e.J_()&&(r=2):(s=new $D,r=e.J_()?0:1);try{switch(r){case 0:s.z_=await n.onListen(i,!0);break;case 1:s.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=Iv(o,`Initialization of query '${ea(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.j_.push(e),e.Z_(n.onlineState),s.z_&&e.X_(s.z_)&&Rv(n)}async function BR(t,e){const n=Ce(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.j_.indexOf(e);o>=0&&(s.j_.splice(o,1),s.j_.length===0?i=e.J_()?0:1:!s.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function zD(t,e){const n=Ce(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.j_)a.X_(i)&&(r=!0);o.z_=i}}r&&Rv(n)}function HD(t,e,n){const r=Ce(t),i=r.queries.get(e);if(i)for(const s of i.j_)s.onError(n);r.queries.delete(e)}function Rv(t){t.Y_.forEach(e=>{e.next()})}var bg,eE;(eE=bg||(bg={})).ea="default",eE.Cache="cache";class zR{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Ha(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=Ha.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==bg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HR{constructor(e){this.key=e}}class qR{constructor(e){this.key=e}}class qD{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Me(),this.mutatedKeys=Me(),this.Aa=uR(e),this.Ra=new Ra(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new Yw,i=n?n.Ra:this.Ra;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,f)=>{const p=i.get(d),y=bf(this.query,f)?f:null,w=!!p&&this.mutatedKeys.has(p.key),E=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations);let A=!1;p&&y?p.data.isEqual(y.data)?w!==E&&(r.track({type:3,doc:y}),A=!0):this.ga(p,y)||(r.track({type:2,doc:y}),A=!0,(l&&this.Aa(y,l)>0||c&&this.Aa(y,c)<0)&&(a=!0)):!p&&y?(r.track({type:0,doc:y}),A=!0):p&&!y&&(r.track({type:1,doc:p}),A=!0,(l||c)&&(a=!0)),A&&(y?(o=o.add(y),s=E?s.add(d):s.delete(d)):(o=o.delete(d),s=s.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),s=s.delete(d.key),r.track({type:1,doc:d})}return{Ra:o,fa:r,ns:a,mutatedKeys:s}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const o=e.fa.G_();o.sort((d,f)=>function(y,w){const E=A=>{switch(A){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ie()}};return E(y)-E(w)}(d.type,f.type)||this.Aa(d.doc,f.doc)),this.pa(r),i=i!=null&&i;const a=n&&!i?this.ya():[],l=this.da.size===0&&this.current&&!i?1:0,c=l!==this.Ea;return this.Ea=l,o.length!==0||c?{snapshot:new Ha(this.query,e.Ra,s,o,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new Yw,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Me(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new qR(r))}),this.da.forEach(r=>{e.has(r)||n.push(new HR(r))}),n}ba(e){this.Ta=e.Ts,this.da=Me();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return Ha.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class WD{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class KD{constructor(e){this.key=e,this.va=!1}}class GD{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new il(a=>lR(a),Af),this.Ma=new Map,this.xa=new Set,this.Oa=new yt(ge.comparator),this.Na=new Map,this.La=new gv,this.Ba={},this.ka=new Map,this.qa=za.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function QD(t,e,n=!0){const r=JR(t);let i;const s=r.Fa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=await WR(r,e,n,!0),i}async function ZD(t,e){const n=JR(t);await WR(n,e,!0,!1)}async function WR(t,e,n,r){const i=await vD(t.localStore,Vr(e)),s=i.targetId,o=n?t.sharedClientState.addLocalQueryTarget(s):"not-current";let a;return r&&(a=await JD(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&LR(t.remoteStore,i),a}async function JD(t,e,n,r,i){t.Ka=(f,p,y)=>async function(E,A,I,v){let b=A.view.ma(I);b.ns&&(b=await Gw(E.localStore,A.query,!1).then(({documents:T})=>A.view.ma(T,b)));const D=v&&v.targetChanges.get(A.targetId),$=v&&v.targetMismatches.get(A.targetId)!=null,j=A.view.applyChanges(b,E.isPrimaryClient,D,$);return nE(E,A.targetId,j.wa),j.snapshot}(t,f,p,y);const s=await Gw(t.localStore,e,!0),o=new qD(e,s.Ts),a=o.ma(s.documents),l=Ic.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=o.applyChanges(a,t.isPrimaryClient,l);nE(t,n,c.wa);const d=new WD(e,n,o);return t.Fa.set(e,d),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),c.snapshot}async function YD(t,e,n){const r=Ce(t),i=r.Fa.get(e),s=r.Ma.get(i.targetId);if(s.length>1)return r.Ma.set(i.targetId,s.filter(o=>!Af(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Ag(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&_v(r.remoteStore,i.targetId),Cg(r,i.targetId)}).catch(wc)):(Cg(r,i.targetId),await Ag(r.localStore,i.targetId,!0))}async function XD(t,e){const n=Ce(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),_v(n.remoteStore,r.targetId))}async function eL(t,e,n){const r=aL(t);try{const i=await function(o,a){const l=Ce(o),c=Lt.now(),d=a.reduce((y,w)=>y.add(w.key),Me());let f,p;return l.persistence.runTransaction("Locally write mutations","readwrite",y=>{let w=wi(),E=Me();return l.cs.getEntries(y,d).next(A=>{w=A,w.forEach((I,v)=>{v.isValidDocument()||(E=E.add(I))})}).next(()=>l.localDocuments.getOverlayedDocuments(y,w)).next(A=>{f=A;const I=[];for(const v of a){const b=TN(v,f.get(v.key).overlayedDocument);b!=null&&I.push(new Oo(v.key,b,eR(b.value.mapValue),jr.exists(!0)))}return l.mutationQueue.addMutationBatch(y,c,I,a)}).next(A=>{p=A;const I=A.applyToLocalDocumentSet(f,E);return l.documentOverlayCache.saveOverlays(y,A.batchId,I)})}).then(()=>({batchId:p.batchId,changes:dR(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let c=o.Ba[o.currentUser.toKey()];c||(c=new yt(qe)),c=c.insert(a,l),o.Ba[o.currentUser.toKey()]=c}(r,i.batchId,n),await Ac(r,i.changes),await Nf(r.remoteStore)}catch(i){const s=Iv(i,"Failed to persist write");n.reject(s)}}async function KR(t,e){const n=Ce(t);try{const r=await mD(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Na.get(s);o&&(Ye(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.va=!0:i.modifiedDocuments.size>0?Ye(o.va):i.removedDocuments.size>0&&(Ye(o.va),o.va=!1))}),await Ac(n,r,e)}catch(r){await wc(r)}}function tE(t,e,n){const r=Ce(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Fa.forEach((s,o)=>{const a=o.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=Ce(o);l.onlineState=a;let c=!1;l.queries.forEach((d,f)=>{for(const p of f.j_)p.Z_(a)&&(c=!0)}),c&&Rv(l)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function tL(t,e,n){const r=Ce(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Na.get(e),s=i&&i.key;if(s){let o=new yt(ge.comparator);o=o.insert(s,an.newNoDocument(s,be.min()));const a=Me().add(s),l=new xf(be.min(),new Map,new yt(qe),o,a);await KR(r,l),r.Oa=r.Oa.remove(s),r.Na.delete(e),Av(r)}else await Ag(r.localStore,e,!1).then(()=>Cg(r,e,n)).catch(wc)}async function nL(t,e){const n=Ce(t),r=e.batch.batchId;try{const i=await pD(n.localStore,e);QR(n,r,null),GR(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Ac(n,i)}catch(i){await wc(i)}}async function rL(t,e,n){const r=Ce(t);try{const i=await function(o,a){const l=Ce(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let d;return l.mutationQueue.lookupMutationBatch(c,a).next(f=>(Ye(f!==null),d=f.keys(),l.mutationQueue.removeMutationBatch(c,f))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,d,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,d)).next(()=>l.localDocuments.getDocuments(c,d))})}(r.localStore,e);QR(r,e,n),GR(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Ac(r,i)}catch(i){await wc(i)}}function GR(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function QR(t,e,n){const r=Ce(t);let i=r.Ba[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function Cg(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||ZR(t,r)})}function ZR(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(_v(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),Av(t))}function nE(t,e,n){for(const r of n)r instanceof HR?(t.La.addReference(r.key,e),iL(t,r)):r instanceof qR?(ue("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||ZR(t,r.key)):Ie()}function iL(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(ue("SyncEngine","New document in limbo: "+n),t.xa.add(r),Av(t))}function Av(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new ge(lt.fromString(e)),r=t.qa.next();t.Na.set(r,new KD(n)),t.Oa=t.Oa.insert(n,r),LR(t.remoteStore,new Zi(Vr(dv(n.path)),r,"TargetPurposeLimboResolution",sv.oe))}}async function Ac(t,e,n){const r=Ce(t),i=[],s=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((a,l)=>{o.push(r.Ka(l,e,n).then(c=>{var d;if((c||n)&&r.isPrimaryClient){const f=c?!c.fromCache:(d=n==null?void 0:n.targetChanges.get(l.targetId))===null||d===void 0?void 0:d.current;r.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(c){i.push(c);const f=vv.Wi(l.targetId,c);s.push(f)}}))}),await Promise.all(o),r.Ca.d_(i),await async function(l,c){const d=Ce(l);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>Q.forEach(c,p=>Q.forEach(p.$i,y=>d.persistence.referenceDelegate.addReference(f,p.targetId,y)).next(()=>Q.forEach(p.Ui,y=>d.persistence.referenceDelegate.removeReference(f,p.targetId,y)))))}catch(f){if(!Ec(f))throw f;ue("LocalStore","Failed to update sequence numbers: "+f)}for(const f of c){const p=f.targetId;if(!f.fromCache){const y=d.os.get(p),w=y.snapshotVersion,E=y.withLastLimboFreeSnapshotVersion(w);d.os=d.os.insert(p,E)}}}(r.localStore,s))}async function sL(t,e){const n=Ce(t);if(!n.currentUser.isEqual(e)){ue("SyncEngine","User change. New user:",e.toKey());const r=await kR(n.localStore,e);n.currentUser=e,function(s,o){s.ka.forEach(a=>{a.forEach(l=>{l.reject(new oe(W.CANCELLED,o))})}),s.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Ac(n,r.hs)}}function oL(t,e){const n=Ce(t),r=n.Na.get(e);if(r&&r.va)return Me().add(r.key);{let i=Me();const s=n.Ma.get(e);if(!s)return i;for(const o of s){const a=n.Fa.get(o);i=i.unionWith(a.view.Va)}return i}}function JR(t){const e=Ce(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=KR.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=oL.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=tL.bind(null,e),e.Ca.d_=zD.bind(null,e.eventManager),e.Ca.$a=HD.bind(null,e.eventManager),e}function aL(t){const e=Ce(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=nL.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=rL.bind(null,e),e}class rE{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=kf(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return fD(this.persistence,new dD,e.initialUser,this.serializer)}createPersistence(e){return new lD(yv.Zr,this.serializer)}createSharedClientState(e){return new wD}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class lL{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>tE(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=sL.bind(null,this.syncEngine),await UD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new BD}()}createDatastore(e){const n=kf(e.databaseInfo.databaseId),r=function(s){return new ID(s)}(e.databaseInfo);return function(s,o,a,l){return new bD(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new PD(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>tE(this.syncEngine,n,0),function(){return Zw.D()?new Zw:new ED}())}createSyncEngine(e,n){return function(i,s,o,a,l,c,d){const f=new GD(i,s,o,a,l,c);return d&&(f.Qa=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=Ce(i);ue("RemoteStore","RemoteStore shutting down."),s.L_.add(5),await Rc(s),s.k_.shutdown(),s.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YR{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ga(this.observer.next,e)}error(e){this.observer.error?this.Ga(this.observer.error,e):_i("Uncaught Error in snapshot listener:",e.toString())}za(){this.muted=!0}Ga(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uL{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=sn.UNAUTHENTICATED,this.clientId=JI.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{ue("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(ue("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new oe(W.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ci;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Iv(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Yp(t,e){t.asyncQueue.verifyOperationInProgress(),ue("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await kR(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function iE(t,e){t.asyncQueue.verifyOperationInProgress();const n=await dL(t);ue("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>Jw(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>Jw(e.remoteStore,i)),t._onlineComponents=e}function cL(t){return t.name==="FirebaseError"?t.code===W.FAILED_PRECONDITION||t.code===W.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function dL(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ue("FirestoreClient","Using user provided OfflineComponentProvider");try{await Yp(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!cL(n))throw n;Fa("Error using user provided cache. Falling back to memory cache: "+n),await Yp(t,new rE)}}else ue("FirestoreClient","Using default OfflineComponentProvider"),await Yp(t,new rE);return t._offlineComponents}async function XR(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ue("FirestoreClient","Using user provided OnlineComponentProvider"),await iE(t,t._uninitializedComponentsProvider._online)):(ue("FirestoreClient","Using default OnlineComponentProvider"),await iE(t,new lL))),t._onlineComponents}function hL(t){return XR(t).then(e=>e.syncEngine)}async function eA(t){const e=await XR(t),n=e.eventManager;return n.onListen=QD.bind(null,e.syncEngine),n.onUnlisten=YD.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=ZD.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=XD.bind(null,e.syncEngine),n}function fL(t,e,n={}){const r=new ci;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,c){const d=new YR({next:p=>{o.enqueueAndForget(()=>BR(s,f));const y=p.docs.has(a);!y&&p.fromCache?c.reject(new oe(W.UNAVAILABLE,"Failed to get document because the client is offline.")):y&&p.fromCache&&l&&l.source==="server"?c.reject(new oe(W.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(p)},error:p=>c.reject(p)}),f=new zR(dv(a.path),d,{includeMetadataChanges:!0,_a:!0});return $R(s,f)}(await eA(t),t.asyncQueue,e,n,r)),r.promise}function pL(t,e,n={}){const r=new ci;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,c){const d=new YR({next:p=>{o.enqueueAndForget(()=>BR(s,f)),p.fromCache&&l.source==="server"?c.reject(new oe(W.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(p)},error:p=>c.reject(p)}),f=new zR(a,d,{includeMetadataChanges:!0,_a:!0});return $R(s,f)}(await eA(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tA(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sE=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nA(t,e,n){if(!n)throw new oe(W.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function mL(t,e,n,r){if(e===!0&&r===!0)throw new oe(W.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function oE(t){if(!ge.isDocumentKey(t))throw new oe(W.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function aE(t){if(ge.isDocumentKey(t))throw new oe(W.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Df(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ie()}function gs(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new oe(W.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Df(t);throw new oe(W.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lE{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new oe(W.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new oe(W.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}mL("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=tA((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new oe(W.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new oe(W.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new oe(W.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Lf{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new lE({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new oe(W.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new oe(W.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new lE(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new k2;switch(r.type){case"firstParty":return new L2(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new oe(W.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=sE.get(n);r&&(ue("ComponentProvider","Removing Datastore"),sE.delete(n),r.terminate())}(this),Promise.resolve()}}function rA(t,e,n,r={}){var i;const s=(t=gs(t,Lf))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&Fa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=sn.MOCK_USER;else{a=aO(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new oe(W.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new sn(c)}t._authCredentials=new O2(new ZI(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ol{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ol(this.firestore,e,this._query)}}class bn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new cs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new bn(this.firestore,e,this._key)}}class cs extends ol{constructor(e,n,r){super(e,n,dv(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new bn(this.firestore,null,new ge(e))}withConverter(e){return new cs(this.firestore,e,this._path)}}function bv(t,e,...n){if(t=Mt(t),nA("collection","path",e),t instanceof Lf){const r=lt.fromString(e,...n);return aE(r),new cs(t,null,r)}{if(!(t instanceof bn||t instanceof cs))throw new oe(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(lt.fromString(e,...n));return aE(r),new cs(t.firestore,null,r)}}function Mf(t,e,...n){if(t=Mt(t),arguments.length===1&&(e=JI.newId()),nA("doc","path",e),t instanceof Lf){const r=lt.fromString(e,...n);return oE(r),new bn(t,null,new ge(r))}{if(!(t instanceof bn||t instanceof cs))throw new oe(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(lt.fromString(e,...n));return oE(r),new bn(t.firestore,t instanceof cs?t.converter:null,new ge(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gL{constructor(){this.au=Promise.resolve(),this.uu=[],this.cu=!1,this.lu=[],this.hu=null,this.Pu=!1,this.Iu=!1,this.Tu=[],this.t_=new NR(this,"async_queue_retry"),this.Eu=()=>{const n=Jp();n&&ue("AsyncQueue","Visibility state changed to "+n.visibilityState),this.t_.jo()};const e=Jp();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Eu)}get isShuttingDown(){return this.cu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.du(),this.Au(e)}enterRestrictedMode(e){if(!this.cu){this.cu=!0,this.Iu=e||!1;const n=Jp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Eu)}}enqueue(e){if(this.du(),this.cu)return new Promise(()=>{});const n=new ci;return this.Au(()=>this.cu&&this.Iu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.uu.push(e),this.Ru()))}async Ru(){if(this.uu.length!==0){try{await this.uu[0](),this.uu.shift(),this.t_.reset()}catch(e){if(!Ec(e))throw e;ue("AsyncQueue","Operation failed with retryable error: "+e)}this.uu.length>0&&this.t_.Go(()=>this.Ru())}}Au(e){const n=this.au.then(()=>(this.Pu=!0,e().catch(r=>{this.hu=r,this.Pu=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw _i("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Pu=!1,r))));return this.au=n,n}enqueueAfterDelay(e,n,r){this.du(),this.Tu.indexOf(e)>-1&&(n=0);const i=Sv.createAndSchedule(this,e,n,r,s=>this.Vu(s));return this.lu.push(i),i}du(){this.hu&&Ie()}verifyOperationInProgress(){}async mu(){let e;do e=this.au,await e;while(e!==this.au)}fu(e){for(const n of this.lu)if(n.timerId===e)return!0;return!1}gu(e){return this.mu().then(()=>{this.lu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.lu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.mu()})}pu(e){this.Tu.push(e)}Vu(e){const n=this.lu.indexOf(e);this.lu.splice(n,1)}}class bc extends Lf{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new gL}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||iA(this),this._firestoreClient.terminate()}}function yL(t,e){const n=typeof t=="object"?t:UI(),r=typeof t=="string"?t:"(default)",i=rv(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=sO("firestore");s&&rA(i,...s)}return i}function Cv(t){return t._firestoreClient||iA(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function iA(t){var e,n,r;const i=t._freezeSettings(),s=function(a,l,c,d){return new G2(a,l,c,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,tA(d.experimentalLongPollingOptions),d.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new uL(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qa{constructor(e){this._byteString=e}static fromBase64String(e){try{return new qa(Qt.fromBase64String(e))}catch(n){throw new oe(W.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new qa(Qt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pv{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new oe(W.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new qt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sA{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xv{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new oe(W.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new oe(W.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return qe(this._lat,e._lat)||qe(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kv{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vL=/^__.*__$/;class _L{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Oo(e,this.data,this.fieldMask,n,this.fieldTransforms):new Sc(e,this.data,n,this.fieldTransforms)}}function oA(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ie()}}class Ov{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.yu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get wu(){return this.settings.wu}Su(e){return new Ov(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}bu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Su({path:r,Du:!1});return i.vu(e),i}Cu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Su({path:r,Du:!1});return i.yu(),i}Fu(e){return this.Su({path:void 0,Du:!0})}Mu(e){return Oh(e,this.settings.methodName,this.settings.xu||!1,this.path,this.settings.Ou)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}yu(){if(this.path)for(let e=0;e<this.path.length;e++)this.vu(this.path.get(e))}vu(e){if(e.length===0)throw this.Mu("Document fields must not be empty");if(oA(this.wu)&&vL.test(e))throw this.Mu('Document fields cannot begin and end with "__"')}}class wL{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||kf(e)}Nu(e,n,r,i=!1){return new Ov({wu:e,methodName:n,Ou:r,path:qt.emptyPath(),Du:!1,xu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Nv(t){const e=t._freezeSettings(),n=kf(t._databaseId);return new wL(t._databaseId,!!e.ignoreUndefinedProperties,n)}function aA(t,e,n,r,i,s={}){const o=t.Nu(s.merge||s.mergeFields?2:0,e,n,i);cA("Data must be an object, but it was:",o,r);const a=lA(r,o);let l,c;if(s.merge)l=new yr(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const d=[];for(const f of s.mergeFields){const p=TL(e,f,n);if(!o.contains(p))throw new oe(W.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);IL(d,p)||d.push(p)}l=new yr(d),c=o.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,c=o.fieldTransforms;return new _L(new nr(a),l,c)}function EL(t,e,n,r=!1){return Dv(n,t.Nu(r?4:3,e))}function Dv(t,e){if(uA(t=Mt(t)))return cA("Unsupported field value:",e,t),lA(t,e);if(t instanceof sA)return function(r,i){if(!oA(i.wu))throw i.Mu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Mu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Du&&e.wu!==4)throw e.Mu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=Dv(a,i.Fu(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=Mt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return gN(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Lt.fromDate(r);return{timestampValue:xh(i.serializer,s)}}if(r instanceof Lt){const s=new Lt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:xh(i.serializer,s)}}if(r instanceof xv)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof qa)return{bytesValue:IR(i.serializer,r._byteString)};if(r instanceof bn){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Mu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:mv(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof kv)return function(o,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(l=>{if(typeof l!="number")throw a.Mu("VectorValues must only contain numeric values.");return hv(a.serializer,l)})}}}}}}(r,i);throw i.Mu(`Unsupported field value: ${Df(r)}`)}(t,e)}function lA(t,e){const n={};return YI(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):rl(t,(r,i)=>{const s=Dv(i,e.bu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function uA(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Lt||t instanceof xv||t instanceof qa||t instanceof bn||t instanceof sA||t instanceof kv)}function cA(t,e,n){if(!uA(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=Df(n);throw r==="an object"?e.Mu(t+" a custom object"):e.Mu(t+" "+r)}}function TL(t,e,n){if((e=Mt(e))instanceof Pv)return e._internalPath;if(typeof e=="string")return dA(t,e);throw Oh("Field path arguments must be of type string or ",t,!1,void 0,n)}const SL=new RegExp("[~\\*/\\[\\]]");function dA(t,e,n){if(e.search(SL)>=0)throw Oh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Pv(...e.split("."))._internalPath}catch{throw Oh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Oh(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new oe(W.INVALID_ARGUMENT,a+t+l)}function IL(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hA{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new bn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new RL(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Lv("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class RL extends hA{data(){return super.data()}}function Lv(t,e){return typeof e=="string"?dA(t,e):e instanceof Pv?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AL(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new oe(W.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Mv{}class bL extends Mv{}function Vv(t,e,...n){let r=[];e instanceof Mv&&r.push(e),r=r.concat(n),function(s){const o=s.filter(l=>l instanceof Fv).length,a=s.filter(l=>l instanceof Vf).length;if(o>1||o>0&&a>0)throw new oe(W.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class Vf extends bL{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Vf(e,n,r)}_apply(e){const n=this._parse(e);return fA(e._query,n),new ol(e.firestore,e.converter,wg(e._query,n))}_parse(e){const n=Nv(e.firestore);return function(s,o,a,l,c,d,f){let p;if(c.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new oe(W.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){cE(f,d);const y=[];for(const w of f)y.push(uE(l,s,w));p={arrayValue:{values:y}}}else p=uE(l,s,f)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||cE(f,d),p=EL(a,o,f,d==="in"||d==="not-in");return xt.create(c,d,p)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function jv(t,e,n){const r=e,i=Lv("where",t);return Vf._create(i,r,n)}class Fv extends Mv{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Fv(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Sr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const l of a)fA(o,l),o=wg(o,l)}(e._query,n),new ol(e.firestore,e.converter,wg(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function uE(t,e,n){if(typeof(n=Mt(n))=="string"){if(n==="")throw new oe(W.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!aR(e)&&n.indexOf("/")!==-1)throw new oe(W.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(lt.fromString(n));if(!ge.isDocumentKey(r))throw new oe(W.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return kw(t,new ge(r))}if(n instanceof bn)return kw(t,n._key);throw new oe(W.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Df(n)}.`)}function cE(t,e){if(!Array.isArray(t)||t.length===0)throw new oe(W.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function fA(t,e){const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new oe(W.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new oe(W.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class CL{convertValue(e,n="none"){switch(_o(e)){case 0:return null;case 1:return e.booleanValue;case 2:return It(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(vo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ie()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return rl(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;const s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>It(o.doubleValue));return new kv(s)}convertGeoPoint(e){return new xv(It(e.latitude),It(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=av(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Vu(e));default:return null}}convertTimestamp(e){const n=ps(e);return new Lt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=lt.fromString(e);Ye(xR(r));const i=new ju(r.get(1),r.get(3)),s=new ge(r.popFirst(5));return i.isEqual(n)||_i(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pA(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class mA extends hA{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Hd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Lv("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Hd extends mA{data(e={}){return super.data(e)}}class PL{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Zl(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Hd(this._firestore,this._userDataWriter,r.key,r,new Zl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new oe(W.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const l=new Hd(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Zl(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new Hd(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Zl(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,d=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),d=o.indexOf(a.doc.key)),{type:xL(a.type),doc:l,oldIndex:c,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function xL(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ie()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kL(t){t=gs(t,bn);const e=gs(t.firestore,bc);return fL(Cv(e),t._key).then(n=>NL(e,t,n))}class gA extends CL{constructor(e){super(),this.firestore=e}convertBytes(e){return new qa(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new bn(this.firestore,null,n)}}function Uv(t){t=gs(t,ol);const e=gs(t.firestore,bc),n=Cv(e),r=new gA(e);return AL(t._query),pL(n,t._query).then(i=>new PL(e,r,t,i))}function yA(t,e,n){t=gs(t,bn);const r=gs(t.firestore,bc),i=pA(t.converter,e);return vA(r,[aA(Nv(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,jr.none())])}function OL(t,e){const n=gs(t.firestore,bc),r=Mf(t),i=pA(t.converter,e);return vA(n,[aA(Nv(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,jr.exists(!1))]).then(()=>r)}function vA(t,e){return function(r,i){const s=new ci;return r.asyncQueue.enqueueAndForget(async()=>eL(await hL(r),i,s)),s.promise}(Cv(t),e)}function NL(t,e,n){const r=n.docs.get(e._key),i=new gA(t);return new mA(t,i,e._key,r,new Zl(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){nl=i})(tl),ja(new go("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new bc(new N2(r.getProvider("auth-internal")),new V2(r.getProvider("app-check-internal")),function(c,d){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new oe(W.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ju(c.options.projectId,d)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),us(Aw,"4.7.0",e),us(Aw,"4.7.0","esm2017")})();function $v(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function _A(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const DL=_A,wA=new vc("auth","Firebase",_A());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nh=new tv("@firebase/auth");function LL(t,...e){Nh.logLevel<=Ve.WARN&&Nh.warn(`Auth (${tl}): ${t}`,...e)}function qd(t,...e){Nh.logLevel<=Ve.ERROR&&Nh.error(`Auth (${tl}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ar(t,...e){throw Bv(t,...e)}function Ur(t,...e){return Bv(t,...e)}function EA(t,e,n){const r=Object.assign(Object.assign({},DL()),{[e]:n});return new vc("auth","Firebase",r).create(e,{appName:t.name})}function di(t){return EA(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Bv(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return wA.create(t,...e)}function pe(t,e,...n){if(!t)throw Bv(e,...n)}function oi(t){const e="INTERNAL ASSERTION FAILED: "+t;throw qd(e),new Error(e)}function Ei(t,e){t||oi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pg(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function ML(){return dE()==="http:"||dE()==="https:"}function dE(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VL(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(ML()||cO()||"connection"in navigator)?navigator.onLine:!0}function jL(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cc{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ei(n>e,"Short delay should be less than long delay!"),this.isMobile=lO()||dO()}get(){return VL()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zv(t,e){Ei(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TA{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;oi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;oi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;oi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FL={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UL=new Cc(3e4,6e4);function Kr(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Gr(t,e,n,r,i={}){return SA(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=_c(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),TA.fetch()(IA(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},s))})}async function SA(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},FL),e);try{const i=new BL(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw Ed(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ed(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Ed(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Ed(t,"user-disabled",o);const d=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw EA(t,d,c);ar(t,d)}}catch(i){if(i instanceof Zt)throw i;ar(t,"network-request-failed",{message:String(i)})}}async function Pc(t,e,n,r,i={}){const s=await Gr(t,e,n,r,i);return"mfaPendingCredential"in s&&ar(t,"multi-factor-auth-required",{_serverResponse:s}),s}function IA(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?zv(t.config,i):`${t.config.apiScheme}://${i}`}function $L(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class BL{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Ur(this.auth,"network-request-failed")),UL.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Ed(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Ur(t,e,r);return i.customData._tokenResponse=n,i}function hE(t){return t!==void 0&&t.enterprise!==void 0}class zL{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return $L(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function HL(t,e){return Gr(t,"GET","/v2/recaptchaConfig",Kr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qL(t,e){return Gr(t,"POST","/v1/accounts:delete",e)}async function RA(t,e){return Gr(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function WL(t,e=!1){const n=Mt(t),r=await n.getIdToken(e),i=Hv(r);pe(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:pu(Xp(i.auth_time)),issuedAtTime:pu(Xp(i.iat)),expirationTime:pu(Xp(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Xp(t){return Number(t)*1e3}function Hv(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return qd("JWT malformed, contained fewer than 3 sections"),null;try{const i=NI(n);return i?JSON.parse(i):(qd("Failed to decode base64 JWT payload"),null)}catch(i){return qd("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function fE(t){const e=Hv(t);return pe(e,"internal-error"),pe(typeof e.exp<"u","internal-error"),pe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bu(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Zt&&KL(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function KL({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GL{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xg{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=pu(this.lastLoginAt),this.creationTime=pu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dh(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Bu(t,RA(n,{idToken:r}));pe(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?AA(s.providerUserInfo):[],a=ZL(t.providerData,o),l=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),d=l?c:!1,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new xg(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(t,f)}async function QL(t){const e=Mt(t);await Dh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function ZL(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function AA(t){return t.map(e=>{var{providerId:n}=e,r=$v(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JL(t,e){const n=await SA(t,{},async()=>{const r=_c({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=IA(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",TA.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function YL(t,e){return Gr(t,"POST","/v2/accounts:revokeToken",Kr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){pe(e.idToken,"internal-error"),pe(typeof e.idToken<"u","internal-error"),pe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):fE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){pe(e.length!==0,"internal-error");const n=fE(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(pe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await JL(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Aa;return r&&(pe(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(pe(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(pe(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Aa,this.toJSON())}_performRefresh(){return oi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Li(t,e){pe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ai{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=$v(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new GL(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new xg(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Bu(this,this.stsTokenManager.getToken(this.auth,e));return pe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return WL(this,e)}reload(){return QL(this)}_assign(e){this!==e&&(pe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ai(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){pe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Dh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Nr(this.auth.app))return Promise.reject(di(this.auth));const e=await this.getIdToken();return await Bu(this,qL(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,c,d;const f=(r=n.displayName)!==null&&r!==void 0?r:void 0,p=(i=n.email)!==null&&i!==void 0?i:void 0,y=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,w=(o=n.photoURL)!==null&&o!==void 0?o:void 0,E=(a=n.tenantId)!==null&&a!==void 0?a:void 0,A=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,I=(c=n.createdAt)!==null&&c!==void 0?c:void 0,v=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:b,emailVerified:D,isAnonymous:$,providerData:j,stsTokenManager:T}=n;pe(b&&T,e,"internal-error");const g=Aa.fromJSON(this.name,T);pe(typeof b=="string",e,"internal-error"),Li(f,e.name),Li(p,e.name),pe(typeof D=="boolean",e,"internal-error"),pe(typeof $=="boolean",e,"internal-error"),Li(y,e.name),Li(w,e.name),Li(E,e.name),Li(A,e.name),Li(I,e.name),Li(v,e.name);const S=new ai({uid:b,auth:e,email:p,emailVerified:D,displayName:f,isAnonymous:$,photoURL:w,phoneNumber:y,tenantId:E,stsTokenManager:g,createdAt:I,lastLoginAt:v});return j&&Array.isArray(j)&&(S.providerData=j.map(R=>Object.assign({},R))),A&&(S._redirectEventId=A),S}static async _fromIdTokenResponse(e,n,r=!1){const i=new Aa;i.updateFromServerResponse(n);const s=new ai({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Dh(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];pe(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?AA(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new Aa;a.updateFromIdToken(r);const l=new ai({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new xg(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pE=new Map;function li(t){Ei(t instanceof Function,"Expected a class definition");let e=pE.get(t);return e?(Ei(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,pE.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bA{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}bA.type="NONE";const mE=bA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wd(t,e,n){return`firebase:${t}:${e}:${n}`}class ba{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Wd(this.userKey,i.apiKey,s),this.fullPersistenceKey=Wd("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?ai._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new ba(li(mE),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=i[0]||li(mE);const o=Wd(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const d=await c._get(o);if(d){const f=ai._fromJSON(e,d);c!==s&&(a=f),s=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new ba(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==s)try{await c._remove(o)}catch{}})),new ba(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gE(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(kA(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(CA(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(NA(e))return"Blackberry";if(DA(e))return"Webos";if(PA(e))return"Safari";if((e.includes("chrome/")||xA(e))&&!e.includes("edge/"))return"Chrome";if(OA(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function CA(t=un()){return/firefox\//i.test(t)}function PA(t=un()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function xA(t=un()){return/crios\//i.test(t)}function kA(t=un()){return/iemobile/i.test(t)}function OA(t=un()){return/android/i.test(t)}function NA(t=un()){return/blackberry/i.test(t)}function DA(t=un()){return/webos/i.test(t)}function qv(t=un()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function XL(t=un()){var e;return qv(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function eM(){return hO()&&document.documentMode===10}function LA(t=un()){return qv(t)||OA(t)||DA(t)||NA(t)||/windows phone/i.test(t)||kA(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MA(t,e=[]){let n;switch(t){case"Browser":n=gE(un());break;case"Worker":n=`${gE(un())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${tl}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tM{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nM(t,e={}){return Gr(t,"GET","/v2/passwordPolicy",Kr(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rM=6;class iM{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:rM,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sM{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new yE(this),this.idTokenSubscription=new yE(this),this.beforeStateQueue=new tM(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=wA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=li(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await ba.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await RA(this,{idToken:e}),r=await ai._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Nr(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return pe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Dh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=jL()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Nr(this.app))return Promise.reject(di(this));const n=e?Mt(e):null;return n&&pe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&pe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Nr(this.app)?Promise.reject(di(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Nr(this.app)?Promise.reject(di(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(li(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await nM(this),n=new iM(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new vc("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await YL(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&li(e)||this._popupRedirectResolver;pe(n,this,"argument-error"),this.redirectPersistenceManager=await ba.create(this,[li(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(pe(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return pe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=MA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&LL(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Ii(t){return Mt(t)}class yE{constructor(e){this.auth=e,this.observer=null,this.addObserver=wO(n=>this.observer=n)}get next(){return pe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function oM(t){jf=t}function VA(t){return jf.loadJS(t)}function aM(){return jf.recaptchaEnterpriseScript}function lM(){return jf.gapiScript}function uM(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const cM="recaptcha-enterprise",dM="NO_RECAPTCHA";class hM{constructor(e){this.type=cM,this.auth=Ii(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{HL(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new zL(l);return s.tenantId==null?s._agentRecaptchaConfig=c:s._tenantRecaptchaConfigs[s.tenantId]=c,o(c.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;hE(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(c=>{o(c)}).catch(()=>{o(dM)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&hE(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=aM();l.length!==0&&(l+=a),VA(l).then(()=>{i(a,s,o)}).catch(c=>{o(c)})}}).catch(a=>{o(a)})})}}async function vE(t,e,n,r=!1){const i=new hM(t);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function Lh(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await vE(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await vE(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fM(t,e){const n=rv(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Sh(s,e??{}))return i;ar(i,"already-initialized")}return n.initialize({options:e})}function pM(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(li);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function jA(t,e,n){const r=Ii(t);pe(r._canInitEmulator,r,"emulator-config-failed"),pe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=FA(e),{host:o,port:a}=mM(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),gM()}function FA(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function mM(t){const e=FA(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:_E(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:_E(o)}}}function _E(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function gM(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wv{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return oi("not implemented")}_getIdTokenResponse(e){return oi("not implemented")}_linkToIdToken(e,n){return oi("not implemented")}_getReauthenticationResolver(e){return oi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UA(t,e){return Gr(t,"POST","/v1/accounts:resetPassword",Kr(t,e))}async function yM(t,e){return Gr(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vM(t,e){return Pc(t,"POST","/v1/accounts:signInWithPassword",Kr(t,e))}async function $A(t,e){return Gr(t,"POST","/v1/accounts:sendOobCode",Kr(t,e))}async function _M(t,e){return $A(t,e)}async function wM(t,e){return $A(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EM(t,e){return Pc(t,"POST","/v1/accounts:signInWithEmailLink",Kr(t,e))}async function TM(t,e){return Pc(t,"POST","/v1/accounts:signInWithEmailLink",Kr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zu extends Wv{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new zu(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new zu(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Lh(e,n,"signInWithPassword",vM);case"emailLink":return EM(e,{email:this._email,oobCode:this._password});default:ar(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Lh(e,r,"signUpPassword",yM);case"emailLink":return TM(e,{idToken:n,email:this._email,oobCode:this._password});default:ar(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ca(t,e){return Pc(t,"POST","/v1/accounts:signInWithIdp",Kr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SM="http://localhost";class wo extends Wv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new wo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ar("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=$v(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new wo(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Ca(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Ca(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ca(e,n)}buildRequest(){const e={requestUri:SM,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=_c(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IM(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function RM(t){const e=ql(Wl(t)).link,n=e?ql(Wl(e)).deep_link_id:null,r=ql(Wl(t)).deep_link_id;return(r?ql(Wl(r)).link:null)||r||n||e||t}class Kv{constructor(e){var n,r,i,s,o,a;const l=ql(Wl(e)),c=(n=l.apiKey)!==null&&n!==void 0?n:null,d=(r=l.oobCode)!==null&&r!==void 0?r:null,f=IM((i=l.mode)!==null&&i!==void 0?i:null);pe(c&&d&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=d,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=RM(e);try{return new Kv(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class al{constructor(){this.providerId=al.PROVIDER_ID}static credential(e,n){return zu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Kv.parseLink(n);return pe(r,"argument-error"),zu._fromEmailAndCode(e,r.code,r.tenantId)}}al.PROVIDER_ID="password";al.EMAIL_PASSWORD_SIGN_IN_METHOD="password";al.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BA{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xc extends BA{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zi extends xc{constructor(){super("facebook.com")}static credential(e){return wo._fromParams({providerId:zi.PROVIDER_ID,signInMethod:zi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return zi.credentialFromTaggedObject(e)}static credentialFromError(e){return zi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return zi.credential(e.oauthAccessToken)}catch{return null}}}zi.FACEBOOK_SIGN_IN_METHOD="facebook.com";zi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hi extends xc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return wo._fromParams({providerId:Hi.PROVIDER_ID,signInMethod:Hi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Hi.credentialFromTaggedObject(e)}static credentialFromError(e){return Hi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Hi.credential(n,r)}catch{return null}}}Hi.GOOGLE_SIGN_IN_METHOD="google.com";Hi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi extends xc{constructor(){super("github.com")}static credential(e){return wo._fromParams({providerId:qi.PROVIDER_ID,signInMethod:qi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return qi.credentialFromTaggedObject(e)}static credentialFromError(e){return qi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return qi.credential(e.oauthAccessToken)}catch{return null}}}qi.GITHUB_SIGN_IN_METHOD="github.com";qi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wi extends xc{constructor(){super("twitter.com")}static credential(e,n){return wo._fromParams({providerId:Wi.PROVIDER_ID,signInMethod:Wi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Wi.credentialFromTaggedObject(e)}static credentialFromError(e){return Wi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Wi.credential(n,r)}catch{return null}}}Wi.TWITTER_SIGN_IN_METHOD="twitter.com";Wi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AM(t,e){return Pc(t,"POST","/v1/accounts:signUp",Kr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await ai._fromIdTokenResponse(e,r,i),o=wE(r);return new Eo({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=wE(r);return new Eo({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function wE(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mh extends Zt{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Mh.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Mh(e,n,r,i)}}function zA(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Mh._fromErrorAndOperation(t,s,e,r):s})}async function bM(t,e,n=!1){const r=await Bu(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Eo._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CM(t,e,n=!1){const{auth:r}=t;if(Nr(r.app))return Promise.reject(di(r));const i="reauthenticate";try{const s=await Bu(t,zA(r,i,e,t),n);pe(s.idToken,r,"internal-error");const o=Hv(s.idToken);pe(o,r,"internal-error");const{sub:a}=o;return pe(t.uid===a,r,"user-mismatch"),Eo._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&ar(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HA(t,e,n=!1){if(Nr(t.app))return Promise.reject(di(t));const r="signIn",i=await zA(t,r,e),s=await Eo._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function PM(t,e){return HA(Ii(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gv{constructor(e,n){this.factorId=e,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}static _fromServerResponse(e,n){return"phoneInfo"in n?Qv._fromServerResponse(e,n):"totpInfo"in n?Zv._fromServerResponse(e,n):ar(e,"internal-error")}}class Qv extends Gv{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,n){return new Qv(n)}}class Zv extends Gv{constructor(e){super("totp",e)}static _fromServerResponse(e,n){return new Zv(n)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xM(t,e,n){var r;pe(((r=n.url)===null||r===void 0?void 0:r.length)>0,t,"invalid-continue-uri"),pe(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(pe(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(pe(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jv(t){const e=Ii(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function kM(t,e,n){const r=Ii(t),i={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};n&&xM(r,i,n),await Lh(r,i,"getOobCode",wM)}async function OM(t,e,n){await UA(Mt(t),{oobCode:e,newPassword:n}).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&Jv(t),r})}async function NM(t,e){const n=Mt(t),r=await UA(n,{oobCode:e}),i=r.requestType;switch(pe(i,n,"internal-error"),i){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":pe(r.newEmail,n,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":pe(r.mfaInfo,n,"internal-error");default:pe(r.email,n,"internal-error")}let s=null;return r.mfaInfo&&(s=Gv._fromServerResponse(Ii(n),r.mfaInfo)),{data:{email:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.newEmail:r.email)||null,previousEmail:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.email:r.newEmail)||null,multiFactorInfo:s},operation:i}}async function DM(t,e){const{data:n}=await NM(Mt(t),e);return n.email}async function LM(t,e,n){if(Nr(t.app))return Promise.reject(di(t));const r=Ii(t),o=await Lh(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",AM).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&Jv(t),l}),a=await Eo._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function MM(t,e,n){return Nr(t.app)?Promise.reject(di(t)):PM(Mt(t),al.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&Jv(t),r})}async function VM(t,e){const n=Mt(t),i={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()},{email:s}=await _M(n.auth,i);s!==t.email&&await t.reload()}function jM(t,e,n,r){return Mt(t).onIdTokenChanged(e,n,r)}function FM(t,e,n){return Mt(t).beforeAuthStateChanged(e,n)}function UM(t,e,n,r){return Mt(t).onAuthStateChanged(e,n,r)}function $M(t){return Mt(t).signOut()}const Vh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qA{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Vh,"1"),this.storage.removeItem(Vh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BM=1e3,zM=10;class WA extends qA{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=LA(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);eM()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,zM):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},BM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}WA.type="LOCAL";const HM=WA;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KA extends qA{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}KA.type="SESSION";const GA=KA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qM(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ff{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Ff(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async c=>c(n.origin,s)),l=await qM(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ff.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yv(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WM{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const c=Yv("",20);i.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(f){const p=f;if(p.data.eventId===c)switch(p.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(p.data.response);break;default:clearTimeout(d),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $r(){return window}function KM(t){$r().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QA(){return typeof $r().WorkerGlobalScope<"u"&&typeof $r().importScripts=="function"}async function GM(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function QM(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function ZM(){return QA()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZA="firebaseLocalStorageDb",JM=1,jh="firebaseLocalStorage",JA="fbase_key";class kc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Uf(t,e){return t.transaction([jh],e?"readwrite":"readonly").objectStore(jh)}function YM(){const t=indexedDB.deleteDatabase(ZA);return new kc(t).toPromise()}function kg(){const t=indexedDB.open(ZA,JM);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(jh,{keyPath:JA})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(jh)?e(r):(r.close(),await YM(),e(await kg()))})})}async function EE(t,e,n){const r=Uf(t,!0).put({[JA]:e,value:n});return new kc(r).toPromise()}async function XM(t,e){const n=Uf(t,!1).get(e),r=await new kc(n).toPromise();return r===void 0?null:r.value}function TE(t,e){const n=Uf(t,!0).delete(e);return new kc(n).toPromise()}const eV=800,tV=3;class YA{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await kg(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>tV)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return QA()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ff._getInstance(ZM()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await GM(),!this.activeServiceWorker)return;this.sender=new WM(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||QM()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await kg();return await EE(e,Vh,"1"),await TE(e,Vh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>EE(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>XM(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>TE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Uf(i,!1).getAll();return new kc(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),eV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}YA.type="LOCAL";const nV=YA;new Cc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rV(t,e){return e?li(e):(pe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xv extends Wv{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ca(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ca(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ca(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function iV(t){return HA(t.auth,new Xv(t),t.bypassAuthState)}function sV(t){const{auth:e,user:n}=t;return pe(n,e,"internal-error"),CM(n,new Xv(t),t.bypassAuthState)}async function oV(t){const{auth:e,user:n}=t;return pe(n,e,"internal-error"),bM(n,new Xv(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XA{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return iV;case"linkViaPopup":case"linkViaRedirect":return oV;case"reauthViaPopup":case"reauthViaRedirect":return sV;default:ar(this.auth,"internal-error")}}resolve(e){Ei(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ei(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aV=new Cc(2e3,1e4);class ga extends XA{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,ga.currentPopupAction&&ga.currentPopupAction.cancel(),ga.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return pe(e,this.auth,"internal-error"),e}async onExecution(){Ei(this.filter.length===1,"Popup operations only handle one event");const e=Yv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ur(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Ur(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ga.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ur(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,aV.get())};e()}}ga.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lV="pendingRedirect",Kd=new Map;class uV extends XA{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Kd.get(this.auth._key());if(!e){try{const r=await cV(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Kd.set(this.auth._key(),e)}return this.bypassAuthState||Kd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function cV(t,e){const n=fV(e),r=hV(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function dV(t,e){Kd.set(t._key(),e)}function hV(t){return li(t._redirectPersistence)}function fV(t){return Wd(lV,t.config.apiKey,t.name)}async function pV(t,e,n=!1){if(Nr(t.app))return Promise.reject(di(t));const r=Ii(t),i=rV(r,e),o=await new uV(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mV=10*60*1e3;class gV{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!yV(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!eb(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Ur(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=mV&&this.cachedEventUids.clear(),this.cachedEventUids.has(SE(e))}saveEventToCache(e){this.cachedEventUids.add(SE(e)),this.lastProcessedEventTime=Date.now()}}function SE(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function eb({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function yV(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return eb(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vV(t,e={}){return Gr(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _V=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,wV=/^https?/;async function EV(t){if(t.config.emulator)return;const{authorizedDomains:e}=await vV(t);for(const n of e)try{if(TV(n))return}catch{}ar(t,"unauthorized-domain")}function TV(t){const e=Pg(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!wV.test(n))return!1;if(_V.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SV=new Cc(3e4,6e4);function IE(){const t=$r().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function IV(t){return new Promise((e,n)=>{var r,i,s;function o(){IE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{IE(),n(Ur(t,"network-request-failed"))},timeout:SV.get()})}if(!((i=(r=$r().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=$r().gapi)===null||s===void 0)&&s.load)o();else{const a=uM("iframefcb");return $r()[a]=()=>{gapi.load?o():n(Ur(t,"network-request-failed"))},VA(`${lM()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Gd=null,e})}let Gd=null;function RV(t){return Gd=Gd||IV(t),Gd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AV=new Cc(5e3,15e3),bV="__/auth/iframe",CV="emulator/auth/iframe",PV={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},xV=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function kV(t){const e=t.config;pe(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?zv(e,CV):`https://${t.config.authDomain}/${bV}`,r={apiKey:e.apiKey,appName:t.name,v:tl},i=xV.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${_c(r).slice(1)}`}async function OV(t){const e=await RV(t),n=$r().gapi;return pe(n,t,"internal-error"),e.open({where:document.body,url:kV(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:PV,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Ur(t,"network-request-failed"),a=$r().setTimeout(()=>{s(o)},AV.get());function l(){$r().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NV={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},DV=500,LV=600,MV="_blank",VV="http://localhost";class RE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function jV(t,e,n,r=DV,i=LV){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},NV),{width:r.toString(),height:i.toString(),top:s,left:o}),c=un().toLowerCase();n&&(a=xA(c)?MV:n),CA(c)&&(e=e||VV,l.scrollbars="yes");const d=Object.entries(l).reduce((p,[y,w])=>`${p}${y}=${w},`,"");if(XL(c)&&a!=="_self")return FV(e||"",a),new RE(null);const f=window.open(e||"",a,d);pe(f,t,"popup-blocked");try{f.focus()}catch{}return new RE(f)}function FV(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UV="__/auth/handler",$V="emulator/auth/handler",BV=encodeURIComponent("fac");async function AE(t,e,n,r,i,s){pe(t.config.authDomain,t,"auth-domain-config-required"),pe(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:tl,eventId:i};if(e instanceof BA){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",_O(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,f]of Object.entries({}))o[d]=f}if(e instanceof xc){const d=e.getScopes().filter(f=>f!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const d of Object.keys(a))a[d]===void 0&&delete a[d];const l=await t._getAppCheckToken(),c=l?`#${BV}=${encodeURIComponent(l)}`:"";return`${zV(t)}?${_c(a).slice(1)}${c}`}function zV({config:t}){return t.emulator?zv(t,$V):`https://${t.authDomain}/${UV}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const em="webStorageSupport";class HV{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=GA,this._completeRedirectFn=pV,this._overrideRedirectResult=dV}async _openPopup(e,n,r,i){var s;Ei((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await AE(e,n,r,Pg(),i);return jV(e,o,Yv())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await AE(e,n,r,Pg(),i);return KM(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Ei(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await OV(e),r=new gV(e);return n.register("authEvent",i=>(pe(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(em,{type:em},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[em];o!==void 0&&n(!!o),ar(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=EV(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return LA()||PA()||qv()}}const qV=HV;var bE="@firebase/auth",CE="1.7.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WV{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){pe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KV(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function GV(t){ja(new go("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;pe(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:MA(t)},c=new sM(r,i,s,l);return pM(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),ja(new go("auth-internal",e=>{const n=Ii(e.getProvider("auth").getImmediate());return(r=>new WV(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),us(bE,CE,KV(t)),us(bE,CE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QV=5*60,ZV=MI("authIdTokenMaxAge")||QV;let PE=null;const JV=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>ZV)return;const i=n==null?void 0:n.token;PE!==i&&(PE=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function YV(t=UI()){const e=rv(t,"auth");if(e.isInitialized())return e.getImmediate();const n=fM(t,{popupRedirectResolver:qV,persistence:[nV,HM,GA]}),r=MI("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=JV(s.toString());FM(n,o,()=>o(n.currentUser)),jM(n,a=>o(a))}}const i=DI("auth");return i&&jA(n,`http://${i}`),n}function XV(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}oM({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Ur("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",XV().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});GV("Browser");var Fe;(function(t){t.assertEqual=i=>i;function e(i){}t.assertIs=e;function n(i){throw new Error}t.assertNever=n,t.arrayToEnum=i=>{const s={};for(const o of i)s[o]=o;return s},t.getValidEnumValues=i=>{const s=t.objectKeys(i).filter(a=>typeof i[i[a]]!="number"),o={};for(const a of s)o[a]=i[a];return t.objectValues(o)},t.objectValues=i=>t.objectKeys(i).map(function(s){return i[s]}),t.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const s=[];for(const o in i)Object.prototype.hasOwnProperty.call(i,o)&&s.push(o);return s},t.find=(i,s)=>{for(const o of i)if(s(o))return o},t.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&isFinite(i)&&Math.floor(i)===i;function r(i,s=" | "){return i.map(o=>typeof o=="string"?`'${o}'`:o).join(s)}t.joinValues=r,t.jsonStringifyReplacer=(i,s)=>typeof s=="bigint"?s.toString():s})(Fe||(Fe={}));var Og;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(Og||(Og={}));const ie=Fe.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Ki=t=>{switch(typeof t){case"undefined":return ie.undefined;case"string":return ie.string;case"number":return isNaN(t)?ie.nan:ie.number;case"boolean":return ie.boolean;case"function":return ie.function;case"bigint":return ie.bigint;case"symbol":return ie.symbol;case"object":return Array.isArray(t)?ie.array:t===null?ie.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?ie.promise:typeof Map<"u"&&t instanceof Map?ie.map:typeof Set<"u"&&t instanceof Set?ie.set:typeof Date<"u"&&t instanceof Date?ie.date:ie.object;default:return ie.unknown}},J=Fe.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),e4=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");class Cn extends Error{constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){const n=e||function(s){return s.message},r={_errors:[]},i=s=>{for(const o of s.issues)if(o.code==="invalid_union")o.unionErrors.map(i);else if(o.code==="invalid_return_type")i(o.returnTypeError);else if(o.code==="invalid_arguments")i(o.argumentsError);else if(o.path.length===0)r._errors.push(n(o));else{let a=r,l=0;for(;l<o.path.length;){const c=o.path[l];l===o.path.length-1?(a[c]=a[c]||{_errors:[]},a[c]._errors.push(n(o))):a[c]=a[c]||{_errors:[]},a=a[c],l++}}};return i(this),r}static assert(e){if(!(e instanceof Cn))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Fe.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},r=[];for(const i of this.issues)i.path.length>0?(n[i.path[0]]=n[i.path[0]]||[],n[i.path[0]].push(e(i))):r.push(e(i));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}Cn.create=t=>new Cn(t);const Wa=(t,e)=>{let n;switch(t.code){case J.invalid_type:t.received===ie.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case J.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,Fe.jsonStringifyReplacer)}`;break;case J.unrecognized_keys:n=`Unrecognized key(s) in object: ${Fe.joinValues(t.keys,", ")}`;break;case J.invalid_union:n="Invalid input";break;case J.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${Fe.joinValues(t.options)}`;break;case J.invalid_enum_value:n=`Invalid enum value. Expected ${Fe.joinValues(t.options)}, received '${t.received}'`;break;case J.invalid_arguments:n="Invalid function arguments";break;case J.invalid_return_type:n="Invalid function return type";break;case J.invalid_date:n="Invalid date";break;case J.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:Fe.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case J.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case J.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case J.custom:n="Invalid input";break;case J.invalid_intersection_types:n="Intersection results could not be merged";break;case J.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case J.not_finite:n="Number must be finite";break;default:n=e.defaultError,Fe.assertNever(t)}return{message:n}};let tb=Wa;function t4(t){tb=t}function Fh(){return tb}const Uh=t=>{const{data:e,path:n,errorMaps:r,issueData:i}=t,s=[...n,...i.path||[]],o={...i,path:s};if(i.message!==void 0)return{...i,path:s,message:i.message};let a="";const l=r.filter(c=>!!c).slice().reverse();for(const c of l)a=c(o,{data:e,defaultError:a}).message;return{...i,path:s,message:a}},n4=[];function re(t,e){const n=Fh(),r=Uh({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,n,n===Wa?void 0:Wa].filter(i=>!!i)});t.common.issues.push(r)}class cn{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const r=[];for(const i of n){if(i.status==="aborted")return Te;i.status==="dirty"&&e.dirty(),r.push(i.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,n){const r=[];for(const i of n){const s=await i.key,o=await i.value;r.push({key:s,value:o})}return cn.mergeObjectSync(e,r)}static mergeObjectSync(e,n){const r={};for(const i of n){const{key:s,value:o}=i;if(s.status==="aborted"||o.status==="aborted")return Te;s.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),s.value!=="__proto__"&&(typeof o.value<"u"||i.alwaysSet)&&(r[s.value]=o.value)}return{status:e.value,value:r}}}const Te=Object.freeze({status:"aborted"}),ya=t=>({status:"dirty",value:t}),yn=t=>({status:"valid",value:t}),Ng=t=>t.status==="aborted",Dg=t=>t.status==="dirty",Hu=t=>t.status==="valid",qu=t=>typeof Promise<"u"&&t instanceof Promise;function $h(t,e,n,r){if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e.get(t)}function nb(t,e,n,r,i){if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,n),n}var he;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(he||(he={}));var Jl,Yl;class Hr{constructor(e,n,r,i){this._cachedPath=[],this.parent=e,this.data=n,this._path=r,this._key=i}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const xE=(t,e)=>{if(Hu(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new Cn(t.common.issues);return this._error=n,this._error}}};function Oe(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:r,description:i}=t;if(e&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:i}:{errorMap:(o,a)=>{var l,c;const{message:d}=t;return o.code==="invalid_enum_value"?{message:d??a.defaultError}:typeof a.data>"u"?{message:(l=d??r)!==null&&l!==void 0?l:a.defaultError}:o.code!=="invalid_type"?{message:a.defaultError}:{message:(c=d??n)!==null&&c!==void 0?c:a.defaultError}},description:i}}class Ne{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return Ki(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:Ki(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new cn,ctx:{common:e.parent.common,data:e.data,parsedType:Ki(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(qu(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const r=this.safeParse(e,n);if(r.success)return r.data;throw r.error}safeParse(e,n){var r;const i={common:{issues:[],async:(r=n==null?void 0:n.async)!==null&&r!==void 0?r:!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Ki(e)},s=this._parseSync({data:e,path:i.path,parent:i});return xE(i,s)}async parseAsync(e,n){const r=await this.safeParseAsync(e,n);if(r.success)return r.data;throw r.error}async safeParseAsync(e,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Ki(e)},i=this._parse({data:e,path:r.path,parent:r}),s=await(qu(i)?i:Promise.resolve(i));return xE(r,s)}refine(e,n){const r=i=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(i):n;return this._refinement((i,s)=>{const o=e(i),a=()=>s.addIssue({code:J.custom,...r(i)});return typeof Promise<"u"&&o instanceof Promise?o.then(l=>l?!0:(a(),!1)):o?!0:(a(),!1)})}refinement(e,n){return this._refinement((r,i)=>e(r)?!0:(i.addIssue(typeof n=="function"?n(r,i):n),!1))}_refinement(e){return new Ir({schema:this,typeName:we.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return Br.create(this,this._def)}nullable(){return ws.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Er.create(this,this._def)}promise(){return Ga.create(this,this._def)}or(e){return Qu.create([this,e],this._def)}and(e){return Zu.create(this,e,this._def)}transform(e){return new Ir({...Oe(this._def),schema:this,typeName:we.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new tc({...Oe(this._def),innerType:this,defaultValue:n,typeName:we.ZodDefault})}brand(){return new e_({typeName:we.ZodBranded,type:this,...Oe(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new nc({...Oe(this._def),innerType:this,catchValue:n,typeName:we.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return Oc.create(this,e)}readonly(){return rc.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const r4=/^c[^\s-]{8,}$/i,i4=/^[0-9a-z]+$/,s4=/^[0-9A-HJKMNP-TV-Z]{26}$/,o4=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,a4=/^[a-z0-9_-]{21}$/i,l4=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,u4=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,c4="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let tm;const d4=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,h4=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,f4=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,rb="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",p4=new RegExp(`^${rb}$`);function ib(t){let e="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`),e}function m4(t){return new RegExp(`^${ib(t)}$`)}function sb(t){let e=`${rb}T${ib(t)}`;const n=[];return n.push(t.local?"Z?":"Z"),t.offset&&n.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${n.join("|")})`,new RegExp(`^${e}$`)}function g4(t,e){return!!((e==="v4"||!e)&&d4.test(t)||(e==="v6"||!e)&&h4.test(t))}class vr extends Ne{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==ie.string){const s=this._getOrReturnCtx(e);return re(s,{code:J.invalid_type,expected:ie.string,received:s.parsedType}),Te}const r=new cn;let i;for(const s of this._def.checks)if(s.kind==="min")e.data.length<s.value&&(i=this._getOrReturnCtx(e,i),re(i,{code:J.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),r.dirty());else if(s.kind==="max")e.data.length>s.value&&(i=this._getOrReturnCtx(e,i),re(i,{code:J.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),r.dirty());else if(s.kind==="length"){const o=e.data.length>s.value,a=e.data.length<s.value;(o||a)&&(i=this._getOrReturnCtx(e,i),o?re(i,{code:J.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}):a&&re(i,{code:J.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}),r.dirty())}else if(s.kind==="email")u4.test(e.data)||(i=this._getOrReturnCtx(e,i),re(i,{validation:"email",code:J.invalid_string,message:s.message}),r.dirty());else if(s.kind==="emoji")tm||(tm=new RegExp(c4,"u")),tm.test(e.data)||(i=this._getOrReturnCtx(e,i),re(i,{validation:"emoji",code:J.invalid_string,message:s.message}),r.dirty());else if(s.kind==="uuid")o4.test(e.data)||(i=this._getOrReturnCtx(e,i),re(i,{validation:"uuid",code:J.invalid_string,message:s.message}),r.dirty());else if(s.kind==="nanoid")a4.test(e.data)||(i=this._getOrReturnCtx(e,i),re(i,{validation:"nanoid",code:J.invalid_string,message:s.message}),r.dirty());else if(s.kind==="cuid")r4.test(e.data)||(i=this._getOrReturnCtx(e,i),re(i,{validation:"cuid",code:J.invalid_string,message:s.message}),r.dirty());else if(s.kind==="cuid2")i4.test(e.data)||(i=this._getOrReturnCtx(e,i),re(i,{validation:"cuid2",code:J.invalid_string,message:s.message}),r.dirty());else if(s.kind==="ulid")s4.test(e.data)||(i=this._getOrReturnCtx(e,i),re(i,{validation:"ulid",code:J.invalid_string,message:s.message}),r.dirty());else if(s.kind==="url")try{new URL(e.data)}catch{i=this._getOrReturnCtx(e,i),re(i,{validation:"url",code:J.invalid_string,message:s.message}),r.dirty()}else s.kind==="regex"?(s.regex.lastIndex=0,s.regex.test(e.data)||(i=this._getOrReturnCtx(e,i),re(i,{validation:"regex",code:J.invalid_string,message:s.message}),r.dirty())):s.kind==="trim"?e.data=e.data.trim():s.kind==="includes"?e.data.includes(s.value,s.position)||(i=this._getOrReturnCtx(e,i),re(i,{code:J.invalid_string,validation:{includes:s.value,position:s.position},message:s.message}),r.dirty()):s.kind==="toLowerCase"?e.data=e.data.toLowerCase():s.kind==="toUpperCase"?e.data=e.data.toUpperCase():s.kind==="startsWith"?e.data.startsWith(s.value)||(i=this._getOrReturnCtx(e,i),re(i,{code:J.invalid_string,validation:{startsWith:s.value},message:s.message}),r.dirty()):s.kind==="endsWith"?e.data.endsWith(s.value)||(i=this._getOrReturnCtx(e,i),re(i,{code:J.invalid_string,validation:{endsWith:s.value},message:s.message}),r.dirty()):s.kind==="datetime"?sb(s).test(e.data)||(i=this._getOrReturnCtx(e,i),re(i,{code:J.invalid_string,validation:"datetime",message:s.message}),r.dirty()):s.kind==="date"?p4.test(e.data)||(i=this._getOrReturnCtx(e,i),re(i,{code:J.invalid_string,validation:"date",message:s.message}),r.dirty()):s.kind==="time"?m4(s).test(e.data)||(i=this._getOrReturnCtx(e,i),re(i,{code:J.invalid_string,validation:"time",message:s.message}),r.dirty()):s.kind==="duration"?l4.test(e.data)||(i=this._getOrReturnCtx(e,i),re(i,{validation:"duration",code:J.invalid_string,message:s.message}),r.dirty()):s.kind==="ip"?g4(e.data,s.version)||(i=this._getOrReturnCtx(e,i),re(i,{validation:"ip",code:J.invalid_string,message:s.message}),r.dirty()):s.kind==="base64"?f4.test(e.data)||(i=this._getOrReturnCtx(e,i),re(i,{validation:"base64",code:J.invalid_string,message:s.message}),r.dirty()):Fe.assertNever(s);return{status:r.value,value:e.data}}_regex(e,n,r){return this.refinement(i=>e.test(i),{validation:n,code:J.invalid_string,...he.errToObj(r)})}_addCheck(e){return new vr({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...he.errToObj(e)})}url(e){return this._addCheck({kind:"url",...he.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...he.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...he.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...he.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...he.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...he.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...he.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...he.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...he.errToObj(e)})}datetime(e){var n,r;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(n=e==null?void 0:e.offset)!==null&&n!==void 0?n:!1,local:(r=e==null?void 0:e.local)!==null&&r!==void 0?r:!1,...he.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...he.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...he.errToObj(e)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...he.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n==null?void 0:n.position,...he.errToObj(n==null?void 0:n.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...he.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...he.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...he.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...he.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...he.errToObj(n)})}nonempty(e){return this.min(1,he.errToObj(e))}trim(){return new vr({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new vr({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new vr({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}vr.create=t=>{var e;return new vr({checks:[],typeName:we.ZodString,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...Oe(t)})};function y4(t,e){const n=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,i=n>r?n:r,s=parseInt(t.toFixed(i).replace(".","")),o=parseInt(e.toFixed(i).replace(".",""));return s%o/Math.pow(10,i)}class ys extends Ne{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==ie.number){const s=this._getOrReturnCtx(e);return re(s,{code:J.invalid_type,expected:ie.number,received:s.parsedType}),Te}let r;const i=new cn;for(const s of this._def.checks)s.kind==="int"?Fe.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),re(r,{code:J.invalid_type,expected:"integer",received:"float",message:s.message}),i.dirty()):s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(r=this._getOrReturnCtx(e,r),re(r,{code:J.too_small,minimum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(r=this._getOrReturnCtx(e,r),re(r,{code:J.too_big,maximum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="multipleOf"?y4(e.data,s.value)!==0&&(r=this._getOrReturnCtx(e,r),re(r,{code:J.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):s.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),re(r,{code:J.not_finite,message:s.message}),i.dirty()):Fe.assertNever(s);return{status:i.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,he.toString(n))}gt(e,n){return this.setLimit("min",e,!1,he.toString(n))}lte(e,n){return this.setLimit("max",e,!0,he.toString(n))}lt(e,n){return this.setLimit("max",e,!1,he.toString(n))}setLimit(e,n,r,i){return new ys({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:he.toString(i)}]})}_addCheck(e){return new ys({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:he.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:he.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:he.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:he.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:he.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:he.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:he.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:he.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:he.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&Fe.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(n)&&Number.isFinite(e)}}ys.create=t=>new ys({checks:[],typeName:we.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...Oe(t)});class vs extends Ne{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce&&(e.data=BigInt(e.data)),this._getType(e)!==ie.bigint){const s=this._getOrReturnCtx(e);return re(s,{code:J.invalid_type,expected:ie.bigint,received:s.parsedType}),Te}let r;const i=new cn;for(const s of this._def.checks)s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(r=this._getOrReturnCtx(e,r),re(r,{code:J.too_small,type:"bigint",minimum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(r=this._getOrReturnCtx(e,r),re(r,{code:J.too_big,type:"bigint",maximum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="multipleOf"?e.data%s.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),re(r,{code:J.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):Fe.assertNever(s);return{status:i.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,he.toString(n))}gt(e,n){return this.setLimit("min",e,!1,he.toString(n))}lte(e,n){return this.setLimit("max",e,!0,he.toString(n))}lt(e,n){return this.setLimit("max",e,!1,he.toString(n))}setLimit(e,n,r,i){return new vs({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:he.toString(i)}]})}_addCheck(e){return new vs({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:he.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:he.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:he.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:he.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:he.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}vs.create=t=>{var e;return new vs({checks:[],typeName:we.ZodBigInt,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...Oe(t)})};class Wu extends Ne{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==ie.boolean){const r=this._getOrReturnCtx(e);return re(r,{code:J.invalid_type,expected:ie.boolean,received:r.parsedType}),Te}return yn(e.data)}}Wu.create=t=>new Wu({typeName:we.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...Oe(t)});class To extends Ne{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==ie.date){const s=this._getOrReturnCtx(e);return re(s,{code:J.invalid_type,expected:ie.date,received:s.parsedType}),Te}if(isNaN(e.data.getTime())){const s=this._getOrReturnCtx(e);return re(s,{code:J.invalid_date}),Te}const r=new cn;let i;for(const s of this._def.checks)s.kind==="min"?e.data.getTime()<s.value&&(i=this._getOrReturnCtx(e,i),re(i,{code:J.too_small,message:s.message,inclusive:!0,exact:!1,minimum:s.value,type:"date"}),r.dirty()):s.kind==="max"?e.data.getTime()>s.value&&(i=this._getOrReturnCtx(e,i),re(i,{code:J.too_big,message:s.message,inclusive:!0,exact:!1,maximum:s.value,type:"date"}),r.dirty()):Fe.assertNever(s);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new To({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:he.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:he.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}To.create=t=>new To({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:we.ZodDate,...Oe(t)});class Bh extends Ne{_parse(e){if(this._getType(e)!==ie.symbol){const r=this._getOrReturnCtx(e);return re(r,{code:J.invalid_type,expected:ie.symbol,received:r.parsedType}),Te}return yn(e.data)}}Bh.create=t=>new Bh({typeName:we.ZodSymbol,...Oe(t)});class Ku extends Ne{_parse(e){if(this._getType(e)!==ie.undefined){const r=this._getOrReturnCtx(e);return re(r,{code:J.invalid_type,expected:ie.undefined,received:r.parsedType}),Te}return yn(e.data)}}Ku.create=t=>new Ku({typeName:we.ZodUndefined,...Oe(t)});class Gu extends Ne{_parse(e){if(this._getType(e)!==ie.null){const r=this._getOrReturnCtx(e);return re(r,{code:J.invalid_type,expected:ie.null,received:r.parsedType}),Te}return yn(e.data)}}Gu.create=t=>new Gu({typeName:we.ZodNull,...Oe(t)});class Ka extends Ne{constructor(){super(...arguments),this._any=!0}_parse(e){return yn(e.data)}}Ka.create=t=>new Ka({typeName:we.ZodAny,...Oe(t)});class oo extends Ne{constructor(){super(...arguments),this._unknown=!0}_parse(e){return yn(e.data)}}oo.create=t=>new oo({typeName:we.ZodUnknown,...Oe(t)});class Ti extends Ne{_parse(e){const n=this._getOrReturnCtx(e);return re(n,{code:J.invalid_type,expected:ie.never,received:n.parsedType}),Te}}Ti.create=t=>new Ti({typeName:we.ZodNever,...Oe(t)});class zh extends Ne{_parse(e){if(this._getType(e)!==ie.undefined){const r=this._getOrReturnCtx(e);return re(r,{code:J.invalid_type,expected:ie.void,received:r.parsedType}),Te}return yn(e.data)}}zh.create=t=>new zh({typeName:we.ZodVoid,...Oe(t)});class Er extends Ne{_parse(e){const{ctx:n,status:r}=this._processInputParams(e),i=this._def;if(n.parsedType!==ie.array)return re(n,{code:J.invalid_type,expected:ie.array,received:n.parsedType}),Te;if(i.exactLength!==null){const o=n.data.length>i.exactLength.value,a=n.data.length<i.exactLength.value;(o||a)&&(re(n,{code:o?J.too_big:J.too_small,minimum:a?i.exactLength.value:void 0,maximum:o?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),r.dirty())}if(i.minLength!==null&&n.data.length<i.minLength.value&&(re(n,{code:J.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),r.dirty()),i.maxLength!==null&&n.data.length>i.maxLength.value&&(re(n,{code:J.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((o,a)=>i.type._parseAsync(new Hr(n,o,n.path,a)))).then(o=>cn.mergeArray(r,o));const s=[...n.data].map((o,a)=>i.type._parseSync(new Hr(n,o,n.path,a)));return cn.mergeArray(r,s)}get element(){return this._def.type}min(e,n){return new Er({...this._def,minLength:{value:e,message:he.toString(n)}})}max(e,n){return new Er({...this._def,maxLength:{value:e,message:he.toString(n)}})}length(e,n){return new Er({...this._def,exactLength:{value:e,message:he.toString(n)}})}nonempty(e){return this.min(1,e)}}Er.create=(t,e)=>new Er({type:t,minLength:null,maxLength:null,exactLength:null,typeName:we.ZodArray,...Oe(e)});function ra(t){if(t instanceof dt){const e={};for(const n in t.shape){const r=t.shape[n];e[n]=Br.create(ra(r))}return new dt({...t._def,shape:()=>e})}else return t instanceof Er?new Er({...t._def,type:ra(t.element)}):t instanceof Br?Br.create(ra(t.unwrap())):t instanceof ws?ws.create(ra(t.unwrap())):t instanceof qr?qr.create(t.items.map(e=>ra(e))):t}class dt extends Ne{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=Fe.objectKeys(e);return this._cached={shape:e,keys:n}}_parse(e){if(this._getType(e)!==ie.object){const c=this._getOrReturnCtx(e);return re(c,{code:J.invalid_type,expected:ie.object,received:c.parsedType}),Te}const{status:r,ctx:i}=this._processInputParams(e),{shape:s,keys:o}=this._getCached(),a=[];if(!(this._def.catchall instanceof Ti&&this._def.unknownKeys==="strip"))for(const c in i.data)o.includes(c)||a.push(c);const l=[];for(const c of o){const d=s[c],f=i.data[c];l.push({key:{status:"valid",value:c},value:d._parse(new Hr(i,f,i.path,c)),alwaysSet:c in i.data})}if(this._def.catchall instanceof Ti){const c=this._def.unknownKeys;if(c==="passthrough")for(const d of a)l.push({key:{status:"valid",value:d},value:{status:"valid",value:i.data[d]}});else if(c==="strict")a.length>0&&(re(i,{code:J.unrecognized_keys,keys:a}),r.dirty());else if(c!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const c=this._def.catchall;for(const d of a){const f=i.data[d];l.push({key:{status:"valid",value:d},value:c._parse(new Hr(i,f,i.path,d)),alwaysSet:d in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const c=[];for(const d of l){const f=await d.key,p=await d.value;c.push({key:f,value:p,alwaysSet:d.alwaysSet})}return c}).then(c=>cn.mergeObjectSync(r,c)):cn.mergeObjectSync(r,l)}get shape(){return this._def.shape()}strict(e){return he.errToObj,new dt({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,r)=>{var i,s,o,a;const l=(o=(s=(i=this._def).errorMap)===null||s===void 0?void 0:s.call(i,n,r).message)!==null&&o!==void 0?o:r.defaultError;return n.code==="unrecognized_keys"?{message:(a=he.errToObj(e).message)!==null&&a!==void 0?a:l}:{message:l}}}:{}})}strip(){return new dt({...this._def,unknownKeys:"strip"})}passthrough(){return new dt({...this._def,unknownKeys:"passthrough"})}extend(e){return new dt({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new dt({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:we.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new dt({...this._def,catchall:e})}pick(e){const n={};return Fe.objectKeys(e).forEach(r=>{e[r]&&this.shape[r]&&(n[r]=this.shape[r])}),new dt({...this._def,shape:()=>n})}omit(e){const n={};return Fe.objectKeys(this.shape).forEach(r=>{e[r]||(n[r]=this.shape[r])}),new dt({...this._def,shape:()=>n})}deepPartial(){return ra(this)}partial(e){const n={};return Fe.objectKeys(this.shape).forEach(r=>{const i=this.shape[r];e&&!e[r]?n[r]=i:n[r]=i.optional()}),new dt({...this._def,shape:()=>n})}required(e){const n={};return Fe.objectKeys(this.shape).forEach(r=>{if(e&&!e[r])n[r]=this.shape[r];else{let s=this.shape[r];for(;s instanceof Br;)s=s._def.innerType;n[r]=s}}),new dt({...this._def,shape:()=>n})}keyof(){return ob(Fe.objectKeys(this.shape))}}dt.create=(t,e)=>new dt({shape:()=>t,unknownKeys:"strip",catchall:Ti.create(),typeName:we.ZodObject,...Oe(e)});dt.strictCreate=(t,e)=>new dt({shape:()=>t,unknownKeys:"strict",catchall:Ti.create(),typeName:we.ZodObject,...Oe(e)});dt.lazycreate=(t,e)=>new dt({shape:t,unknownKeys:"strip",catchall:Ti.create(),typeName:we.ZodObject,...Oe(e)});class Qu extends Ne{_parse(e){const{ctx:n}=this._processInputParams(e),r=this._def.options;function i(s){for(const a of s)if(a.result.status==="valid")return a.result;for(const a of s)if(a.result.status==="dirty")return n.common.issues.push(...a.ctx.common.issues),a.result;const o=s.map(a=>new Cn(a.ctx.common.issues));return re(n,{code:J.invalid_union,unionErrors:o}),Te}if(n.common.async)return Promise.all(r.map(async s=>{const o={...n,common:{...n.common,issues:[]},parent:null};return{result:await s._parseAsync({data:n.data,path:n.path,parent:o}),ctx:o}})).then(i);{let s;const o=[];for(const l of r){const c={...n,common:{...n.common,issues:[]},parent:null},d=l._parseSync({data:n.data,path:n.path,parent:c});if(d.status==="valid")return d;d.status==="dirty"&&!s&&(s={result:d,ctx:c}),c.common.issues.length&&o.push(c.common.issues)}if(s)return n.common.issues.push(...s.ctx.common.issues),s.result;const a=o.map(l=>new Cn(l));return re(n,{code:J.invalid_union,unionErrors:a}),Te}}get options(){return this._def.options}}Qu.create=(t,e)=>new Qu({options:t,typeName:we.ZodUnion,...Oe(e)});const ei=t=>t instanceof Yu?ei(t.schema):t instanceof Ir?ei(t.innerType()):t instanceof Xu?[t.value]:t instanceof _s?t.options:t instanceof ec?Fe.objectValues(t.enum):t instanceof tc?ei(t._def.innerType):t instanceof Ku?[void 0]:t instanceof Gu?[null]:t instanceof Br?[void 0,...ei(t.unwrap())]:t instanceof ws?[null,...ei(t.unwrap())]:t instanceof e_||t instanceof rc?ei(t.unwrap()):t instanceof nc?ei(t._def.innerType):[];class $f extends Ne{_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==ie.object)return re(n,{code:J.invalid_type,expected:ie.object,received:n.parsedType}),Te;const r=this.discriminator,i=n.data[r],s=this.optionsMap.get(i);return s?n.common.async?s._parseAsync({data:n.data,path:n.path,parent:n}):s._parseSync({data:n.data,path:n.path,parent:n}):(re(n,{code:J.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),Te)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,n,r){const i=new Map;for(const s of n){const o=ei(s.shape[e]);if(!o.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const a of o){if(i.has(a))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(a)}`);i.set(a,s)}}return new $f({typeName:we.ZodDiscriminatedUnion,discriminator:e,options:n,optionsMap:i,...Oe(r)})}}function Lg(t,e){const n=Ki(t),r=Ki(e);if(t===e)return{valid:!0,data:t};if(n===ie.object&&r===ie.object){const i=Fe.objectKeys(e),s=Fe.objectKeys(t).filter(a=>i.indexOf(a)!==-1),o={...t,...e};for(const a of s){const l=Lg(t[a],e[a]);if(!l.valid)return{valid:!1};o[a]=l.data}return{valid:!0,data:o}}else if(n===ie.array&&r===ie.array){if(t.length!==e.length)return{valid:!1};const i=[];for(let s=0;s<t.length;s++){const o=t[s],a=e[s],l=Lg(o,a);if(!l.valid)return{valid:!1};i.push(l.data)}return{valid:!0,data:i}}else return n===ie.date&&r===ie.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class Zu extends Ne{_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=(s,o)=>{if(Ng(s)||Ng(o))return Te;const a=Lg(s.value,o.value);return a.valid?((Dg(s)||Dg(o))&&n.dirty(),{status:n.value,value:a.data}):(re(r,{code:J.invalid_intersection_types}),Te)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([s,o])=>i(s,o)):i(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}Zu.create=(t,e,n)=>new Zu({left:t,right:e,typeName:we.ZodIntersection,...Oe(n)});class qr extends Ne{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==ie.array)return re(r,{code:J.invalid_type,expected:ie.array,received:r.parsedType}),Te;if(r.data.length<this._def.items.length)return re(r,{code:J.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Te;!this._def.rest&&r.data.length>this._def.items.length&&(re(r,{code:J.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const s=[...r.data].map((o,a)=>{const l=this._def.items[a]||this._def.rest;return l?l._parse(new Hr(r,o,r.path,a)):null}).filter(o=>!!o);return r.common.async?Promise.all(s).then(o=>cn.mergeArray(n,o)):cn.mergeArray(n,s)}get items(){return this._def.items}rest(e){return new qr({...this._def,rest:e})}}qr.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new qr({items:t,typeName:we.ZodTuple,rest:null,...Oe(e)})};class Ju extends Ne{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==ie.object)return re(r,{code:J.invalid_type,expected:ie.object,received:r.parsedType}),Te;const i=[],s=this._def.keyType,o=this._def.valueType;for(const a in r.data)i.push({key:s._parse(new Hr(r,a,r.path,a)),value:o._parse(new Hr(r,r.data[a],r.path,a)),alwaysSet:a in r.data});return r.common.async?cn.mergeObjectAsync(n,i):cn.mergeObjectSync(n,i)}get element(){return this._def.valueType}static create(e,n,r){return n instanceof Ne?new Ju({keyType:e,valueType:n,typeName:we.ZodRecord,...Oe(r)}):new Ju({keyType:vr.create(),valueType:e,typeName:we.ZodRecord,...Oe(n)})}}class Hh extends Ne{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==ie.map)return re(r,{code:J.invalid_type,expected:ie.map,received:r.parsedType}),Te;const i=this._def.keyType,s=this._def.valueType,o=[...r.data.entries()].map(([a,l],c)=>({key:i._parse(new Hr(r,a,r.path,[c,"key"])),value:s._parse(new Hr(r,l,r.path,[c,"value"]))}));if(r.common.async){const a=new Map;return Promise.resolve().then(async()=>{for(const l of o){const c=await l.key,d=await l.value;if(c.status==="aborted"||d.status==="aborted")return Te;(c.status==="dirty"||d.status==="dirty")&&n.dirty(),a.set(c.value,d.value)}return{status:n.value,value:a}})}else{const a=new Map;for(const l of o){const c=l.key,d=l.value;if(c.status==="aborted"||d.status==="aborted")return Te;(c.status==="dirty"||d.status==="dirty")&&n.dirty(),a.set(c.value,d.value)}return{status:n.value,value:a}}}}Hh.create=(t,e,n)=>new Hh({valueType:e,keyType:t,typeName:we.ZodMap,...Oe(n)});class So extends Ne{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==ie.set)return re(r,{code:J.invalid_type,expected:ie.set,received:r.parsedType}),Te;const i=this._def;i.minSize!==null&&r.data.size<i.minSize.value&&(re(r,{code:J.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),n.dirty()),i.maxSize!==null&&r.data.size>i.maxSize.value&&(re(r,{code:J.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),n.dirty());const s=this._def.valueType;function o(l){const c=new Set;for(const d of l){if(d.status==="aborted")return Te;d.status==="dirty"&&n.dirty(),c.add(d.value)}return{status:n.value,value:c}}const a=[...r.data.values()].map((l,c)=>s._parse(new Hr(r,l,r.path,c)));return r.common.async?Promise.all(a).then(l=>o(l)):o(a)}min(e,n){return new So({...this._def,minSize:{value:e,message:he.toString(n)}})}max(e,n){return new So({...this._def,maxSize:{value:e,message:he.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}So.create=(t,e)=>new So({valueType:t,minSize:null,maxSize:null,typeName:we.ZodSet,...Oe(e)});class Pa extends Ne{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==ie.function)return re(n,{code:J.invalid_type,expected:ie.function,received:n.parsedType}),Te;function r(a,l){return Uh({data:a,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,Fh(),Wa].filter(c=>!!c),issueData:{code:J.invalid_arguments,argumentsError:l}})}function i(a,l){return Uh({data:a,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,Fh(),Wa].filter(c=>!!c),issueData:{code:J.invalid_return_type,returnTypeError:l}})}const s={errorMap:n.common.contextualErrorMap},o=n.data;if(this._def.returns instanceof Ga){const a=this;return yn(async function(...l){const c=new Cn([]),d=await a._def.args.parseAsync(l,s).catch(y=>{throw c.addIssue(r(l,y)),c}),f=await Reflect.apply(o,this,d);return await a._def.returns._def.type.parseAsync(f,s).catch(y=>{throw c.addIssue(i(f,y)),c})})}else{const a=this;return yn(function(...l){const c=a._def.args.safeParse(l,s);if(!c.success)throw new Cn([r(l,c.error)]);const d=Reflect.apply(o,this,c.data),f=a._def.returns.safeParse(d,s);if(!f.success)throw new Cn([i(d,f.error)]);return f.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new Pa({...this._def,args:qr.create(e).rest(oo.create())})}returns(e){return new Pa({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,n,r){return new Pa({args:e||qr.create([]).rest(oo.create()),returns:n||oo.create(),typeName:we.ZodFunction,...Oe(r)})}}class Yu extends Ne{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}Yu.create=(t,e)=>new Yu({getter:t,typeName:we.ZodLazy,...Oe(e)});class Xu extends Ne{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return re(n,{received:n.data,code:J.invalid_literal,expected:this._def.value}),Te}return{status:"valid",value:e.data}}get value(){return this._def.value}}Xu.create=(t,e)=>new Xu({value:t,typeName:we.ZodLiteral,...Oe(e)});function ob(t,e){return new _s({values:t,typeName:we.ZodEnum,...Oe(e)})}class _s extends Ne{constructor(){super(...arguments),Jl.set(this,void 0)}_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),r=this._def.values;return re(n,{expected:Fe.joinValues(r),received:n.parsedType,code:J.invalid_type}),Te}if($h(this,Jl)||nb(this,Jl,new Set(this._def.values)),!$h(this,Jl).has(e.data)){const n=this._getOrReturnCtx(e),r=this._def.values;return re(n,{received:n.data,code:J.invalid_enum_value,options:r}),Te}return yn(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e,n=this._def){return _s.create(e,{...this._def,...n})}exclude(e,n=this._def){return _s.create(this.options.filter(r=>!e.includes(r)),{...this._def,...n})}}Jl=new WeakMap;_s.create=ob;class ec extends Ne{constructor(){super(...arguments),Yl.set(this,void 0)}_parse(e){const n=Fe.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==ie.string&&r.parsedType!==ie.number){const i=Fe.objectValues(n);return re(r,{expected:Fe.joinValues(i),received:r.parsedType,code:J.invalid_type}),Te}if($h(this,Yl)||nb(this,Yl,new Set(Fe.getValidEnumValues(this._def.values))),!$h(this,Yl).has(e.data)){const i=Fe.objectValues(n);return re(r,{received:r.data,code:J.invalid_enum_value,options:i}),Te}return yn(e.data)}get enum(){return this._def.values}}Yl=new WeakMap;ec.create=(t,e)=>new ec({values:t,typeName:we.ZodNativeEnum,...Oe(e)});class Ga extends Ne{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==ie.promise&&n.common.async===!1)return re(n,{code:J.invalid_type,expected:ie.promise,received:n.parsedType}),Te;const r=n.parsedType===ie.promise?n.data:Promise.resolve(n.data);return yn(r.then(i=>this._def.type.parseAsync(i,{path:n.path,errorMap:n.common.contextualErrorMap})))}}Ga.create=(t,e)=>new Ga({type:t,typeName:we.ZodPromise,...Oe(e)});class Ir extends Ne{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===we.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=this._def.effect||null,s={addIssue:o=>{re(r,o),o.fatal?n.abort():n.dirty()},get path(){return r.path}};if(s.addIssue=s.addIssue.bind(s),i.type==="preprocess"){const o=i.transform(r.data,s);if(r.common.async)return Promise.resolve(o).then(async a=>{if(n.value==="aborted")return Te;const l=await this._def.schema._parseAsync({data:a,path:r.path,parent:r});return l.status==="aborted"?Te:l.status==="dirty"||n.value==="dirty"?ya(l.value):l});{if(n.value==="aborted")return Te;const a=this._def.schema._parseSync({data:o,path:r.path,parent:r});return a.status==="aborted"?Te:a.status==="dirty"||n.value==="dirty"?ya(a.value):a}}if(i.type==="refinement"){const o=a=>{const l=i.refinement(a,s);if(r.common.async)return Promise.resolve(l);if(l instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return a};if(r.common.async===!1){const a=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?Te:(a.status==="dirty"&&n.dirty(),o(a.value),{status:n.value,value:a.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(a=>a.status==="aborted"?Te:(a.status==="dirty"&&n.dirty(),o(a.value).then(()=>({status:n.value,value:a.value}))))}if(i.type==="transform")if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!Hu(o))return o;const a=i.transform(o.value,s);if(a instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:a}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>Hu(o)?Promise.resolve(i.transform(o.value,s)).then(a=>({status:n.value,value:a})):o);Fe.assertNever(i)}}Ir.create=(t,e,n)=>new Ir({schema:t,typeName:we.ZodEffects,effect:e,...Oe(n)});Ir.createWithPreprocess=(t,e,n)=>new Ir({schema:e,effect:{type:"preprocess",transform:t},typeName:we.ZodEffects,...Oe(n)});class Br extends Ne{_parse(e){return this._getType(e)===ie.undefined?yn(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Br.create=(t,e)=>new Br({innerType:t,typeName:we.ZodOptional,...Oe(e)});class ws extends Ne{_parse(e){return this._getType(e)===ie.null?yn(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}ws.create=(t,e)=>new ws({innerType:t,typeName:we.ZodNullable,...Oe(e)});class tc extends Ne{_parse(e){const{ctx:n}=this._processInputParams(e);let r=n.data;return n.parsedType===ie.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}tc.create=(t,e)=>new tc({innerType:t,typeName:we.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...Oe(e)});class nc extends Ne{_parse(e){const{ctx:n}=this._processInputParams(e),r={...n,common:{...n.common,issues:[]}},i=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return qu(i)?i.then(s=>({status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new Cn(r.common.issues)},input:r.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Cn(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}nc.create=(t,e)=>new nc({innerType:t,typeName:we.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...Oe(e)});class qh extends Ne{_parse(e){if(this._getType(e)!==ie.nan){const r=this._getOrReturnCtx(e);return re(r,{code:J.invalid_type,expected:ie.nan,received:r.parsedType}),Te}return{status:"valid",value:e.data}}}qh.create=t=>new qh({typeName:we.ZodNaN,...Oe(t)});const v4=Symbol("zod_brand");class e_ extends Ne{_parse(e){const{ctx:n}=this._processInputParams(e),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class Oc extends Ne{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const s=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?Te:s.status==="dirty"?(n.dirty(),ya(s.value)):this._def.out._parseAsync({data:s.value,path:r.path,parent:r})})();{const i=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?Te:i.status==="dirty"?(n.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:r.path,parent:r})}}static create(e,n){return new Oc({in:e,out:n,typeName:we.ZodPipeline})}}class rc extends Ne{_parse(e){const n=this._def.innerType._parse(e),r=i=>(Hu(i)&&(i.value=Object.freeze(i.value)),i);return qu(n)?n.then(i=>r(i)):r(n)}unwrap(){return this._def.innerType}}rc.create=(t,e)=>new rc({innerType:t,typeName:we.ZodReadonly,...Oe(e)});function ab(t,e={},n){return t?Ka.create().superRefine((r,i)=>{var s,o;if(!t(r)){const a=typeof e=="function"?e(r):typeof e=="string"?{message:e}:e,l=(o=(s=a.fatal)!==null&&s!==void 0?s:n)!==null&&o!==void 0?o:!0,c=typeof a=="string"?{message:a}:a;i.addIssue({code:"custom",...c,fatal:l})}}):Ka.create()}const _4={object:dt.lazycreate};var we;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(we||(we={}));const w4=(t,e={message:`Input not instance of ${t.name}`})=>ab(n=>n instanceof t,e),lb=vr.create,ub=ys.create,E4=qh.create,T4=vs.create,cb=Wu.create,S4=To.create,I4=Bh.create,R4=Ku.create,A4=Gu.create,b4=Ka.create,C4=oo.create,P4=Ti.create,x4=zh.create,k4=Er.create,O4=dt.create,N4=dt.strictCreate,D4=Qu.create,L4=$f.create,M4=Zu.create,V4=qr.create,j4=Ju.create,F4=Hh.create,U4=So.create,$4=Pa.create,B4=Yu.create,z4=Xu.create,H4=_s.create,q4=ec.create,W4=Ga.create,kE=Ir.create,K4=Br.create,G4=ws.create,Q4=Ir.createWithPreprocess,Z4=Oc.create,J4=()=>lb().optional(),Y4=()=>ub().optional(),X4=()=>cb().optional(),ej={string:t=>vr.create({...t,coerce:!0}),number:t=>ys.create({...t,coerce:!0}),boolean:t=>Wu.create({...t,coerce:!0}),bigint:t=>vs.create({...t,coerce:!0}),date:t=>To.create({...t,coerce:!0})},tj=Te;var pt=Object.freeze({__proto__:null,defaultErrorMap:Wa,setErrorMap:t4,getErrorMap:Fh,makeIssue:Uh,EMPTY_PATH:n4,addIssueToContext:re,ParseStatus:cn,INVALID:Te,DIRTY:ya,OK:yn,isAborted:Ng,isDirty:Dg,isValid:Hu,isAsync:qu,get util(){return Fe},get objectUtil(){return Og},ZodParsedType:ie,getParsedType:Ki,ZodType:Ne,datetimeRegex:sb,ZodString:vr,ZodNumber:ys,ZodBigInt:vs,ZodBoolean:Wu,ZodDate:To,ZodSymbol:Bh,ZodUndefined:Ku,ZodNull:Gu,ZodAny:Ka,ZodUnknown:oo,ZodNever:Ti,ZodVoid:zh,ZodArray:Er,ZodObject:dt,ZodUnion:Qu,ZodDiscriminatedUnion:$f,ZodIntersection:Zu,ZodTuple:qr,ZodRecord:Ju,ZodMap:Hh,ZodSet:So,ZodFunction:Pa,ZodLazy:Yu,ZodLiteral:Xu,ZodEnum:_s,ZodNativeEnum:ec,ZodPromise:Ga,ZodEffects:Ir,ZodTransformer:Ir,ZodOptional:Br,ZodNullable:ws,ZodDefault:tc,ZodCatch:nc,ZodNaN:qh,BRAND:v4,ZodBranded:e_,ZodPipeline:Oc,ZodReadonly:rc,custom:ab,Schema:Ne,ZodSchema:Ne,late:_4,get ZodFirstPartyTypeKind(){return we},coerce:ej,any:b4,array:k4,bigint:T4,boolean:cb,date:S4,discriminatedUnion:L4,effect:kE,enum:H4,function:$4,instanceof:w4,intersection:M4,lazy:B4,literal:z4,map:F4,nan:E4,nativeEnum:q4,never:P4,null:A4,nullable:G4,number:ub,object:O4,oboolean:X4,onumber:Y4,optional:K4,ostring:J4,pipeline:Z4,preprocess:Q4,promise:W4,record:j4,set:U4,strictObject:N4,string:lb,symbol:I4,transformer:kE,tuple:V4,undefined:R4,union:D4,unknown:C4,void:x4,NEVER:tj,ZodIssueCode:J,quotelessJson:e4,ZodError:Cn});const xa={"auth/email-already-in-use":"a user with that email already exists.","auth/wrong-password":"wrong password.","auth/user-not-found":"account does not exist.","(auth/network-request-failed)":"It seems we're having trouble connecting to our servers. Please ensure you have a stable internet connection and try again."},OE=8,Yn={common:{unexpectedError:`An unexpected error has occured
`}},nj=pt.enum(["ru","en"]);pt.object({lang:nj.optional()});const rj=pt.object({slip:pt.object({id:pt.number(),advice:pt.string()})}),ij=pt.object({id:pt.number(),content:pt.string()}),db=pt.object({name:pt.string(),adviceIds:pt.array(pt.number())}),Mg=pt.string().superRefine((t,e)=>{const n=t.length>=OE,r=/[A-Z]/.test(t),i=/[a-z]/.test(t),s=/\d/.test(t),o=/[!@#$%^&*(),.?":{}|<>]/.test(t),a=!/(.)\1{2,}/.test(t);n||e.addIssue({code:pt.ZodIssueCode.too_small,minimum:OE,type:"number",inclusive:!0,message:"length_error"}),r||e.addIssue({code:pt.ZodIssueCode.invalid_string,validation:"regex",fatal:!0,message:"uppercase_error"}),i||e.addIssue({code:pt.ZodIssueCode.invalid_string,validation:"regex",fatal:!0,message:"lowercase_error"}),s||e.addIssue({code:pt.ZodIssueCode.invalid_string,validation:"regex",fatal:!0,message:"number_error"}),o||e.addIssue({code:pt.ZodIssueCode.invalid_string,validation:"regex",fatal:!0,message:"special_char_error"}),a||e.addIssue({code:pt.ZodIssueCode.custom,message:"repeated_chars_error"})}),t_=pt.object({email:pt.string().min(1,{message:"email_must_no_be_empty"}).email({message:"invalid_email_address"}),password:Mg}),sj=pt.object({password:Mg,confirmPassword:Mg}).superRefine(({password:t,confirmPassword:e},n)=>{t!==e&&n.addIssue({code:"custom",message:"Passwords did not match.",path:["confirmPassword"]})});class Xs extends Error{constructor(n,r){super(n);s0(this,"isOperational");Object.setPrototypeOf(this,new.target.prototype),this.isOperational=r,Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack}}function n_(){var e;const t=(e=Wr.currentUser)==null?void 0:e.uid;if(!t)throw new Xs("User does not exist",!1);return t}async function hb(t){const e=Vv(r_,jv("content","==",t.content)),n=await Uv(e);if(!n.empty){const r=n.docs[0],{id:i}=r.data();return i}return null}async function oj(t){try{ij.parse(t);const e=await hb(t);return e||(await OL(r_,t),t.id)}catch(e){return console.error(`Failed to add advice to advice collection
`,e),null}}async function aj(t){try{if(db.parse(t),t.adviceIds.length===0)return[];const e=Vv(r_,jv("id","in",t.adviceIds)),n=await Uv(e),r=[];for(const i of n.docs)r.push(i.data());return r}catch(e){return e instanceof Cn?(console.error("Invalid app user data:",e.errors),null):e instanceof Zt?(console.error("Firestore error:",e.message,e.code),null):(console.error("Unexpected error while retrieving advice collection:",e),null)}}async function lj(){try{const t=n_(),n={name:await dj(),adviceIds:[]};return await yA(Mf(Do,"users",t),n),n}catch(t){throw t instanceof Zt&&console.error(`Failed to create app user.
`,t),t}}async function uj(){try{const t=n_(),e=await kL(Mf(Do,"users",t));return e.exists()?e.data():null}catch(t){if(t instanceof Zt)return console.error("Failed to read app user data.",t),null;throw t}}async function nm(t){try{const e=n_();db.parse(t),await yA(Mf(Do,"users",e),t)}catch(e){if(e instanceof Zt)return console.error(`Failed to set app user.
`,e),{message:e.message,code:e.code};throw e}}function NE(){return`name${new Date().getTime()}`}async function cj(t){try{const e=Vv(Aj,jv("name","==",t));return!(await Uv(e)).empty}catch(e){throw console.error("Failed to check if name is taken",e),e}}async function dj(){try{let e=NE();for(let n=0;n<10;++n){if(await cj(e)){e=NE();continue}return e}throw new Xs("Failed to generate a random user name, exhausted number of attempts",!1)}catch(e){throw console.error("Failed to generate user name",e),e}}async function hj(t){try{const{email:e,password:n}=t_.parse(t);await LM(Wr,e,n)}catch(e){if(e instanceof Zt)return console.error("Failed to sign up user",e),{message:e.message,code:e.code};throw e}}async function fj(t){try{const{email:e,password:n}=t_.parse(t);await MM(Wr,e,n)}catch(e){if(e instanceof Zt)return console.error("Failed to sign in user",e),{message:e.message,code:e.code};throw e}}async function pj(){try{await $M(Wr)}catch(t){if(t instanceof Zt)return console.error("Failed to sign out user",t),{message:t.message,code:t.code};throw t}}async function mj(){try{const{currentUser:t}=Wr;if(!t)throw new TypeError("User does not exist.");await VM(t)}catch(t){if(t instanceof Zt)return console.error("Failed to send verification email.",t),{message:t.message,code:t.code};throw t}}const gj={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_API_KEY:"AIzaSyCzgR2yrf4aQz2s66vnH_4mRXIJ1YWnjvI",VITE_APP_ID:"1:103395856438:web:fb1dfcb169d3a52d32c897",VITE_AUTH_DOMAIN:"avaquo-a8f6d.firebaseapp.com",VITE_ENV:"DEV",VITE_MEASUREMENT_ID:"G-VZ4BW8X0CB",VITE_MESSAGING_SENDER_ID:"103395856438",VITE_PROJECT_ID:"avaquo-a8f6d",VITE_RAPID_API_KEY:"4296fbad83msheddbfc460d3a659p12902ejsn9bc7e8a7f456",VITE_STORAGE_BUCKET:"avaquo-a8f6d.appspot.com"},{VITE_API_KEY:yj,VITE_AUTH_DOMAIN:vj,VITE_PROJECT_ID:_j,VITE_STORAGE_BUCKET:wj,VITE_MESSAGING_SENDER_ID:Ej,VITE_APP_ID:Tj,VITE_MEASUREMENT_ID:Sj,VITE_ENV:Ij}=gj,Rj={apiKey:yj,authDomain:vj,projectId:_j,storageBucket:wj,messagingSenderId:Ej,appId:Tj,measurementId:Sj},fb=FI(Rj),Do=yL(fb),Wr=YV(fb),Aj=bv(Do,"users"),bj="public_advice",r_=bv(Do,bj);bv(Do,"private_advice");Ij!=="PROD"&&(jA(Wr,"http://localhost:9099"),rA(Do,"localhost",8080));const pb=N.createContext({}),Rs=()=>N.useContext(pb);function Cj({children:t}){const[e,n]=N.useState(null),[r,i]=N.useState(!1);N.useEffect(()=>UM(Wr,a=>{n(a),i((a==null?void 0:a.emailVerified)??!1)}),[]);const s={user:e,setUser:n,isEmailVerified:r,setIsEmailVerified:i};return V.jsx(pb.Provider,{value:s,children:t})}function mb(){return N.useContext(gb)}const gb=N.createContext({}),i_=N.createContext({}),s_=()=>N.useContext(i_),o_=()=>{const{appUser:t,setAppUser:e}=N.useContext(i_),{isEmailVerified:n}=Rs(),{setToastNotification:r}=mb(),i=()=>{if(n&&t)return{appUser:t};throw new Xs("User not authorized to perform this action",!1)};return{async changeName(s){try{const{appUser:o}=i(),a={...o,name:s},l=await nm(a);if(l){r(xa[l.code]??Yn.common.unexpectedError);return}e(a)}catch(o){console.error("Failed to change user name",o),r(Yn.common.unexpectedError)}},async saveAdvice(s){try{const{appUser:o}=i(),a={...o,adviceIds:[...o.adviceIds]},l=await oj(s);if(!l){r(Yn.common.unexpectedError);return}if(a.adviceIds.includes(l))throw new Xs("Duplicate advice id",!1);a.adviceIds.push(l);const c=await nm(a);if(c){r(xa[c.code]??Yn.common.unexpectedError);return}e(a)}catch(o){console.error(Yn.common.unexpectedError,o),r(Yn.common.unexpectedError)}},async removeAdvice(s){try{const{appUser:o}=i(),a=await hb(s);if(!a)throw new Xs(`The advice does not exist in firestore.
Advice:${JSON.stringify(s,null,4)}
`,!1);if(!o.adviceIds.includes(a))throw new Xs(`App user does not have the advice id.
Advice:${JSON.stringify(s,null,4)}
App user::${JSON.stringify(o,null,4)}`,!1);const l={...o,adviceIds:o.adviceIds.filter(d=>d!==s.id)},c=await nm(l);if(c){r(xa[c.code]??Yn.common.unexpectedError);return}e(l)}catch(o){console.error(Yn.common.unexpectedError,o),r(Yn.common.unexpectedError)}}}};function Pj({children:t}){const{user:e,isEmailVerified:n}=Rs(),[r,i]=N.useState(null),[s,o]=N.useState("");N.useEffect(()=>{async function l(){let c=null;if(e&&n)try{c=await uj(),c||(c=await lj())}catch(d){console.error("Failed to retrieve app user data",d),o("Ops...an unexpected error has occured.")}c||console.log(`User has not signed in.
`,e,n),i(c)}l()},[e,n]);const a={appUser:r,setAppUser:i,errorMessage:s};return V.jsx(i_.Provider,{value:a,children:t})}function yb(){return N.useContext(vb)}const vb=N.createContext({});function xj({children:t}){const[e,n]=N.useState([]),[r,i]=N.useState("idle"),{appUser:s}=s_(),{isEmailVerified:o}=Rs();N.useEffect(()=>{let l=!1;async function c(){if(s&&o){i("loading");const d=await aj(s);d?l||(n(d),i("idle")):l||i("error")}}return c(),()=>{l=!0,i("idle")}},[s,o]);const a={loadStatus:r,collection:e};return V.jsx(vb.Provider,{value:a,children:t})}function kj({children:t}){const[e,n]=N.useState(""),r={toastNotification:e,setToastNotification:n};return V.jsx(gb.Provider,{value:r,children:t})}/**
 * @remix-run/router v1.19.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ht(){return ht=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ht.apply(this,arguments)}var Ct;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Ct||(Ct={}));const DE="popstate";function Oj(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return ic("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Io(i)}return Dj(e,n,null,t)}function De(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Qa(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Nj(){return Math.random().toString(36).substr(2,8)}function LE(t,e){return{usr:t.state,key:t.key,idx:e}}function ic(t,e,n,r){return n===void 0&&(n=null),ht({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?As(e):e,{state:n,key:e&&e.key||r||Nj()})}function Io(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function As(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function Dj(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=Ct.Pop,l=null,c=d();c==null&&(c=0,o.replaceState(ht({},o.state,{idx:c}),""));function d(){return(o.state||{idx:null}).idx}function f(){a=Ct.Pop;let A=d(),I=A==null?null:A-c;c=A,l&&l({action:a,location:E.location,delta:I})}function p(A,I){a=Ct.Push;let v=ic(E.location,A,I);c=d()+1;let b=LE(v,c),D=E.createHref(v);try{o.pushState(b,"",D)}catch($){if($ instanceof DOMException&&$.name==="DataCloneError")throw $;i.location.assign(D)}s&&l&&l({action:a,location:E.location,delta:1})}function y(A,I){a=Ct.Replace;let v=ic(E.location,A,I);c=d();let b=LE(v,c),D=E.createHref(v);o.replaceState(b,"",D),s&&l&&l({action:a,location:E.location,delta:0})}function w(A){let I=i.location.origin!=="null"?i.location.origin:i.location.href,v=typeof A=="string"?A:Io(A);return v=v.replace(/ $/,"%20"),De(I,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,I)}let E={get action(){return a},get location(){return t(i,o)},listen(A){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(DE,f),l=A,()=>{i.removeEventListener(DE,f),l=null}},createHref(A){return e(i,A)},createURL:w,encodeLocation(A){let I=w(A);return{pathname:I.pathname,search:I.search,hash:I.hash}},push:p,replace:y,go(A){return o.go(A)}};return E}var Qe;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Qe||(Qe={}));const Lj=new Set(["lazy","caseSensitive","path","id","index","children"]);function Mj(t){return t.index===!0}function sc(t,e,n,r){return n===void 0&&(n=[]),r===void 0&&(r={}),t.map((i,s)=>{let o=[...n,String(s)],a=typeof i.id=="string"?i.id:o.join("-");if(De(i.index!==!0||!i.children,"Cannot specify children on an index route"),De(!r[a],'Found a route id collision on id "'+a+`".  Route id's must be globally unique within Data Router usages`),Mj(i)){let l=ht({},i,e(i),{id:a});return r[a]=l,l}else{let l=ht({},i,e(i),{id:a,children:void 0});return r[a]=l,i.children&&(l.children=sc(i.children,e,o,r)),l}})}function Gs(t,e,n){return n===void 0&&(n="/"),Qd(t,e,n,!1)}function Qd(t,e,n,r){let i=typeof e=="string"?As(e):e,s=ll(i.pathname||"/",n);if(s==null)return null;let o=_b(t);jj(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=Qj(s);a=Kj(o[l],c,r)}return a}function Vj(t,e){let{route:n,pathname:r,params:i}=t;return{id:n.id,pathname:r,params:i,data:e[n.id],handle:n.handle}}function _b(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(De(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=hi([r,l.relativePath]),d=n.concat(l);s.children&&s.children.length>0&&(De(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),_b(s.children,e,d,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:qj(c,s.index),routesMeta:d})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of wb(s.path))i(s,o,l)}),e}function wb(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=wb(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function jj(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:Wj(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const Fj=/^:[\w-]+$/,Uj=3,$j=2,Bj=1,zj=10,Hj=-2,ME=t=>t==="*";function qj(t,e){let n=t.split("/"),r=n.length;return n.some(ME)&&(r+=Hj),e&&(r+=$j),n.filter(i=>!ME(i)).reduce((i,s)=>i+(Fj.test(s)?Uj:s===""?Bj:zj),r)}function Wj(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function Kj(t,e,n){n===void 0&&(n=!1);let{routesMeta:r}=t,i={},s="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,d=s==="/"?e:e.slice(s.length)||"/",f=VE({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},d),p=l.route;if(!f&&c&&n&&!r[r.length-1].route.index&&(f=VE({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!f)return null;Object.assign(i,f.params),o.push({params:i,pathname:hi([s,f.pathname]),pathnameBase:Yj(hi([s,f.pathnameBase])),route:p}),f.pathnameBase!=="/"&&(s=hi([s,f.pathnameBase]))}return o}function VE(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=Gj(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,d,f)=>{let{paramName:p,isOptional:y}=d;if(p==="*"){let E=a[f]||"";o=s.slice(0,s.length-E.length).replace(/(.)\/+$/,"$1")}const w=a[f];return y&&!w?c[p]=void 0:c[p]=(w||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:o,pattern:t}}function Gj(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Qa(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function Qj(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Qa(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function ll(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function Zj(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?As(t):t;return{pathname:n?n.startsWith("/")?n:Jj(n,e):e,search:Xj(r),hash:eF(i)}}function Jj(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function rm(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Eb(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function a_(t,e){let n=Eb(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function l_(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=As(t):(i=ht({},t),De(!i.pathname||!i.pathname.includes("?"),rm("?","pathname","search",i)),De(!i.pathname||!i.pathname.includes("#"),rm("#","pathname","hash",i)),De(!i.search||!i.search.includes("#"),rm("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let f=e.length-1;if(!r&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),f-=1;i.pathname=p.join("/")}a=f>=0?e[f]:"/"}let l=Zj(i,a),c=o&&o!=="/"&&o.endsWith("/"),d=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||d)&&(l.pathname+="/"),l}const hi=t=>t.join("/").replace(/\/\/+/g,"/"),Yj=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Xj=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,eF=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class Wh{constructor(e,n,r,i){i===void 0&&(i=!1),this.status=e,this.statusText=n||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function Bf(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Tb=["post","put","patch","delete"],tF=new Set(Tb),nF=["get",...Tb],rF=new Set(nF),iF=new Set([301,302,303,307,308]),sF=new Set([307,308]),im={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},oF={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Nl={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},u_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,aF=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),Sb="remix-router-transitions";function lF(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",r=!n;De(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let i;if(t.mapRouteProperties)i=t.mapRouteProperties;else if(t.detectErrorBoundary){let x=t.detectErrorBoundary;i=O=>({hasErrorBoundary:x(O)})}else i=aF;let s={},o=sc(t.routes,i,void 0,s),a,l=t.basename||"/",c=t.unstable_dataStrategy||fF,d=t.unstable_patchRoutesOnNavigation,f=ht({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,v7_skipActionErrorRevalidation:!1},t.future),p=null,y=new Set,w=1e3,E=new Set,A=null,I=null,v=null,b=t.hydrationData!=null,D=Gs(o,t.history.location,l),$=null;if(D==null&&!d){let x=pn(404,{pathname:t.history.location.pathname}),{matches:O,route:F}=KE(o);D=O,$={[F.id]:x}}D&&!t.hydrationData&&At(D,o,t.history.location.pathname).active&&(D=null);let j;if(D)if(D.some(x=>x.route.lazy))j=!1;else if(!D.some(x=>x.route.loader))j=!0;else if(f.v7_partialHydration){let x=t.hydrationData?t.hydrationData.loaderData:null,O=t.hydrationData?t.hydrationData.errors:null,F=q=>q.route.loader?typeof q.route.loader=="function"&&q.route.loader.hydrate===!0?!1:x&&x[q.route.id]!==void 0||O&&O[q.route.id]!==void 0:!0;if(O){let q=D.findIndex(ne=>O[ne.route.id]!==void 0);j=D.slice(0,q+1).every(F)}else j=D.every(F)}else j=t.hydrationData!=null;else if(j=!1,D=[],f.v7_partialHydration){let x=At(null,o,t.history.location.pathname);x.active&&x.matches&&(D=x.matches)}let T,g={historyAction:t.history.action,location:t.history.location,matches:D,initialized:j,navigation:im,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||$,fetchers:new Map,blockers:new Map},S=Ct.Pop,R=!1,P,k=!1,C=new Map,Ee=null,M=!1,K=!1,de=[],H=new Set,G=new Map,Y=0,xe=-1,Pe=new Map,Se=new Set,rt=new Map,vt=new Map,_t=new Set,Tt=new Map,Hn=new Map,$o=new Map,lr=!1;function Ar(){if(p=t.history.listen(x=>{let{action:O,location:F,delta:q}=x;if(lr){lr=!1;return}Qa(Hn.size===0||q!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let ne=zo({currentLocation:g.location,nextLocation:F,historyAction:O});if(ne&&q!=null){lr=!0,t.history.go(q*-1),Cr(ne,{state:"blocked",location:F,proceed(){Cr(ne,{state:"proceeding",proceed:void 0,reset:void 0,location:F}),t.history.go(q)},reset(){let le=new Map(g.blockers);le.set(ne,Nl),St({blockers:le})}});return}return ur(O,F)}),n){AF(e,C);let x=()=>bF(e,C);e.addEventListener("pagehide",x),Ee=()=>e.removeEventListener("pagehide",x)}return g.initialized||ur(Ct.Pop,g.location,{initialHydration:!0}),T}function Ps(){p&&p(),Ee&&Ee(),y.clear(),P&&P.abort(),g.fetchers.forEach((x,O)=>Pi(O)),g.blockers.forEach((x,O)=>fl(O))}function bi(x){return y.add(x),()=>y.delete(x)}function St(x,O){O===void 0&&(O={}),g=ht({},g,x);let F=[],q=[];f.v7_fetcherPersist&&g.fetchers.forEach((ne,le)=>{ne.state==="idle"&&(_t.has(le)?q.push(le):F.push(le))}),[...y].forEach(ne=>ne(g,{deletedFetchers:q,unstable_viewTransitionOpts:O.viewTransitionOpts,unstable_flushSync:O.flushSync===!0})),f.v7_fetcherPersist&&(F.forEach(ne=>g.fetchers.delete(ne)),q.forEach(ne=>Pi(ne)))}function qn(x,O,F){var q,ne;let{flushSync:le}=F===void 0?{}:F,ve=g.actionData!=null&&g.navigation.formMethod!=null&&mr(g.navigation.formMethod)&&g.navigation.state==="loading"&&((q=x.state)==null?void 0:q._isRedirect)!==!0,X;O.actionData?Object.keys(O.actionData).length>0?X=O.actionData:X=null:ve?X=g.actionData:X=null;let _e=O.loaderData?qE(g.loaderData,O.loaderData,O.matches||[],O.errors):g.loaderData,me=g.blockers;me.size>0&&(me=new Map(me),me.forEach((Ue,We)=>me.set(We,Nl)));let Re=R===!0||g.navigation.formMethod!=null&&mr(g.navigation.formMethod)&&((ne=x.state)==null?void 0:ne._isRedirect)!==!0;a&&(o=a,a=void 0),M||S===Ct.Pop||(S===Ct.Push?t.history.push(x,x.state):S===Ct.Replace&&t.history.replace(x,x.state));let ze;if(S===Ct.Pop){let Ue=C.get(g.location.pathname);Ue&&Ue.has(x.pathname)?ze={currentLocation:g.location,nextLocation:x}:C.has(x.pathname)&&(ze={currentLocation:x,nextLocation:g.location})}else if(k){let Ue=C.get(g.location.pathname);Ue?Ue.add(x.pathname):(Ue=new Set([x.pathname]),C.set(g.location.pathname,Ue)),ze={currentLocation:g.location,nextLocation:x}}St(ht({},O,{actionData:X,loaderData:_e,historyAction:S,location:x,initialized:!0,navigation:im,revalidation:"idle",restoreScrollPosition:ml(x,O.matches||g.matches),preventScrollReset:Re,blockers:me}),{viewTransitionOpts:ze,flushSync:le===!0}),S=Ct.Pop,R=!1,k=!1,M=!1,K=!1,de=[]}async function xs(x,O){if(typeof x=="number"){t.history.go(x);return}let F=Vg(g.location,g.matches,l,f.v7_prependBasename,x,f.v7_relativeSplatPath,O==null?void 0:O.fromRouteId,O==null?void 0:O.relative),{path:q,submission:ne,error:le}=jE(f.v7_normalizeFormMethod,!1,F,O),ve=g.location,X=ic(g.location,q,O&&O.state);X=ht({},X,t.history.encodeLocation(X));let _e=O&&O.replace!=null?O.replace:void 0,me=Ct.Push;_e===!0?me=Ct.Replace:_e===!1||ne!=null&&mr(ne.formMethod)&&ne.formAction===g.location.pathname+g.location.search&&(me=Ct.Replace);let Re=O&&"preventScrollReset"in O?O.preventScrollReset===!0:void 0,ze=(O&&O.unstable_flushSync)===!0,Ue=zo({currentLocation:ve,nextLocation:X,historyAction:me});if(Ue){Cr(Ue,{state:"blocked",location:X,proceed(){Cr(Ue,{state:"proceeding",proceed:void 0,reset:void 0,location:X}),xs(x,O)},reset(){let We=new Map(g.blockers);We.set(Ue,Nl),St({blockers:We})}});return}return await ur(me,X,{submission:ne,pendingError:le,preventScrollReset:Re,replace:O&&O.replace,enableViewTransition:O&&O.unstable_viewTransition,flushSync:ze})}function hl(){if(Jt(),St({revalidation:"loading"}),g.navigation.state!=="submitting"){if(g.navigation.state==="idle"){ur(g.historyAction,g.location,{startUninterruptedRevalidation:!0});return}ur(S||g.historyAction,g.navigation.location,{overrideNavigation:g.navigation})}}async function ur(x,O,F){P&&P.abort(),P=null,S=x,M=(F&&F.startUninterruptedRevalidation)===!0,Ls(g.location,g.matches),R=(F&&F.preventScrollReset)===!0,k=(F&&F.enableViewTransition)===!0;let q=a||o,ne=F&&F.overrideNavigation,le=Gs(q,O,l),ve=(F&&F.flushSync)===!0,X=At(le,q,O.pathname);if(X.active&&X.matches&&(le=X.matches),!le){let{error:$e,notFoundMatches:Ot,route:it}=Ds(O.pathname);qn(O,{matches:Ot,loaderData:{},errors:{[it.id]:$e}},{flushSync:ve});return}if(g.initialized&&!K&&_F(g.location,O)&&!(F&&F.submission&&mr(F.submission.formMethod))){qn(O,{matches:le},{flushSync:ve});return}P=new AbortController;let _e=Zo(t.history,O,P.signal,F&&F.submission),me;if(F&&F.pendingError)me=[va(le).route.id,{type:Qe.error,error:F.pendingError}];else if(F&&F.submission&&mr(F.submission.formMethod)){let $e=await Ci(_e,O,F.submission,le,X.active,{replace:F.replace,flushSync:ve});if($e.shortCircuited)return;if($e.pendingActionResult){let[Ot,it]=$e.pendingActionResult;if(Dn(it)&&Bf(it.error)&&it.error.status===404){P=null,qn(O,{matches:$e.matches,loaderData:{},errors:{[Ot]:it.error}});return}}le=$e.matches||le,me=$e.pendingActionResult,ne=sm(O,F.submission),ve=!1,X.active=!1,_e=Zo(t.history,_e.url,_e.signal)}let{shortCircuited:Re,matches:ze,loaderData:Ue,errors:We}=await ks(_e,O,le,X.active,ne,F&&F.submission,F&&F.fetcherSubmission,F&&F.replace,F&&F.initialHydration===!0,ve,me);Re||(P=null,qn(O,ht({matches:ze||le},WE(me),{loaderData:Ue,errors:We})))}async function Ci(x,O,F,q,ne,le){le===void 0&&(le={}),Jt();let ve=IF(O,F);if(St({navigation:ve},{flushSync:le.flushSync===!0}),ne){let me=await Ms(q,O.pathname,x.signal);if(me.type==="aborted")return{shortCircuited:!0};if(me.type==="error"){let{boundaryId:Re,error:ze}=Wn(O.pathname,me);return{matches:me.partialMatches,pendingActionResult:[Re,{type:Qe.error,error:ze}]}}else if(me.matches)q=me.matches;else{let{notFoundMatches:Re,error:ze,route:Ue}=Ds(O.pathname);return{matches:Re,pendingActionResult:[Ue.id,{type:Qe.error,error:ze}]}}}let X,_e=Xl(q,O);if(!_e.route.action&&!_e.route.lazy)X={type:Qe.error,error:pn(405,{method:x.method,pathname:O.pathname,routeId:_e.route.id})};else if(X=(await ye("action",x,[_e],q))[0],x.signal.aborted)return{shortCircuited:!0};if(to(X)){let me;return le&&le.replace!=null?me=le.replace:me=BE(X.response.headers.get("Location"),new URL(x.url),l)===g.location.pathname+g.location.search,await ce(x,X,{submission:F,replace:me}),{shortCircuited:!0}}if(eo(X))throw pn(400,{type:"defer-action"});if(Dn(X)){let me=va(q,_e.route.id);return(le&&le.replace)!==!0&&(S=Ct.Push),{matches:q,pendingActionResult:[me.route.id,X]}}return{matches:q,pendingActionResult:[_e.route.id,X]}}async function ks(x,O,F,q,ne,le,ve,X,_e,me,Re){let ze=ne||sm(O,le),Ue=le||ve||JE(ze),We=!M&&(!f.v7_partialHydration||!_e);if(q){if(We){let et=Os(Re);St(ht({navigation:ze},et!==void 0?{actionData:et}:{}),{flushSync:me})}let Ae=await Ms(F,O.pathname,x.signal);if(Ae.type==="aborted")return{shortCircuited:!0};if(Ae.type==="error"){let{boundaryId:et,error:Yt}=Wn(O.pathname,Ae);return{matches:Ae.partialMatches,loaderData:{},errors:{[et]:Yt}}}else if(Ae.matches)F=Ae.matches;else{let{error:et,notFoundMatches:Yt,route:Ze}=Ds(O.pathname);return{matches:Yt,loaderData:{},errors:{[Ze.id]:et}}}}let $e=a||o,[Ot,it]=FE(t.history,g,F,Ue,O,f.v7_partialHydration&&_e===!0,f.v7_skipActionErrorRevalidation,K,de,H,_t,rt,Se,$e,l,Re);if(Ho(Ae=>!(F&&F.some(et=>et.route.id===Ae))||Ot&&Ot.some(et=>et.route.id===Ae)),xe=++Y,Ot.length===0&&it.length===0){let Ae=Uc();return qn(O,ht({matches:F,loaderData:{},errors:Re&&Dn(Re[1])?{[Re[0]]:Re[1].error}:null},WE(Re),Ae?{fetchers:new Map(g.fetchers)}:{}),{flushSync:me}),{shortCircuited:!0}}if(We){let Ae={};if(!q){Ae.navigation=ze;let et=Os(Re);et!==void 0&&(Ae.actionData=et)}it.length>0&&(Ae.fetchers=U(it)),St(Ae,{flushSync:me})}it.forEach(Ae=>{G.has(Ae.key)&&wn(Ae.key),Ae.controller&&G.set(Ae.key,Ae.controller)});let ki=()=>it.forEach(Ae=>wn(Ae.key));P&&P.signal.addEventListener("abort",ki);let{loaderResults:Kn,fetcherResults:Gn}=await Xe(g.matches,F,Ot,it,x);if(x.signal.aborted)return{shortCircuited:!0};P&&P.signal.removeEventListener("abort",ki),it.forEach(Ae=>G.delete(Ae.key));let En=GE([...Kn,...Gn]);if(En){if(En.idx>=Ot.length){let Ae=it[En.idx-Ot.length].key;Se.add(Ae)}return await ce(x,En.result,{replace:X}),{shortCircuited:!0}}let{loaderData:Pr,errors:Qn}=HE(g,F,Ot,Kn,Re,it,Gn,Tt);Tt.forEach((Ae,et)=>{Ae.subscribe(Yt=>{(Yt||Ae.done)&&Tt.delete(et)})}),f.v7_partialHydration&&_e&&g.errors&&Object.entries(g.errors).filter(Ae=>{let[et]=Ae;return!Ot.some(Yt=>Yt.route.id===et)}).forEach(Ae=>{let[et,Yt]=Ae;Qn=Object.assign(Qn||{},{[et]:Yt})});let js=Uc(),Fs=Bo(xe),Us=js||Fs||it.length>0;return ht({matches:F,loaderData:Pr,errors:Qn},Us?{fetchers:new Map(g.fetchers)}:{})}function Os(x){if(x&&!Dn(x[1]))return{[x[0]]:x[1].data};if(g.actionData)return Object.keys(g.actionData).length===0?null:g.actionData}function U(x){return x.forEach(O=>{let F=g.fetchers.get(O.key),q=Dl(void 0,F?F.data:void 0);g.fetchers.set(O.key,q)}),new Map(g.fetchers)}function te(x,O,F,q){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");G.has(x)&&wn(x);let ne=(q&&q.unstable_flushSync)===!0,le=a||o,ve=Vg(g.location,g.matches,l,f.v7_prependBasename,F,f.v7_relativeSplatPath,O,q==null?void 0:q.relative),X=Gs(le,ve,l),_e=At(X,le,ve);if(_e.active&&_e.matches&&(X=_e.matches),!X){fn(x,O,pn(404,{pathname:ve}),{flushSync:ne});return}let{path:me,submission:Re,error:ze}=jE(f.v7_normalizeFormMethod,!0,ve,q);if(ze){fn(x,O,ze,{flushSync:ne});return}let Ue=Xl(X,me);if(R=(q&&q.preventScrollReset)===!0,Re&&mr(Re.formMethod)){ae(x,O,me,Ue,X,_e.active,ne,Re);return}rt.set(x,{routeId:O,path:me}),fe(x,O,me,Ue,X,_e.active,ne,Re)}async function ae(x,O,F,q,ne,le,ve,X){Jt(),rt.delete(x);function _e(Ze){if(!Ze.route.action&&!Ze.route.lazy){let cr=pn(405,{method:X.formMethod,pathname:F,routeId:O});return fn(x,O,cr,{flushSync:ve}),!0}return!1}if(!le&&_e(q))return;let me=g.fetchers.get(x);hn(x,RF(X,me),{flushSync:ve});let Re=new AbortController,ze=Zo(t.history,F,Re.signal,X);if(le){let Ze=await Ms(ne,F,ze.signal);if(Ze.type==="aborted")return;if(Ze.type==="error"){let{error:cr}=Wn(F,Ze);fn(x,O,cr,{flushSync:ve});return}else if(Ze.matches){if(ne=Ze.matches,q=Xl(ne,F),_e(q))return}else{fn(x,O,pn(404,{pathname:F}),{flushSync:ve});return}}G.set(x,Re);let Ue=Y,$e=(await ye("action",ze,[q],ne))[0];if(ze.signal.aborted){G.get(x)===Re&&G.delete(x);return}if(f.v7_fetcherPersist&&_t.has(x)){if(to($e)||Dn($e)){hn(x,ji(void 0));return}}else{if(to($e))if(G.delete(x),xe>Ue){hn(x,ji(void 0));return}else return Se.add(x),hn(x,Dl(X)),ce(ze,$e,{fetcherSubmission:X});if(Dn($e)){fn(x,O,$e.error);return}}if(eo($e))throw pn(400,{type:"defer-action"});let Ot=g.navigation.location||g.location,it=Zo(t.history,Ot,Re.signal),ki=a||o,Kn=g.navigation.state!=="idle"?Gs(ki,g.navigation.location,l):g.matches;De(Kn,"Didn't find any matches after fetcher action");let Gn=++Y;Pe.set(x,Gn);let En=Dl(X,$e.data);g.fetchers.set(x,En);let[Pr,Qn]=FE(t.history,g,Kn,X,Ot,!1,f.v7_skipActionErrorRevalidation,K,de,H,_t,rt,Se,ki,l,[q.route.id,$e]);Qn.filter(Ze=>Ze.key!==x).forEach(Ze=>{let cr=Ze.key,Bc=g.fetchers.get(cr),zc=Dl(void 0,Bc?Bc.data:void 0);g.fetchers.set(cr,zc),G.has(cr)&&wn(cr),Ze.controller&&G.set(cr,Ze.controller)}),St({fetchers:new Map(g.fetchers)});let js=()=>Qn.forEach(Ze=>wn(Ze.key));Re.signal.addEventListener("abort",js);let{loaderResults:Fs,fetcherResults:Us}=await Xe(g.matches,Kn,Pr,Qn,it);if(Re.signal.aborted)return;Re.signal.removeEventListener("abort",js),Pe.delete(x),G.delete(x),Qn.forEach(Ze=>G.delete(Ze.key));let Ae=GE([...Fs,...Us]);if(Ae){if(Ae.idx>=Pr.length){let Ze=Qn[Ae.idx-Pr.length].key;Se.add(Ze)}return ce(it,Ae.result)}let{loaderData:et,errors:Yt}=HE(g,g.matches,Pr,Fs,void 0,Qn,Us,Tt);if(g.fetchers.has(x)){let Ze=ji($e.data);g.fetchers.set(x,Ze)}Bo(Gn),g.navigation.state==="loading"&&Gn>xe?(De(S,"Expected pending action"),P&&P.abort(),qn(g.navigation.location,{matches:Kn,loaderData:et,errors:Yt,fetchers:new Map(g.fetchers)})):(St({errors:Yt,loaderData:qE(g.loaderData,et,Kn,Yt),fetchers:new Map(g.fetchers)}),K=!1)}async function fe(x,O,F,q,ne,le,ve,X){let _e=g.fetchers.get(x);hn(x,Dl(X,_e?_e.data:void 0),{flushSync:ve});let me=new AbortController,Re=Zo(t.history,F,me.signal);if(le){let $e=await Ms(ne,F,Re.signal);if($e.type==="aborted")return;if($e.type==="error"){let{error:Ot}=Wn(F,$e);fn(x,O,Ot,{flushSync:ve});return}else if($e.matches)ne=$e.matches,q=Xl(ne,F);else{fn(x,O,pn(404,{pathname:F}),{flushSync:ve});return}}G.set(x,me);let ze=Y,We=(await ye("loader",Re,[q],ne))[0];if(eo(We)&&(We=await Cb(We,Re.signal,!0)||We),G.get(x)===me&&G.delete(x),!Re.signal.aborted){if(_t.has(x)){hn(x,ji(void 0));return}if(to(We))if(xe>ze){hn(x,ji(void 0));return}else{Se.add(x),await ce(Re,We);return}if(Dn(We)){fn(x,O,We.error);return}De(!eo(We),"Unhandled fetcher deferred data"),hn(x,ji(We.data))}}async function ce(x,O,F){let{submission:q,fetcherSubmission:ne,replace:le}=F===void 0?{}:F;O.response.headers.has("X-Remix-Revalidate")&&(K=!0);let ve=O.response.headers.get("Location");De(ve,"Expected a Location header on the redirect Response"),ve=BE(ve,new URL(x.url),l);let X=ic(g.location,ve,{_isRedirect:!0});if(n){let We=!1;if(O.response.headers.has("X-Remix-Reload-Document"))We=!0;else if(u_.test(ve)){const $e=t.history.createURL(ve);We=$e.origin!==e.location.origin||ll($e.pathname,l)==null}if(We){le?e.location.replace(ve):e.location.assign(ve);return}}P=null;let _e=le===!0||O.response.headers.has("X-Remix-Replace")?Ct.Replace:Ct.Push,{formMethod:me,formAction:Re,formEncType:ze}=g.navigation;!q&&!ne&&me&&Re&&ze&&(q=JE(g.navigation));let Ue=q||ne;if(sF.has(O.response.status)&&Ue&&mr(Ue.formMethod))await ur(_e,X,{submission:ht({},Ue,{formAction:ve}),preventScrollReset:R});else{let We=sm(X,q);await ur(_e,X,{overrideNavigation:We,fetcherSubmission:ne,preventScrollReset:R})}}async function ye(x,O,F,q){try{let ne=await pF(c,x,O,F,q,s,i);return await Promise.all(ne.map((le,ve)=>{if(EF(le)){let X=le.result;return{type:Qe.redirect,response:yF(X,O,F[ve].route.id,q,l,f.v7_relativeSplatPath)}}return gF(le)}))}catch(ne){return F.map(()=>({type:Qe.error,error:ne}))}}async function Xe(x,O,F,q,ne){let[le,...ve]=await Promise.all([F.length?ye("loader",ne,F,O):[],...q.map(X=>{if(X.matches&&X.match&&X.controller){let _e=Zo(t.history,X.path,X.controller.signal);return ye("loader",_e,[X.match],X.matches).then(me=>me[0])}else return Promise.resolve({type:Qe.error,error:pn(404,{pathname:X.path})})})]);return await Promise.all([ZE(x,F,le,le.map(()=>ne.signal),!1,g.loaderData),ZE(x,q.map(X=>X.match),ve,q.map(X=>X.controller?X.controller.signal:null),!0)]),{loaderResults:le,fetcherResults:ve}}function Jt(){K=!0,de.push(...Ho()),rt.forEach((x,O)=>{G.has(O)&&(H.add(O),wn(O))})}function hn(x,O,F){F===void 0&&(F={}),g.fetchers.set(x,O),St({fetchers:new Map(g.fetchers)},{flushSync:(F&&F.flushSync)===!0})}function fn(x,O,F,q){q===void 0&&(q={});let ne=va(g.matches,O);Pi(x),St({errors:{[ne.route.id]:F},fetchers:new Map(g.fetchers)},{flushSync:(q&&q.flushSync)===!0})}function br(x){return f.v7_fetcherPersist&&(vt.set(x,(vt.get(x)||0)+1),_t.has(x)&&_t.delete(x)),g.fetchers.get(x)||oF}function Pi(x){let O=g.fetchers.get(x);G.has(x)&&!(O&&O.state==="loading"&&Pe.has(x))&&wn(x),rt.delete(x),Pe.delete(x),Se.delete(x),_t.delete(x),H.delete(x),g.fetchers.delete(x)}function Ns(x){if(f.v7_fetcherPersist){let O=(vt.get(x)||0)-1;O<=0?(vt.delete(x),_t.add(x)):vt.set(x,O)}else Pi(x);St({fetchers:new Map(g.fetchers)})}function wn(x){let O=G.get(x);De(O,"Expected fetch controller: "+x),O.abort(),G.delete(x)}function Fc(x){for(let O of x){let F=br(O),q=ji(F.data);g.fetchers.set(O,q)}}function Uc(){let x=[],O=!1;for(let F of Se){let q=g.fetchers.get(F);De(q,"Expected fetcher: "+F),q.state==="loading"&&(Se.delete(F),x.push(F),O=!0)}return Fc(x),O}function Bo(x){let O=[];for(let[F,q]of Pe)if(q<x){let ne=g.fetchers.get(F);De(ne,"Expected fetcher: "+F),ne.state==="loading"&&(wn(F),Pe.delete(F),O.push(F))}return Fc(O),O.length>0}function $c(x,O){let F=g.blockers.get(x)||Nl;return Hn.get(x)!==O&&Hn.set(x,O),F}function fl(x){g.blockers.delete(x),Hn.delete(x)}function Cr(x,O){let F=g.blockers.get(x)||Nl;De(F.state==="unblocked"&&O.state==="blocked"||F.state==="blocked"&&O.state==="blocked"||F.state==="blocked"&&O.state==="proceeding"||F.state==="blocked"&&O.state==="unblocked"||F.state==="proceeding"&&O.state==="unblocked","Invalid blocker state transition: "+F.state+" -> "+O.state);let q=new Map(g.blockers);q.set(x,O),St({blockers:q})}function zo(x){let{currentLocation:O,nextLocation:F,historyAction:q}=x;if(Hn.size===0)return;Hn.size>1&&Qa(!1,"A router only supports one blocker at a time");let ne=Array.from(Hn.entries()),[le,ve]=ne[ne.length-1],X=g.blockers.get(le);if(!(X&&X.state==="proceeding")&&ve({currentLocation:O,nextLocation:F,historyAction:q}))return le}function Ds(x){let O=pn(404,{pathname:x}),F=a||o,{matches:q,route:ne}=KE(F);return Ho(),{notFoundMatches:q,route:ne,error:O}}function Wn(x,O){return{boundaryId:va(O.partialMatches).route.id,error:pn(400,{type:"route-discovery",pathname:x,message:O.error!=null&&"message"in O.error?O.error:String(O.error)})}}function Ho(x){let O=[];return Tt.forEach((F,q)=>{(!x||x(q))&&(F.cancel(),O.push(q),Tt.delete(q))}),O}function qo(x,O,F){if(A=x,v=O,I=F||null,!b&&g.navigation===im){b=!0;let q=ml(g.location,g.matches);q!=null&&St({restoreScrollPosition:q})}return()=>{A=null,v=null,I=null}}function pl(x,O){return I&&I(x,O.map(q=>Vj(q,g.loaderData)))||x.key}function Ls(x,O){if(A&&v){let F=pl(x,O);A[F]=v()}}function ml(x,O){if(A){let F=pl(x,O),q=A[F];if(typeof q=="number")return q}return null}function At(x,O,F){if(d){if(E.has(F))return{active:!1,matches:x};if(x){if(Object.keys(x[0].params).length>0)return{active:!0,matches:Qd(O,F,l,!0)}}else return{active:!0,matches:Qd(O,F,l,!0)||[]}}return{active:!1,matches:null}}async function Ms(x,O,F){let q=x;for(;;){let ne=a==null,le=a||o;try{await hF(d,O,q,le,s,i,$o,F)}catch(_e){return{type:"error",error:_e,partialMatches:q}}finally{ne&&(o=[...o])}if(F.aborted)return{type:"aborted"};let ve=Gs(le,O,l);if(ve)return xi(O,E),{type:"success",matches:ve};let X=Qd(le,O,l,!0);if(!X||q.length===X.length&&q.every((_e,me)=>_e.route.id===X[me].route.id))return xi(O,E),{type:"success",matches:null};q=X}}function xi(x,O){if(O.size>=w){let F=O.values().next().value;O.delete(F)}O.add(x)}function Vs(x){s={},a=sc(x,i,void 0,s)}function hp(x,O){let F=a==null;Rb(x,O,a||o,s,i),F&&(o=[...o],St({}))}return T={get basename(){return l},get future(){return f},get state(){return g},get routes(){return o},get window(){return e},initialize:Ar,subscribe:bi,enableScrollRestoration:qo,navigate:xs,fetch:te,revalidate:hl,createHref:x=>t.history.createHref(x),encodeLocation:x=>t.history.encodeLocation(x),getFetcher:br,deleteFetcher:Ns,dispose:Ps,getBlocker:$c,deleteBlocker:fl,patchRoutes:hp,_internalFetchControllers:G,_internalActiveDeferreds:Tt,_internalSetRoutes:Vs},T}function uF(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function Vg(t,e,n,r,i,s,o,a){let l,c;if(o){l=[];for(let f of e)if(l.push(f),f.route.id===o){c=f;break}}else l=e,c=e[e.length-1];let d=l_(i||".",a_(l,s),ll(t.pathname,n)||t.pathname,a==="path");return i==null&&(d.search=t.search,d.hash=t.hash),(i==null||i===""||i===".")&&c&&c.route.index&&!c_(d.search)&&(d.search=d.search?d.search.replace(/^\?/,"?index&"):"?index"),r&&n!=="/"&&(d.pathname=d.pathname==="/"?n:hi([n,d.pathname])),Io(d)}function jE(t,e,n,r){if(!r||!uF(r))return{path:n};if(r.formMethod&&!SF(r.formMethod))return{path:n,error:pn(405,{method:r.formMethod})};let i=()=>({path:n,error:pn(400,{type:"invalid-body"})}),s=r.formMethod||"get",o=t?s.toUpperCase():s.toLowerCase(),a=Ab(n);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!mr(o))return i();let p=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((y,w)=>{let[E,A]=w;return""+y+E+"="+A+`
`},""):String(r.body);return{path:n,submission:{formMethod:o,formAction:a,formEncType:r.formEncType,formData:void 0,json:void 0,text:p}}}else if(r.formEncType==="application/json"){if(!mr(o))return i();try{let p=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:o,formAction:a,formEncType:r.formEncType,formData:void 0,json:p,text:void 0}}}catch{return i()}}}De(typeof FormData=="function","FormData is not available in this environment");let l,c;if(r.formData)l=jg(r.formData),c=r.formData;else if(r.body instanceof FormData)l=jg(r.body),c=r.body;else if(r.body instanceof URLSearchParams)l=r.body,c=zE(l);else if(r.body==null)l=new URLSearchParams,c=new FormData;else try{l=new URLSearchParams(r.body),c=zE(l)}catch{return i()}let d={formMethod:o,formAction:a,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:c,json:void 0,text:void 0};if(mr(d.formMethod))return{path:n,submission:d};let f=As(n);return e&&f.search&&c_(f.search)&&l.append("index",""),f.search="?"+l,{path:Io(f),submission:d}}function cF(t,e){let n=t;if(e){let r=t.findIndex(i=>i.route.id===e);r>=0&&(n=t.slice(0,r))}return n}function FE(t,e,n,r,i,s,o,a,l,c,d,f,p,y,w,E){let A=E?Dn(E[1])?E[1].error:E[1].data:void 0,I=t.createURL(e.location),v=t.createURL(i),b=E&&Dn(E[1])?E[0]:void 0,D=b?cF(n,b):n,$=E?E[1].statusCode:void 0,j=o&&$&&$>=400,T=D.filter((S,R)=>{let{route:P}=S;if(P.lazy)return!0;if(P.loader==null)return!1;if(s)return typeof P.loader!="function"||P.loader.hydrate?!0:e.loaderData[P.id]===void 0&&(!e.errors||e.errors[P.id]===void 0);if(dF(e.loaderData,e.matches[R],S)||l.some(Ee=>Ee===S.route.id))return!0;let k=e.matches[R],C=S;return UE(S,ht({currentUrl:I,currentParams:k.params,nextUrl:v,nextParams:C.params},r,{actionResult:A,actionStatus:$,defaultShouldRevalidate:j?!1:a||I.pathname+I.search===v.pathname+v.search||I.search!==v.search||Ib(k,C)}))}),g=[];return f.forEach((S,R)=>{if(s||!n.some(M=>M.route.id===S.routeId)||d.has(R))return;let P=Gs(y,S.path,w);if(!P){g.push({key:R,routeId:S.routeId,path:S.path,matches:null,match:null,controller:null});return}let k=e.fetchers.get(R),C=Xl(P,S.path),Ee=!1;p.has(R)?Ee=!1:c.has(R)?(c.delete(R),Ee=!0):k&&k.state!=="idle"&&k.data===void 0?Ee=a:Ee=UE(C,ht({currentUrl:I,currentParams:e.matches[e.matches.length-1].params,nextUrl:v,nextParams:n[n.length-1].params},r,{actionResult:A,actionStatus:$,defaultShouldRevalidate:j?!1:a})),Ee&&g.push({key:R,routeId:S.routeId,path:S.path,matches:P,match:C,controller:new AbortController})}),[T,g]}function dF(t,e,n){let r=!e||n.route.id!==e.route.id,i=t[n.route.id]===void 0;return r||i}function Ib(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function UE(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}async function hF(t,e,n,r,i,s,o,a){let l=[e,...n.map(c=>c.route.id)].join("-");try{let c=o.get(l);c||(c=t({path:e,matches:n,patch:(d,f)=>{a.aborted||Rb(d,f,r,i,s)}}),o.set(l,c)),c&&wF(c)&&await c}finally{o.delete(l)}}function Rb(t,e,n,r,i){if(t){var s;let o=r[t];De(o,"No route found to patch children into: routeId = "+t);let a=sc(e,i,[t,"patch",String(((s=o.children)==null?void 0:s.length)||"0")],r);o.children?o.children.push(...a):o.children=a}else{let o=sc(e,i,["patch",String(n.length||"0")],r);n.push(...o)}}async function $E(t,e,n){if(!t.lazy)return;let r=await t.lazy();if(!t.lazy)return;let i=n[t.id];De(i,"No route found in manifest");let s={};for(let o in r){let l=i[o]!==void 0&&o!=="hasErrorBoundary";Qa(!l,'Route "'+i.id+'" has a static property "'+o+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+o+'" will be ignored.')),!l&&!Lj.has(o)&&(s[o]=r[o])}Object.assign(i,s),Object.assign(i,ht({},e(i),{lazy:void 0}))}function fF(t){return Promise.all(t.matches.map(e=>e.resolve()))}async function pF(t,e,n,r,i,s,o,a){let l=r.reduce((f,p)=>f.add(p.route.id),new Set),c=new Set,d=await t({matches:i.map(f=>{let p=l.has(f.route.id);return ht({},f,{shouldLoad:p,resolve:w=>(c.add(f.route.id),p?mF(e,n,f,s,o,w,a):Promise.resolve({type:Qe.data,result:void 0}))})}),request:n,params:i[0].params,context:a});return i.forEach(f=>De(c.has(f.route.id),'`match.resolve()` was not called for route id "'+f.route.id+'". You must call `match.resolve()` on every match passed to `dataStrategy` to ensure all routes are properly loaded.')),d.filter((f,p)=>l.has(i[p].route.id))}async function mF(t,e,n,r,i,s,o){let a,l,c=d=>{let f,p=new Promise((E,A)=>f=A);l=()=>f(),e.signal.addEventListener("abort",l);let y=E=>typeof d!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+t+'" [routeId: '+n.route.id+"]"))):d({request:e,params:n.params,context:o},...E!==void 0?[E]:[]),w;return s?w=s(E=>y(E)):w=(async()=>{try{return{type:"data",result:await y()}}catch(E){return{type:"error",result:E}}})(),Promise.race([w,p])};try{let d=n.route[t];if(n.route.lazy)if(d){let f,[p]=await Promise.all([c(d).catch(y=>{f=y}),$E(n.route,i,r)]);if(f!==void 0)throw f;a=p}else if(await $E(n.route,i,r),d=n.route[t],d)a=await c(d);else if(t==="action"){let f=new URL(e.url),p=f.pathname+f.search;throw pn(405,{method:e.method,pathname:p,routeId:n.route.id})}else return{type:Qe.data,result:void 0};else if(d)a=await c(d);else{let f=new URL(e.url),p=f.pathname+f.search;throw pn(404,{pathname:p})}De(a.result!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(d){return{type:Qe.error,result:d}}finally{l&&e.signal.removeEventListener("abort",l)}return a}async function gF(t){let{result:e,type:n}=t;if(bb(e)){let c;try{let d=e.headers.get("Content-Type");d&&/\bapplication\/json\b/.test(d)?e.body==null?c=null:c=await e.json():c=await e.text()}catch(d){return{type:Qe.error,error:d}}return n===Qe.error?{type:Qe.error,error:new Wh(e.status,e.statusText,c),statusCode:e.status,headers:e.headers}:{type:Qe.data,data:c,statusCode:e.status,headers:e.headers}}if(n===Qe.error){if(QE(e)){var r;if(e.data instanceof Error){var i;return{type:Qe.error,error:e.data,statusCode:(i=e.init)==null?void 0:i.status}}e=new Wh(((r=e.init)==null?void 0:r.status)||500,void 0,e.data)}return{type:Qe.error,error:e,statusCode:Bf(e)?e.status:void 0}}if(TF(e)){var s,o;return{type:Qe.deferred,deferredData:e,statusCode:(s=e.init)==null?void 0:s.status,headers:((o=e.init)==null?void 0:o.headers)&&new Headers(e.init.headers)}}if(QE(e)){var a,l;return{type:Qe.data,data:e.data,statusCode:(a=e.init)==null?void 0:a.status,headers:(l=e.init)!=null&&l.headers?new Headers(e.init.headers):void 0}}return{type:Qe.data,data:e}}function yF(t,e,n,r,i,s){let o=t.headers.get("Location");if(De(o,"Redirects returned/thrown from loaders/actions must have a Location header"),!u_.test(o)){let a=r.slice(0,r.findIndex(l=>l.route.id===n)+1);o=Vg(new URL(e.url),a,i,!0,o,s),t.headers.set("Location",o)}return t}function BE(t,e,n){if(u_.test(t)){let r=t,i=r.startsWith("//")?new URL(e.protocol+r):new URL(r),s=ll(i.pathname,n)!=null;if(i.origin===e.origin&&s)return i.pathname+i.search+i.hash}return t}function Zo(t,e,n,r){let i=t.createURL(Ab(e)).toString(),s={signal:n};if(r&&mr(r.formMethod)){let{formMethod:o,formEncType:a}=r;s.method=o.toUpperCase(),a==="application/json"?(s.headers=new Headers({"Content-Type":a}),s.body=JSON.stringify(r.json)):a==="text/plain"?s.body=r.text:a==="application/x-www-form-urlencoded"&&r.formData?s.body=jg(r.formData):s.body=r.formData}return new Request(i,s)}function jg(t){let e=new URLSearchParams;for(let[n,r]of t.entries())e.append(n,typeof r=="string"?r:r.name);return e}function zE(t){let e=new FormData;for(let[n,r]of t.entries())e.append(n,r);return e}function vF(t,e,n,r,i,s){let o={},a=null,l,c=!1,d={},f=r&&Dn(r[1])?r[1].error:void 0;return n.forEach((p,y)=>{let w=e[y].route.id;if(De(!to(p),"Cannot handle redirect results in processLoaderData"),Dn(p)){let E=p.error;f!==void 0&&(E=f,f=void 0),a=a||{};{let A=va(t,w);a[A.route.id]==null&&(a[A.route.id]=E)}o[w]=void 0,c||(c=!0,l=Bf(p.error)?p.error.status:500),p.headers&&(d[w]=p.headers)}else eo(p)?(i.set(w,p.deferredData),o[w]=p.deferredData.data,p.statusCode!=null&&p.statusCode!==200&&!c&&(l=p.statusCode),p.headers&&(d[w]=p.headers)):(o[w]=p.data,p.statusCode&&p.statusCode!==200&&!c&&(l=p.statusCode),p.headers&&(d[w]=p.headers))}),f!==void 0&&r&&(a={[r[0]]:f},o[r[0]]=void 0),{loaderData:o,errors:a,statusCode:l||200,loaderHeaders:d}}function HE(t,e,n,r,i,s,o,a){let{loaderData:l,errors:c}=vF(e,n,r,i,a);for(let d=0;d<s.length;d++){let{key:f,match:p,controller:y}=s[d];De(o!==void 0&&o[d]!==void 0,"Did not find corresponding fetcher result");let w=o[d];if(!(y&&y.signal.aborted))if(Dn(w)){let E=va(t.matches,p==null?void 0:p.route.id);c&&c[E.route.id]||(c=ht({},c,{[E.route.id]:w.error})),t.fetchers.delete(f)}else if(to(w))De(!1,"Unhandled fetcher revalidation redirect");else if(eo(w))De(!1,"Unhandled fetcher deferred data");else{let E=ji(w.data);t.fetchers.set(f,E)}}return{loaderData:l,errors:c}}function qE(t,e,n,r){let i=ht({},e);for(let s of n){let o=s.route.id;if(e.hasOwnProperty(o)?e[o]!==void 0&&(i[o]=e[o]):t[o]!==void 0&&s.route.loader&&(i[o]=t[o]),r&&r.hasOwnProperty(o))break}return i}function WE(t){return t?Dn(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function va(t,e){return(e?t.slice(0,t.findIndex(r=>r.route.id===e)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function KE(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function pn(t,e){let{pathname:n,routeId:r,method:i,type:s,message:o}=e===void 0?{}:e,a="Unknown Server Error",l="Unknown @remix-run/router error";return t===400?(a="Bad Request",s==="route-discovery"?l='Unable to match URL "'+n+'" - the `unstable_patchRoutesOnNavigation()` '+(`function threw the following error:
`+o):i&&n&&r?l="You made a "+i+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":s==="defer-action"?l="defer() is not supported in actions":s==="invalid-body"&&(l="Unable to encode submission body")):t===403?(a="Forbidden",l='Route "'+r+'" does not match URL "'+n+'"'):t===404?(a="Not Found",l='No route matches URL "'+n+'"'):t===405&&(a="Method Not Allowed",i&&n&&r?l="You made a "+i.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":i&&(l='Invalid request method "'+i.toUpperCase()+'"')),new Wh(t||500,a,new Error(l),!0)}function GE(t){for(let e=t.length-1;e>=0;e--){let n=t[e];if(to(n))return{result:n,idx:e}}}function Ab(t){let e=typeof t=="string"?As(t):t;return Io(ht({},e,{hash:""}))}function _F(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function wF(t){return typeof t=="object"&&t!=null&&"then"in t}function EF(t){return bb(t.result)&&iF.has(t.result.status)}function eo(t){return t.type===Qe.deferred}function Dn(t){return t.type===Qe.error}function to(t){return(t&&t.type)===Qe.redirect}function QE(t){return typeof t=="object"&&t!=null&&"type"in t&&"data"in t&&"init"in t&&t.type==="DataWithResponseInit"}function TF(t){let e=t;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function bb(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function SF(t){return rF.has(t.toLowerCase())}function mr(t){return tF.has(t.toLowerCase())}async function ZE(t,e,n,r,i,s){for(let o=0;o<n.length;o++){let a=n[o],l=e[o];if(!l)continue;let c=t.find(f=>f.route.id===l.route.id),d=c!=null&&!Ib(c,l)&&(s&&s[l.route.id])!==void 0;if(eo(a)&&(i||d)){let f=r[o];De(f,"Expected an AbortSignal for revalidating fetcher deferred result"),await Cb(a,f,i).then(p=>{p&&(n[o]=p||n[o])})}}}async function Cb(t,e,n){if(n===void 0&&(n=!1),!await t.deferredData.resolveData(e)){if(n)try{return{type:Qe.data,data:t.deferredData.unwrappedData}}catch(i){return{type:Qe.error,error:i}}return{type:Qe.data,data:t.deferredData.data}}}function c_(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function Xl(t,e){let n=typeof e=="string"?As(e).search:e.search;if(t[t.length-1].route.index&&c_(n||""))return t[t.length-1];let r=Eb(t);return r[r.length-1]}function JE(t){let{formMethod:e,formAction:n,formEncType:r,text:i,formData:s,json:o}=t;if(!(!e||!n||!r)){if(i!=null)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i};if(s!=null)return{formMethod:e,formAction:n,formEncType:r,formData:s,json:void 0,text:void 0};if(o!==void 0)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:o,text:void 0}}}function sm(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function IF(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function Dl(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function RF(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function ji(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function AF(t,e){try{let n=t.sessionStorage.getItem(Sb);if(n){let r=JSON.parse(n);for(let[i,s]of Object.entries(r||{}))s&&Array.isArray(s)&&e.set(i,new Set(s||[]))}}catch{}}function bF(t,e){if(e.size>0){let n={};for(let[r,i]of e)n[r]=[...i];try{t.sessionStorage.setItem(Sb,JSON.stringify(n))}catch(r){Qa(!1,"Failed to save applied view transitions in sessionStorage ("+r+").")}}}/**
 * React Router v6.26.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Kh(){return Kh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Kh.apply(this,arguments)}const zf=N.createContext(null),Pb=N.createContext(null),Lo=N.createContext(null),d_=N.createContext(null),bs=N.createContext({outlet:null,matches:[],isDataRoute:!1}),xb=N.createContext(null);function CF(t,e){let{relative:n}=e===void 0?{}:e;Nc()||De(!1);let{basename:r,navigator:i}=N.useContext(Lo),{hash:s,pathname:o,search:a}=Ob(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:hi([r,o])),i.createHref({pathname:l,search:a,hash:s})}function Nc(){return N.useContext(d_)!=null}function Dc(){return Nc()||De(!1),N.useContext(d_).location}function kb(t){N.useContext(Lo).static||N.useLayoutEffect(t)}function h_(){let{isDataRoute:t}=N.useContext(bs);return t?BF():PF()}function PF(){Nc()||De(!1);let t=N.useContext(zf),{basename:e,future:n,navigator:r}=N.useContext(Lo),{matches:i}=N.useContext(bs),{pathname:s}=Dc(),o=JSON.stringify(a_(i,n.v7_relativeSplatPath)),a=N.useRef(!1);return kb(()=>{a.current=!0}),N.useCallback(function(c,d){if(d===void 0&&(d={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let f=l_(c,JSON.parse(o),s,d.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:hi([e,f.pathname])),(d.replace?r.replace:r.push)(f,d.state,d)},[e,r,o,s,t])}const xF=N.createContext(null);function kF(t){let e=N.useContext(bs).outlet;return e&&N.createElement(xF.Provider,{value:t},e)}function Ob(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=N.useContext(Lo),{matches:i}=N.useContext(bs),{pathname:s}=Dc(),o=JSON.stringify(a_(i,r.v7_relativeSplatPath));return N.useMemo(()=>l_(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function OF(t,e,n,r){Nc()||De(!1);let{navigator:i}=N.useContext(Lo),{matches:s}=N.useContext(bs),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=Dc(),d;d=c;let f=d.pathname||"/",p=f;if(l!=="/"){let E=l.replace(/^\//,"").split("/");p="/"+f.replace(/^\//,"").split("/").slice(E.length).join("/")}let y=Gs(t,{pathname:p});return VF(y&&y.map(E=>Object.assign({},E,{params:Object.assign({},a,E.params),pathname:hi([l,i.encodeLocation?i.encodeLocation(E.pathname).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?l:hi([l,i.encodeLocation?i.encodeLocation(E.pathnameBase).pathname:E.pathnameBase])})),s,n,r)}function NF(){let t=$F(),e=Bf(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return N.createElement(N.Fragment,null,N.createElement("h2",null,"Unexpected Application Error!"),N.createElement("h3",{style:{fontStyle:"italic"}},e),n?N.createElement("pre",{style:i},n):null,null)}const DF=N.createElement(NF,null);class LF extends N.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?N.createElement(bs.Provider,{value:this.props.routeContext},N.createElement(xb.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function MF(t){let{routeContext:e,match:n,children:r}=t,i=N.useContext(zf);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),N.createElement(bs.Provider,{value:e},r)}function VF(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let d=o.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id])!==void 0);d>=0||De(!1),o=o.slice(0,Math.min(o.length,d+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let f=o[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=d),f.route.id){let{loaderData:p,errors:y}=n,w=f.route.loader&&p[f.route.id]===void 0&&(!y||y[f.route.id]===void 0);if(f.route.lazy||w){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((d,f,p)=>{let y,w=!1,E=null,A=null;n&&(y=a&&f.route.id?a[f.route.id]:void 0,E=f.route.errorElement||DF,l&&(c<0&&p===0?(zF("route-fallback"),w=!0,A=null):c===p&&(w=!0,A=f.route.hydrateFallbackElement||null)));let I=e.concat(o.slice(0,p+1)),v=()=>{let b;return y?b=E:w?b=A:f.route.Component?b=N.createElement(f.route.Component,null):f.route.element?b=f.route.element:b=d,N.createElement(MF,{match:f,routeContext:{outlet:d,matches:I,isDataRoute:n!=null},children:b})};return n&&(f.route.ErrorBoundary||f.route.errorElement||p===0)?N.createElement(LF,{location:n.location,revalidation:n.revalidation,component:E,error:y,children:v(),routeContext:{outlet:null,matches:I,isDataRoute:!0}}):v()},null)}var Nb=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(Nb||{}),Gh=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Gh||{});function jF(t){let e=N.useContext(zf);return e||De(!1),e}function FF(t){let e=N.useContext(Pb);return e||De(!1),e}function UF(t){let e=N.useContext(bs);return e||De(!1),e}function Db(t){let e=UF(),n=e.matches[e.matches.length-1];return n.route.id||De(!1),n.route.id}function $F(){var t;let e=N.useContext(xb),n=FF(Gh.UseRouteError),r=Db(Gh.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function BF(){let{router:t}=jF(Nb.UseNavigateStable),e=Db(Gh.UseNavigateStable),n=N.useRef(!1);return kb(()=>{n.current=!0}),N.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Kh({fromRouteId:e},s)))},[t,e])}const YE={};function zF(t,e,n){YE[t]||(YE[t]=!0)}function HF(t){return kF(t.context)}function qF(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Ct.Pop,navigator:s,static:o=!1,future:a}=t;Nc()&&De(!1);let l=e.replace(/^\/*/,"/"),c=N.useMemo(()=>({basename:l,navigator:s,static:o,future:Kh({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof r=="string"&&(r=As(r));let{pathname:d="/",search:f="",hash:p="",state:y=null,key:w="default"}=r,E=N.useMemo(()=>{let A=ll(d,l);return A==null?null:{location:{pathname:A,search:f,hash:p,state:y,key:w},navigationType:i}},[l,d,f,p,y,w,i]);return E==null?null:N.createElement(Lo.Provider,{value:c},N.createElement(d_.Provider,{children:n,value:E}))}new Promise(()=>{});function WF(t){let e={hasErrorBoundary:t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&Object.assign(e,{element:N.createElement(t.Component),Component:void 0}),t.HydrateFallback&&Object.assign(e,{hydrateFallbackElement:N.createElement(t.HydrateFallback),HydrateFallback:void 0}),t.ErrorBoundary&&Object.assign(e,{errorElement:N.createElement(t.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.26.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function oc(){return oc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},oc.apply(this,arguments)}function KF(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function GF(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function QF(t,e){return t.button===0&&(!e||e==="_self")&&!GF(t)}const ZF=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],JF="6";try{window.__reactRouterVersion=JF}catch{}function YF(t,e){return lF({basename:void 0,future:oc({},void 0,{v7_prependBasename:!0}),history:Oj({window:void 0}),hydrationData:XF(),routes:t,mapRouteProperties:WF,unstable_dataStrategy:void 0,unstable_patchRoutesOnNavigation:void 0,window:void 0}).initialize()}function XF(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=oc({},e,{errors:eU(e.errors)})),e}function eU(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,i]of e)if(i&&i.__type==="RouteErrorResponse")n[r]=new Wh(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let s=window[i.__subType];if(typeof s=="function")try{let o=new s(i.message);o.stack="",n[r]=o}catch{}}if(n[r]==null){let s=new Error(i.message);s.stack="",n[r]=s}}else n[r]=i;return n}const tU=N.createContext({isTransitioning:!1}),nU=N.createContext(new Map),rU="startTransition",XE=FP[rU],iU="flushSync",eT=Jk[iU];function sU(t){XE?XE(t):t()}function Ll(t){eT?eT(t):t()}class oU{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",n(r))}})}}function aU(t){let{fallbackElement:e,router:n,future:r}=t,[i,s]=N.useState(n.state),[o,a]=N.useState(),[l,c]=N.useState({isTransitioning:!1}),[d,f]=N.useState(),[p,y]=N.useState(),[w,E]=N.useState(),A=N.useRef(new Map),{v7_startTransition:I}=r||{},v=N.useCallback(g=>{I?sU(g):g()},[I]),b=N.useCallback((g,S)=>{let{deletedFetchers:R,unstable_flushSync:P,unstable_viewTransitionOpts:k}=S;R.forEach(Ee=>A.current.delete(Ee)),g.fetchers.forEach((Ee,M)=>{Ee.data!==void 0&&A.current.set(M,Ee.data)});let C=n.window==null||n.window.document==null||typeof n.window.document.startViewTransition!="function";if(!k||C){P?Ll(()=>s(g)):v(()=>s(g));return}if(P){Ll(()=>{p&&(d&&d.resolve(),p.skipTransition()),c({isTransitioning:!0,flushSync:!0,currentLocation:k.currentLocation,nextLocation:k.nextLocation})});let Ee=n.window.document.startViewTransition(()=>{Ll(()=>s(g))});Ee.finished.finally(()=>{Ll(()=>{f(void 0),y(void 0),a(void 0),c({isTransitioning:!1})})}),Ll(()=>y(Ee));return}p?(d&&d.resolve(),p.skipTransition(),E({state:g,currentLocation:k.currentLocation,nextLocation:k.nextLocation})):(a(g),c({isTransitioning:!0,flushSync:!1,currentLocation:k.currentLocation,nextLocation:k.nextLocation}))},[n.window,p,d,A,v]);N.useLayoutEffect(()=>n.subscribe(b),[n,b]),N.useEffect(()=>{l.isTransitioning&&!l.flushSync&&f(new oU)},[l]),N.useEffect(()=>{if(d&&o&&n.window){let g=o,S=d.promise,R=n.window.document.startViewTransition(async()=>{v(()=>s(g)),await S});R.finished.finally(()=>{f(void 0),y(void 0),a(void 0),c({isTransitioning:!1})}),y(R)}},[v,o,d,n.window]),N.useEffect(()=>{d&&o&&i.location.key===o.location.key&&d.resolve()},[d,p,i.location,o]),N.useEffect(()=>{!l.isTransitioning&&w&&(a(w.state),c({isTransitioning:!0,flushSync:!1,currentLocation:w.currentLocation,nextLocation:w.nextLocation}),E(void 0))},[l.isTransitioning,w]),N.useEffect(()=>{},[]);let D=N.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:g=>n.navigate(g),push:(g,S,R)=>n.navigate(g,{state:S,preventScrollReset:R==null?void 0:R.preventScrollReset}),replace:(g,S,R)=>n.navigate(g,{replace:!0,state:S,preventScrollReset:R==null?void 0:R.preventScrollReset})}),[n]),$=n.basename||"/",j=N.useMemo(()=>({router:n,navigator:D,static:!1,basename:$}),[n,D,$]),T=N.useMemo(()=>({v7_relativeSplatPath:n.future.v7_relativeSplatPath}),[n.future.v7_relativeSplatPath]);return N.createElement(N.Fragment,null,N.createElement(zf.Provider,{value:j},N.createElement(Pb.Provider,{value:i},N.createElement(nU.Provider,{value:A.current},N.createElement(tU.Provider,{value:l},N.createElement(qF,{basename:$,location:i.location,navigationType:i.historyAction,navigator:D,future:T},i.initialized||n.future.v7_partialHydration?N.createElement(lU,{routes:n.routes,future:n.future,state:i}):e))))),null)}const lU=N.memo(uU);function uU(t){let{routes:e,future:n,state:r}=t;return OF(e,void 0,r,n)}const cU=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",dU=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ro=N.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:c,preventScrollReset:d,unstable_viewTransition:f}=e,p=KF(e,ZF),{basename:y}=N.useContext(Lo),w,E=!1;if(typeof c=="string"&&dU.test(c)&&(w=c,cU))try{let b=new URL(window.location.href),D=c.startsWith("//")?new URL(b.protocol+c):new URL(c),$=ll(D.pathname,y);D.origin===b.origin&&$!=null?c=$+D.search+D.hash:E=!0}catch{}let A=CF(c,{relative:i}),I=hU(c,{replace:o,state:a,target:l,preventScrollReset:d,relative:i,unstable_viewTransition:f});function v(b){r&&r(b),b.defaultPrevented||I(b)}return N.createElement("a",oc({},p,{href:w||A,onClick:E||s?r:v,ref:n,target:l}))});var tT;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(tT||(tT={}));var nT;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(nT||(nT={}));function hU(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:a}=e===void 0?{}:e,l=h_(),c=Dc(),d=Ob(t,{relative:o});return N.useCallback(f=>{if(QF(f,n)){f.preventDefault();let p=r!==void 0?r:Io(c)===Io(d);l(t,{replace:p,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:a})}},[c,l,d,r,i,n,t,s,o,a])}const fU="/icons/menu-open.svg",pU="/icons/account_circle_icon.svg",mU="/icons/signup.svg",gU="/icons/logout.svg",yU="/icons/collection.svg",vU="/icons/home.svg",_U="_layout_6cuv2_1",wU="_contentLayout_6cuv2_13",EU="_contentLayoutHidden_6cuv2_27",TU="_button_6cuv2_32",SU="_link_6cuv2_32",Yr={layout:_U,contentLayout:wU,contentLayoutHidden:EU,button:TU,link:SU};function IU({onShowContent:t}){const[e,n]=N.useState(!1),{user:r}=Rs();async function i(){if(!r)throw new Xs("showing sign out button when user does not exist.",!1);try{await pj()}catch(o){console.error("Unexpected error has occured during sign out.",o)}}function s(o){return()=>{n(!e),o&&t(o)}}return V.jsxs("section",{className:Yr.layout,children:[V.jsxs("div",{className:`${Yr.contentLayout} ${!e&&Yr.contentLayoutHidden}`,children:[V.jsx("button",{type:"button",className:Yr.button,onClick:s("profile"),children:V.jsx("img",{src:pU,alt:"toggle profile overlay"})}),V.jsx("button",{type:"button",className:Yr.button,onClick:s("advice_collection"),children:V.jsx("img",{src:yU,alt:"toggle advice collection overlay"})}),V.jsx(Ro,{to:"/",className:Yr.link,onClick:s("none"),children:V.jsx("img",{src:vU,alt:"go to home page"})}),r?V.jsx("button",{type:"button",onClick:i,className:Yr.button,children:V.jsx("img",{src:gU,alt:"log out"})}):V.jsx(Ro,{to:"/signup",className:Yr.link,onClick:s("none"),children:V.jsx("img",{src:mU,alt:"go to sign up page"})})]}),V.jsx("button",{type:"button",className:Yr.button,onClick:s(),style:{boxShadow:"none"},children:V.jsx("img",{src:fU,alt:"toggle bottom menu content"})})]})}const RU="_layout_1bspy_1",AU="_layoutLocked_1bspy_19",bU="_cardsLayout_1bspy_22",CU="_layoutVisible_1bspy_31",PU="_title_1bspy_36",Td={layout:RU,layoutLocked:AU,cardsLayout:bU,layoutVisible:CU,title:PU},xU="_layout_1ycx5_1",kU="_button_1ycx5_7",OU="_card_1ycx5_21",om={layout:xU,button:kU,card:OU};var Lb={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},rT=Yi.createContext&&Yi.createContext(Lb),NU=["attr","size","title"];function DU(t,e){if(t==null)return{};var n=LU(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function LU(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Qh(){return Qh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Qh.apply(this,arguments)}function iT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Zh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iT(Object(n),!0).forEach(function(r){MU(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function MU(t,e,n){return e=VU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function VU(t){var e=jU(t,"string");return typeof e=="symbol"?e:e+""}function jU(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Mb(t){return t&&t.map((e,n)=>Yi.createElement(e.tag,Zh({key:n},e.attr),Mb(e.child)))}function Mo(t){return e=>Yi.createElement(FU,Qh({attr:Zh({},t.attr)},e),Mb(t.child))}function FU(t){var e=n=>{var{attr:r,size:i,title:s}=t,o=DU(t,NU),a=i||n.size||"1em",l;return n.className&&(l=n.className),t.className&&(l=(l?l+" ":"")+t.className),Yi.createElement("svg",Qh({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,o,{className:l,style:Zh(Zh({color:t.color||n.color},n.style),t.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),s&&Yi.createElement("title",null,s),t.children)};return rT!==void 0?Yi.createElement(rT.Consumer,null,n=>e(n)):e(Lb)}function UU(t){return Mo({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 17c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm6-9h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zM8.9 6c0-1.71 1.39-3.1 3.1-3.1s3.1 1.39 3.1 3.1v2H8.9V6zM18 20H6V10h12v10z"},child:[]}]})(t)}function $U(t){return Mo({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M7 11v2h10v-2H7zm5-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"},child:[]}]})(t)}function BU(t){return Mo({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M17 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14c1.1 0 2-.9 2-2V7l-4-4zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3zm3-10H5V5h10v4z"},child:[]}]})(t)}function zU(t){return Mo({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04a.996.996 0 0 0 0-1.41l-2.34-2.34a.996.996 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"},child:[]}]})(t)}function Vb(t){return Mo({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"},child:[]}]})(t)}function HU({adviceItem:t}){const{removeAdvice:e}=o_();function n(){e(t)}return V.jsxs("section",{className:om.layout,children:[V.jsx("button",{className:om.button,onClick:n,type:"button",children:V.jsx($U,{})}),V.jsx("div",{className:om.card,children:t.content})]})}const f_=t=>t.slice(0,1).toUpperCase()+t.slice(1),qU="_layout_1bujd_3",WU="_lockWrapper_1bujd_14",KU="_actionHint_1bujd_39",GU="_link_1bujd_45",Jo={layout:qU,lockWrapper:WU,actionHint:KU,link:GU},QU=(...t)=>{console!=null&&console.warn&&(ao(t[0])&&(t[0]=`react-i18next:: ${t[0]}`),console.warn(...t))},sT={},Fg=(...t)=>{ao(t[0])&&sT[t[0]]||(ao(t[0])&&(sT[t[0]]=new Date),QU(...t))},jb=(t,e)=>()=>{if(t.isInitialized)e();else{const n=()=>{setTimeout(()=>{t.off("initialized",n)},0),e()};t.on("initialized",n)}},oT=(t,e,n)=>{t.loadNamespaces(e,jb(t,n))},aT=(t,e,n,r)=>{ao(n)&&(n=[n]),n.forEach(i=>{t.options.ns.indexOf(i)<0&&t.options.ns.push(i)}),t.loadLanguages(e,jb(t,r))},ZU=(t,e,n={})=>!e.languages||!e.languages.length?(Fg("i18n.languages were undefined or empty",e.languages),!0):e.hasLoadedNamespace(t,{lng:n.lng,precheck:(r,i)=>{var s;if(((s=n.bindI18n)==null?void 0:s.indexOf("languageChanging"))>-1&&r.services.backendConnector.backend&&r.isLanguageChangingTo&&!i(r.isLanguageChangingTo,t))return!1}}),ao=t=>typeof t=="string",JU=t=>typeof t=="object"&&t!==null,YU=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,XU={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"©","&#169;":"©","&reg;":"®","&#174;":"®","&hellip;":"…","&#8230;":"…","&#x2F;":"/","&#47;":"/"},e3=t=>XU[t],t3=t=>t.replace(YU,e3);let Ug={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:t3};const n3=(t={})=>{Ug={...Ug,...t}},r3=()=>Ug;let Fb;const i3=t=>{Fb=t},s3=()=>Fb,o3={type:"3rdParty",init(t){n3(t.options.react),i3(t)}},a3=N.createContext();class l3{constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(n=>{var r;(r=this.usedNamespaces)[n]??(r[n]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const u3=(t,e)=>{const n=N.useRef();return N.useEffect(()=>{n.current=t},[t,e]),n.current},Ub=(t,e,n,r)=>t.getFixedT(e,n,r),c3=(t,e,n,r)=>N.useCallback(Ub(t,e,n,r),[t,e,n,r]),Ri=(t,e={})=>{var D,$,j,T;const{i18n:n}=e,{i18n:r,defaultNS:i}=N.useContext(a3)||{},s=n||r||s3();if(s&&!s.reportNamespaces&&(s.reportNamespaces=new l3),!s){Fg("You will need to pass in an i18next instance by using initReactI18next");const g=(R,P)=>ao(P)?P:JU(P)&&ao(P.defaultValue)?P.defaultValue:Array.isArray(R)?R[R.length-1]:R,S=[g,{},!1];return S.t=g,S.i18n={},S.ready=!1,S}(D=s.options.react)!=null&&D.wait&&Fg("It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const o={...r3(),...s.options.react,...e},{useSuspense:a,keyPrefix:l}=o;let c=i||(($=s.options)==null?void 0:$.defaultNS);c=ao(c)?[c]:c||["translation"],(T=(j=s.reportNamespaces).addUsedNamespaces)==null||T.call(j,c);const d=(s.isInitialized||s.initializedStoreOnce)&&c.every(g=>ZU(g,s,o)),f=c3(s,e.lng||null,o.nsMode==="fallback"?c:c[0],l),p=()=>f,y=()=>Ub(s,e.lng||null,o.nsMode==="fallback"?c:c[0],l),[w,E]=N.useState(p);let A=c.join();e.lng&&(A=`${e.lng}${A}`);const I=u3(A),v=N.useRef(!0);N.useEffect(()=>{const{bindI18n:g,bindI18nStore:S}=o;v.current=!0,!d&&!a&&(e.lng?aT(s,e.lng,c,()=>{v.current&&E(y)}):oT(s,c,()=>{v.current&&E(y)})),d&&I&&I!==A&&v.current&&E(y);const R=()=>{v.current&&E(y)};return g&&(s==null||s.on(g,R)),S&&(s==null||s.store.on(S,R)),()=>{v.current=!1,s&&(g==null||g.split(" ").forEach(P=>s.off(P,R))),S&&s&&S.split(" ").forEach(P=>s.store.off(P,R))}},[s,A]),N.useEffect(()=>{v.current&&d&&E(p)},[s,l,d]);const b=[w,s,d];if(b.t=w,b.i18n=s,b.ready=d,d||!d&&!a)return b;throw new Promise(g=>{e.lng?aT(s,e.lng,c,()=>g()):oT(s,c,()=>g())})},d3="_button_xdps6_1",h3={button:d3};function p_({onClose:t}){return V.jsx("button",{className:h3.button,type:"button",onClick:t,children:V.jsx(Vb,{size:"1.5rem"})})}function $b({onClose:t}){const{isEmailVerified:e,user:n}=Rs(),{t:r}=Ri();let i=V.jsx("p",{className:Jo.actionHint,children:V.jsxs(Ro,{to:"/signup",className:`form__link ${Jo.link}`,onClick:t,children:[r("locked_content.create_account")," "]})});return!e&&n&&(i=V.jsxs("p",{className:Jo.actionHint,children:[r("locked_content.verify_account")," "]})),e&&(i=V.jsxs("p",{className:Jo.actionHint,children:[r("locked_content.refresh_content")," "]})),V.jsxs("section",{className:Jo.layout,children:[V.jsx("div",{className:Jo.lockWrapper,children:V.jsx(UU,{})}),i,V.jsx(p_,{onClose:t})]})}function f3({onClose:t}){const{collection:e}=yb(),{appUser:n}=s_(),{t:r}=Ri();let i=V.jsx($b,{onClose:t});return n&&(i=V.jsxs(V.Fragment,{children:[V.jsxs("div",{children:[V.jsxs("h1",{className:Td.title,children:[f_((n==null?void 0:n.name)??"")," ",r("adviceCollection.title")]}),V.jsx(p_,{onClose:t})]}),V.jsx("div",{className:Td.cardsLayout,children:e.map(s=>V.jsx(HU,{adviceItem:s},s.id))})]})),V.jsx("section",{className:`${Td.layout} ${!n&&Td.layoutLocked}`,children:i})}const p3="_layout_rcctd_3",m3="_contentLayout_rcctd_22",g3="_userIconWrapper_rcctd_26",y3="_userNameLayout_rcctd_39",v3="_userName_rcctd_39",_3="_hidden_rcctd_51",w3="_buttonsLayout_rcctd_55",E3="_icon_rcctd_60",T3="_button_rcctd_55",tr={layout:p3,contentLayout:m3,userIconWrapper:g3,userNameLayout:y3,userName:v3,hidden:_3,buttonsLayout:w3,icon:E3,button:T3},S3="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20height='24px'%20viewBox='0%20-960%20960%20960'%20width='24px'%20fill='%234e5d73'%3e%3cpath%20d='M234-276q51-39%20114-61.5T480-360q69%200%20132%2022.5T726-276q35-41%2054.5-93T800-480q0-133-93.5-226.5T480-800q-133%200-226.5%2093.5T160-480q0%2059%2019.5%20111t54.5%2093Zm246-164q-59%200-99.5-40.5T340-580q0-59%2040.5-99.5T480-720q59%200%2099.5%2040.5T620-580q0%2059-40.5%2099.5T480-440Zm0%20360q-83%200-156-31.5T197-197q-54-54-85.5-127T80-480q0-83%2031.5-156T197-763q54-54%20127-85.5T480-880q83%200%20156%2031.5T763-763q54%2054%2085.5%20127T880-480q0%2083-31.5%20156T763-197q-54%2054-127%2085.5T480-80Zm0-80q53%200%20100-15.5t86-44.5q-39-29-86-44.5T480-280q-53%200-100%2015.5T294-220q39%2029%2086%2044.5T480-160Zm0-360q26%200%2043-17t17-43q0-26-17-43t-43-17q-26%200-43%2017t-17%2043q0%2026%2017%2043t43%2017Zm0-60Zm0%20360Z'/%3e%3c/svg%3e";function I3({onChange:t,value:e}){return V.jsxs("div",{children:[V.jsx("input",{className:"form__input",type:"text",id:"inputField",value:e,"aria-label":"Enter your new name",onChange:t,"aria-describedby":"inputHelp",placeholder:"New name",style:{marginTop:"0.5rem"}}),V.jsx("span",{id:"inputHelp",className:tr.hidden,children:"Enter your new name."})]})}function R3({isEditing:t,handleEdit:e,handleSave:n}){return V.jsxs("div",{className:tr.buttonsLayout,children:[V.jsx("button",{className:tr.button,onClick:t?n:e,type:"button","aria-label":t?"Save changes":"Edit name",children:t?V.jsx(BU,{className:tr.icon}):V.jsx(zU,{className:tr.icon})}),t&&V.jsx("button",{className:tr.button,onClick:e,type:"button","aria-label":"Cancel editing",children:V.jsx(Vb,{className:tr.icon})})]})}function A3({onClose:t}){const{appUser:e}=s_(),[n,r]=N.useState((e==null?void 0:e.name)??""),[i,s]=N.useState(!1),{changeName:o}=o_(),a=async()=>{await o(n),s(!1)},l=()=>{s(f=>!f)},c=f=>{r(f.target.value)};let d=V.jsx($b,{onClose:t});return e&&(d=V.jsx("div",{className:tr.contentLayout,children:V.jsxs("div",{className:tr.userIconWrapper,children:[V.jsx("img",{src:S3,alt:"User profile icon"}),V.jsx("div",{className:tr.userNameLayout,children:i?V.jsx(I3,{value:n,onChange:c}):V.jsx("p",{className:tr.userName,children:e.name})}),V.jsx(R3,{isEditing:i,handleEdit:l,handleSave:a})]})})),V.jsxs("section",{className:tr.layout,children:[d,V.jsx(p_,{onClose:t})]})}const b3="_layout_1f8xd_1",C3="_languageSwitchLayout_1f8xd_6",P3="_active_1f8xd_20",Sd={layout:b3,languageSwitchLayout:C3,active:P3};function Bb(){return N.useContext(zb)}const zb=N.createContext({language:"en"});function Hb(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=Hb(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Jh(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=Hb(t))&&(r&&(r+=" "),r+=e);return r}function x3(){const[t,e]=N.useState("none");function n(o){if(t===o)return e("none");e(o)}const{setLanguage:r,language:i}=Bb();function s(o){return()=>{r(o)}}return V.jsxs("main",{className:Sd.layout,children:[V.jsxs("div",{className:Sd.languageSwitchLayout,children:[V.jsx("button",{className:Jh({[Sd.active]:i==="ru"}),type:"button",onClick:s("ru"),children:"ru"}),V.jsx("button",{className:Jh({[Sd.active]:i==="en"}),type:"button",onClick:s("en"),children:"eng"})]}),V.jsx(HF,{}),t==="advice_collection"&&V.jsx(f3,{onClose:()=>n("advice_collection")}),t==="profile"&&V.jsx(A3,{onClose:()=>n("profile")}),V.jsx(IU,{onShowContent:n})]})}const k3="_layout_xnbib_1",O3={layout:k3},N3=(t,e)=>{if(!(Number.isFinite(t)&&Number.isInteger(t)))throw new TypeError("min must be an integer");if(!(Number.isFinite(e)&&Number.isInteger(e)))throw new TypeError("max must be an integer");return Math.floor(Math.random()*(e-t)+t)},D3="https://api.adviceslip.com/advice";async function L3(){const n=[];for(let s=0;s<10;++s){const o=N3(0,200);n.push(fetch(`${D3}/${o}`))}const i=await(await Promise.any(n)).json();return rj.parse(i)}const M3="_layout_1o5i1_3",V3="_adviceCount_1o5i1_27",j3="_adviceText_1o5i1_40",F3="_patternDivider_1o5i1_53",U3="_buttonsLayout_1o5i1_59",$3="_button_1o5i1_59",B3="_saveAdviceButton_1o5i1_96",z3="_saveAdviceButtonActive_1o5i1_123",Mi={layout:M3,adviceCount:V3,adviceText:j3,patternDivider:F3,buttonsLayout:U3,button:$3,saveAdviceButton:B3,saveAdviceButtonActive:z3},H3="/icon-dice.svg",q3="/pattern-divider-desktop.svg",W3="/pattern-divider-mobile.svg";function K3(t){return Mo({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M885.9 533.7c16.8-22.2 26.1-49.4 26.1-77.7 0-44.9-25.1-87.4-65.5-111.1a67.67 67.67 0 0 0-34.3-9.3H572.4l6-122.9c1.4-29.7-9.1-57.9-29.5-79.4A106.62 106.62 0 0 0 471 99.9c-52 0-98 35-111.8 85.1l-85.9 311h-.3v428h472.3c9.2 0 18.2-1.8 26.5-5.4 47.6-20.3 78.3-66.8 78.3-118.4 0-12.6-1.8-25-5.4-37 16.8-22.2 26.1-49.4 26.1-77.7 0-12.6-1.8-25-5.4-37 16.8-22.2 26.1-49.4 26.1-77.7-.2-12.6-2-25.1-5.6-37.1zM112 528v364c0 17.7 14.3 32 32 32h65V496h-65c-17.7 0-32 14.3-32 32z"},child:[]}]})(t)}function G3(t){return Mo({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M885.9 533.7c16.8-22.2 26.1-49.4 26.1-77.7 0-44.9-25.1-87.4-65.5-111.1a67.67 67.67 0 0 0-34.3-9.3H572.4l6-122.9c1.4-29.7-9.1-57.9-29.5-79.4A106.62 106.62 0 0 0 471 99.9c-52 0-98 35-111.8 85.1l-85.9 311H144c-17.7 0-32 14.3-32 32v364c0 17.7 14.3 32 32 32h601.3c9.2 0 18.2-1.8 26.5-5.4 47.6-20.3 78.3-66.8 78.3-118.4 0-12.6-1.8-25-5.4-37 16.8-22.2 26.1-49.4 26.1-77.7 0-12.6-1.8-25-5.4-37 16.8-22.2 26.1-49.4 26.1-77.7-.2-12.6-2-25.1-5.6-37.1zM184 852V568h81v284h-81zm636.4-353l-21.9 19 13.9 25.4a56.2 56.2 0 0 1 6.9 27.3c0 16.5-7.2 32.2-19.6 43l-21.9 19 13.9 25.4a56.2 56.2 0 0 1 6.9 27.3c0 16.5-7.2 32.2-19.6 43l-21.9 19 13.9 25.4a56.2 56.2 0 0 1 6.9 27.3c0 22.4-13.2 42.6-33.6 51.8H329V564.8l99.5-360.5a44.1 44.1 0 0 1 42.2-32.3c7.6 0 15.1 2.2 21.1 6.7 9.9 7.4 15.2 18.6 14.6 30.5l-9.6 198.4h314.4C829 418.5 840 436.9 840 456c0 16.5-7.2 32.1-19.6 43z"},child:[]}]})(t)}const Q3=768;function Z3({onNextAdvice:t,adviceItem:e}){const{user:n}=Rs(),{content:r,id:i}=e,{t:s}=Ri(),o=window.innerWidth<Q3?W3:q3,{collection:a}=yb(),{removeAdvice:l,saveAdvice:c}=o_(),d=a.find(f=>f.content===r);return V.jsxs("section",{className:Mi.layout,children:[i&&V.jsxs("h5",{className:Mi.adviceCount,children:[s("advice_card.advice_count")," ",i]}),V.jsx("q",{className:Mi.adviceText,children:r}),V.jsx("img",{src:o,alt:s("advice_card.divider_alt"),className:Mi.patternDivider}),V.jsxs("div",{className:Mi.buttonsLayout,children:[V.jsxs("button",{className:Mi.button,type:"button",onClick:t,children:[V.jsx("img",{src:H3,alt:s("advice_card.get_next_advice")})," "]}),(n==null?void 0:n.emailVerified)&&V.jsx("button",{className:Jh(Mi.saveAdviceButton,{[Mi.saveAdviceButtonActive]:d}),type:"button",onClick:d?()=>l(e):()=>c(e),children:d?V.jsx(K3,{}):V.jsx(G3,{})})]})]})}function qb(t,e){return function(){return t.apply(e,arguments)}}const{toString:J3}=Object.prototype,{getPrototypeOf:m_}=Object,Hf=(t=>e=>{const n=J3.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Rr=t=>(t=t.toLowerCase(),e=>Hf(e)===t),qf=t=>e=>typeof e===t,{isArray:ul}=Array,ac=qf("undefined");function Y3(t){return t!==null&&!ac(t)&&t.constructor!==null&&!ac(t.constructor)&&Fn(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const Wb=Rr("ArrayBuffer");function X3(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&Wb(t.buffer),e}const e$=qf("string"),Fn=qf("function"),Kb=qf("number"),Wf=t=>t!==null&&typeof t=="object",t$=t=>t===!0||t===!1,Zd=t=>{if(Hf(t)!=="object")return!1;const e=m_(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},n$=Rr("Date"),r$=Rr("File"),i$=Rr("Blob"),s$=Rr("FileList"),o$=t=>Wf(t)&&Fn(t.pipe),a$=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Fn(t.append)&&((e=Hf(t))==="formdata"||e==="object"&&Fn(t.toString)&&t.toString()==="[object FormData]"))},l$=Rr("URLSearchParams"),[u$,c$,d$,h$]=["ReadableStream","Request","Response","Headers"].map(Rr),f$=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Lc(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,i;if(typeof t!="object"&&(t=[t]),ul(t))for(r=0,i=t.length;r<i;r++)e.call(null,t[r],r,t);else{const s=n?Object.getOwnPropertyNames(t):Object.keys(t),o=s.length;let a;for(r=0;r<o;r++)a=s[r],e.call(null,t[a],a,t)}}function Gb(t,e){e=e.toLowerCase();const n=Object.keys(t);let r=n.length,i;for(;r-- >0;)if(i=n[r],e===i.toLowerCase())return i;return null}const no=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Qb=t=>!ac(t)&&t!==no;function $g(){const{caseless:t}=Qb(this)&&this||{},e={},n=(r,i)=>{const s=t&&Gb(e,i)||i;Zd(e[s])&&Zd(r)?e[s]=$g(e[s],r):Zd(r)?e[s]=$g({},r):ul(r)?e[s]=r.slice():e[s]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&Lc(arguments[r],n);return e}const p$=(t,e,n,{allOwnKeys:r}={})=>(Lc(e,(i,s)=>{n&&Fn(i)?t[s]=qb(i,n):t[s]=i},{allOwnKeys:r}),t),m$=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),g$=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},y$=(t,e,n,r)=>{let i,s,o;const a={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),s=i.length;s-- >0;)o=i[s],(!r||r(o,t,e))&&!a[o]&&(e[o]=t[o],a[o]=!0);t=n!==!1&&m_(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},v$=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},_$=t=>{if(!t)return null;if(ul(t))return t;let e=t.length;if(!Kb(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},w$=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&m_(Uint8Array)),E$=(t,e)=>{const r=(t&&t[Symbol.iterator]).call(t);let i;for(;(i=r.next())&&!i.done;){const s=i.value;e.call(t,s[0],s[1])}},T$=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},S$=Rr("HTMLFormElement"),I$=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),lT=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),R$=Rr("RegExp"),Zb=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};Lc(n,(i,s)=>{let o;(o=e(i,s,t))!==!1&&(r[s]=o||i)}),Object.defineProperties(t,r)},A$=t=>{Zb(t,(e,n)=>{if(Fn(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(Fn(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},b$=(t,e)=>{const n={},r=i=>{i.forEach(s=>{n[s]=!0})};return ul(t)?r(t):r(String(t).split(e)),n},C$=()=>{},P$=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e,am="abcdefghijklmnopqrstuvwxyz",uT="0123456789",Jb={DIGIT:uT,ALPHA:am,ALPHA_DIGIT:am+am.toUpperCase()+uT},x$=(t=16,e=Jb.ALPHA_DIGIT)=>{let n="";const{length:r}=e;for(;t--;)n+=e[Math.random()*r|0];return n};function k$(t){return!!(t&&Fn(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const O$=t=>{const e=new Array(10),n=(r,i)=>{if(Wf(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[i]=r;const s=ul(r)?[]:{};return Lc(r,(o,a)=>{const l=n(o,i+1);!ac(l)&&(s[a]=l)}),e[i]=void 0,s}}return r};return n(t,0)},N$=Rr("AsyncFunction"),D$=t=>t&&(Wf(t)||Fn(t))&&Fn(t.then)&&Fn(t.catch),Yb=((t,e)=>t?setImmediate:e?((n,r)=>(no.addEventListener("message",({source:i,data:s})=>{i===no&&s===n&&r.length&&r.shift()()},!1),i=>{r.push(i),no.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Fn(no.postMessage)),L$=typeof queueMicrotask<"u"?queueMicrotask.bind(no):typeof process<"u"&&process.nextTick||Yb,z={isArray:ul,isArrayBuffer:Wb,isBuffer:Y3,isFormData:a$,isArrayBufferView:X3,isString:e$,isNumber:Kb,isBoolean:t$,isObject:Wf,isPlainObject:Zd,isReadableStream:u$,isRequest:c$,isResponse:d$,isHeaders:h$,isUndefined:ac,isDate:n$,isFile:r$,isBlob:i$,isRegExp:R$,isFunction:Fn,isStream:o$,isURLSearchParams:l$,isTypedArray:w$,isFileList:s$,forEach:Lc,merge:$g,extend:p$,trim:f$,stripBOM:m$,inherits:g$,toFlatObject:y$,kindOf:Hf,kindOfTest:Rr,endsWith:v$,toArray:_$,forEachEntry:E$,matchAll:T$,isHTMLForm:S$,hasOwnProperty:lT,hasOwnProp:lT,reduceDescriptors:Zb,freezeMethods:A$,toObjectSet:b$,toCamelCase:I$,noop:C$,toFiniteNumber:P$,findKey:Gb,global:no,isContextDefined:Qb,ALPHABET:Jb,generateString:x$,isSpecCompliantForm:k$,toJSONObject:O$,isAsyncFn:N$,isThenable:D$,setImmediate:Yb,asap:L$};function ke(t,e,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}z.inherits(ke,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:z.toJSONObject(this.config),code:this.code,status:this.status}}});const Xb=ke.prototype,eC={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{eC[t]={value:t}});Object.defineProperties(ke,eC);Object.defineProperty(Xb,"isAxiosError",{value:!0});ke.from=(t,e,n,r,i,s)=>{const o=Object.create(Xb);return z.toFlatObject(t,o,function(l){return l!==Error.prototype},a=>a!=="isAxiosError"),ke.call(o,t.message,e,n,r,i),o.cause=t,o.name=t.name,s&&Object.assign(o,s),o};const M$=null;function Bg(t){return z.isPlainObject(t)||z.isArray(t)}function tC(t){return z.endsWith(t,"[]")?t.slice(0,-2):t}function cT(t,e,n){return t?t.concat(e).map(function(i,s){return i=tC(i),!n&&s?"["+i+"]":i}).join(n?".":""):e}function V$(t){return z.isArray(t)&&!t.some(Bg)}const j$=z.toFlatObject(z,{},null,function(e){return/^is[A-Z]/.test(e)});function Kf(t,e,n){if(!z.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=z.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(E,A){return!z.isUndefined(A[E])});const r=n.metaTokens,i=n.visitor||d,s=n.dots,o=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&z.isSpecCompliantForm(e);if(!z.isFunction(i))throw new TypeError("visitor must be a function");function c(w){if(w===null)return"";if(z.isDate(w))return w.toISOString();if(!l&&z.isBlob(w))throw new ke("Blob is not supported. Use a Buffer instead.");return z.isArrayBuffer(w)||z.isTypedArray(w)?l&&typeof Blob=="function"?new Blob([w]):Buffer.from(w):w}function d(w,E,A){let I=w;if(w&&!A&&typeof w=="object"){if(z.endsWith(E,"{}"))E=r?E:E.slice(0,-2),w=JSON.stringify(w);else if(z.isArray(w)&&V$(w)||(z.isFileList(w)||z.endsWith(E,"[]"))&&(I=z.toArray(w)))return E=tC(E),I.forEach(function(b,D){!(z.isUndefined(b)||b===null)&&e.append(o===!0?cT([E],D,s):o===null?E:E+"[]",c(b))}),!1}return Bg(w)?!0:(e.append(cT(A,E,s),c(w)),!1)}const f=[],p=Object.assign(j$,{defaultVisitor:d,convertValue:c,isVisitable:Bg});function y(w,E){if(!z.isUndefined(w)){if(f.indexOf(w)!==-1)throw Error("Circular reference detected in "+E.join("."));f.push(w),z.forEach(w,function(I,v){(!(z.isUndefined(I)||I===null)&&i.call(e,I,z.isString(v)?v.trim():v,E,p))===!0&&y(I,E?E.concat(v):[v])}),f.pop()}}if(!z.isObject(t))throw new TypeError("data must be an object");return y(t),e}function dT(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function g_(t,e){this._pairs=[],t&&Kf(t,this,e)}const nC=g_.prototype;nC.append=function(e,n){this._pairs.push([e,n])};nC.toString=function(e){const n=e?function(r){return e.call(this,r,dT)}:dT;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function F$(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function rC(t,e,n){if(!e)return t;const r=n&&n.encode||F$,i=n&&n.serialize;let s;if(i?s=i(e,n):s=z.isURLSearchParams(e)?e.toString():new g_(e,n).toString(r),s){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+s}return t}class hT{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){z.forEach(this.handlers,function(r){r!==null&&e(r)})}}const iC={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},U$=typeof URLSearchParams<"u"?URLSearchParams:g_,$$=typeof FormData<"u"?FormData:null,B$=typeof Blob<"u"?Blob:null,z$={isBrowser:!0,classes:{URLSearchParams:U$,FormData:$$,Blob:B$},protocols:["http","https","file","blob","url","data"]},y_=typeof window<"u"&&typeof document<"u",zg=typeof navigator=="object"&&navigator||void 0,H$=y_&&(!zg||["ReactNative","NativeScript","NS"].indexOf(zg.product)<0),q$=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",W$=y_&&window.location.href||"http://localhost",K$=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:y_,hasStandardBrowserEnv:H$,hasStandardBrowserWebWorkerEnv:q$,navigator:zg,origin:W$},Symbol.toStringTag,{value:"Module"})),Pn={...K$,...z$};function G$(t,e){return Kf(t,new Pn.classes.URLSearchParams,Object.assign({visitor:function(n,r,i,s){return Pn.isNode&&z.isBuffer(n)?(this.append(r,n.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},e))}function Q$(t){return z.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function Z$(t){const e={},n=Object.keys(t);let r;const i=n.length;let s;for(r=0;r<i;r++)s=n[r],e[s]=t[s];return e}function sC(t){function e(n,r,i,s){let o=n[s++];if(o==="__proto__")return!0;const a=Number.isFinite(+o),l=s>=n.length;return o=!o&&z.isArray(i)?i.length:o,l?(z.hasOwnProp(i,o)?i[o]=[i[o],r]:i[o]=r,!a):((!i[o]||!z.isObject(i[o]))&&(i[o]=[]),e(n,r,i[o],s)&&z.isArray(i[o])&&(i[o]=Z$(i[o])),!a)}if(z.isFormData(t)&&z.isFunction(t.entries)){const n={};return z.forEachEntry(t,(r,i)=>{e(Q$(r),i,n,0)}),n}return null}function J$(t,e,n){if(z.isString(t))try{return(e||JSON.parse)(t),z.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const Mc={transitional:iC,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,s=z.isObject(e);if(s&&z.isHTMLForm(e)&&(e=new FormData(e)),z.isFormData(e))return i?JSON.stringify(sC(e)):e;if(z.isArrayBuffer(e)||z.isBuffer(e)||z.isStream(e)||z.isFile(e)||z.isBlob(e)||z.isReadableStream(e))return e;if(z.isArrayBufferView(e))return e.buffer;if(z.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(s){if(r.indexOf("application/x-www-form-urlencoded")>-1)return G$(e,this.formSerializer).toString();if((a=z.isFileList(e))||r.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return Kf(a?{"files[]":e}:e,l&&new l,this.formSerializer)}}return s||i?(n.setContentType("application/json",!1),J$(e)):e}],transformResponse:[function(e){const n=this.transitional||Mc.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(z.isResponse(e)||z.isReadableStream(e))return e;if(e&&z.isString(e)&&(r&&!this.responseType||i)){const o=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(a){if(o)throw a.name==="SyntaxError"?ke.from(a,ke.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Pn.classes.FormData,Blob:Pn.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};z.forEach(["delete","get","head","post","put","patch"],t=>{Mc.headers[t]={}});const Y$=z.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),X$=t=>{const e={};let n,r,i;return t&&t.split(`
`).forEach(function(o){i=o.indexOf(":"),n=o.substring(0,i).trim().toLowerCase(),r=o.substring(i+1).trim(),!(!n||e[n]&&Y$[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},fT=Symbol("internals");function Ml(t){return t&&String(t).trim().toLowerCase()}function Jd(t){return t===!1||t==null?t:z.isArray(t)?t.map(Jd):String(t)}function e9(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const t9=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function lm(t,e,n,r,i){if(z.isFunction(r))return r.call(this,e,n);if(i&&(e=n),!!z.isString(e)){if(z.isString(r))return e.indexOf(r)!==-1;if(z.isRegExp(r))return r.test(e)}}function n9(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function r9(t,e){const n=z.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(i,s,o){return this[r].call(this,e,i,s,o)},configurable:!0})})}class xn{constructor(e){e&&this.set(e)}set(e,n,r){const i=this;function s(a,l,c){const d=Ml(l);if(!d)throw new Error("header name must be a non-empty string");const f=z.findKey(i,d);(!f||i[f]===void 0||c===!0||c===void 0&&i[f]!==!1)&&(i[f||l]=Jd(a))}const o=(a,l)=>z.forEach(a,(c,d)=>s(c,d,l));if(z.isPlainObject(e)||e instanceof this.constructor)o(e,n);else if(z.isString(e)&&(e=e.trim())&&!t9(e))o(X$(e),n);else if(z.isHeaders(e))for(const[a,l]of e.entries())s(l,a,r);else e!=null&&s(n,e,r);return this}get(e,n){if(e=Ml(e),e){const r=z.findKey(this,e);if(r){const i=this[r];if(!n)return i;if(n===!0)return e9(i);if(z.isFunction(n))return n.call(this,i,r);if(z.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=Ml(e),e){const r=z.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||lm(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let i=!1;function s(o){if(o=Ml(o),o){const a=z.findKey(r,o);a&&(!n||lm(r,r[a],a,n))&&(delete r[a],i=!0)}}return z.isArray(e)?e.forEach(s):s(e),i}clear(e){const n=Object.keys(this);let r=n.length,i=!1;for(;r--;){const s=n[r];(!e||lm(this,this[s],s,e,!0))&&(delete this[s],i=!0)}return i}normalize(e){const n=this,r={};return z.forEach(this,(i,s)=>{const o=z.findKey(r,s);if(o){n[o]=Jd(i),delete n[s];return}const a=e?n9(s):String(s).trim();a!==s&&delete n[s],n[a]=Jd(i),r[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return z.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=e&&z.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[fT]=this[fT]={accessors:{}}).accessors,i=this.prototype;function s(o){const a=Ml(o);r[a]||(r9(i,o),r[a]=!0)}return z.isArray(e)?e.forEach(s):s(e),this}}xn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);z.reduceDescriptors(xn.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});z.freezeMethods(xn);function um(t,e){const n=this||Mc,r=e||n,i=xn.from(r.headers);let s=r.data;return z.forEach(t,function(a){s=a.call(n,s,i.normalize(),e?e.status:void 0)}),i.normalize(),s}function oC(t){return!!(t&&t.__CANCEL__)}function cl(t,e,n){ke.call(this,t??"canceled",ke.ERR_CANCELED,e,n),this.name="CanceledError"}z.inherits(cl,ke,{__CANCEL__:!0});function aC(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new ke("Request failed with status code "+n.status,[ke.ERR_BAD_REQUEST,ke.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function i9(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function s9(t,e){t=t||10;const n=new Array(t),r=new Array(t);let i=0,s=0,o;return e=e!==void 0?e:1e3,function(l){const c=Date.now(),d=r[s];o||(o=c),n[i]=l,r[i]=c;let f=s,p=0;for(;f!==i;)p+=n[f++],f=f%t;if(i=(i+1)%t,i===s&&(s=(s+1)%t),c-o<e)return;const y=d&&c-d;return y?Math.round(p*1e3/y):void 0}}function o9(t,e){let n=0,r=1e3/e,i,s;const o=(c,d=Date.now())=>{n=d,i=null,s&&(clearTimeout(s),s=null),t.apply(null,c)};return[(...c)=>{const d=Date.now(),f=d-n;f>=r?o(c,d):(i=c,s||(s=setTimeout(()=>{s=null,o(i)},r-f)))},()=>i&&o(i)]}const Yh=(t,e,n=3)=>{let r=0;const i=s9(50,250);return o9(s=>{const o=s.loaded,a=s.lengthComputable?s.total:void 0,l=o-r,c=i(l),d=o<=a;r=o;const f={loaded:o,total:a,progress:a?o/a:void 0,bytes:l,rate:c||void 0,estimated:c&&a&&d?(a-o)/c:void 0,event:s,lengthComputable:a!=null,[e?"download":"upload"]:!0};t(f)},n)},pT=(t,e)=>{const n=t!=null;return[r=>e[0]({lengthComputable:n,total:t,loaded:r}),e[1]]},mT=t=>(...e)=>z.asap(()=>t(...e)),a9=Pn.hasStandardBrowserEnv?function(){const e=Pn.navigator&&/(msie|trident)/i.test(Pn.navigator.userAgent),n=document.createElement("a");let r;function i(s){let o=s;return e&&(n.setAttribute("href",o),o=n.href),n.setAttribute("href",o),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return r=i(window.location.href),function(o){const a=z.isString(o)?i(o):o;return a.protocol===r.protocol&&a.host===r.host}}():function(){return function(){return!0}}(),l9=Pn.hasStandardBrowserEnv?{write(t,e,n,r,i,s){const o=[t+"="+encodeURIComponent(e)];z.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),z.isString(r)&&o.push("path="+r),z.isString(i)&&o.push("domain="+i),s===!0&&o.push("secure"),document.cookie=o.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function u9(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function c9(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function lC(t,e){return t&&!u9(e)?c9(t,e):e}const gT=t=>t instanceof xn?{...t}:t;function Ao(t,e){e=e||{};const n={};function r(c,d,f){return z.isPlainObject(c)&&z.isPlainObject(d)?z.merge.call({caseless:f},c,d):z.isPlainObject(d)?z.merge({},d):z.isArray(d)?d.slice():d}function i(c,d,f){if(z.isUndefined(d)){if(!z.isUndefined(c))return r(void 0,c,f)}else return r(c,d,f)}function s(c,d){if(!z.isUndefined(d))return r(void 0,d)}function o(c,d){if(z.isUndefined(d)){if(!z.isUndefined(c))return r(void 0,c)}else return r(void 0,d)}function a(c,d,f){if(f in e)return r(c,d);if(f in t)return r(void 0,c)}const l={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(c,d)=>i(gT(c),gT(d),!0)};return z.forEach(Object.keys(Object.assign({},t,e)),function(d){const f=l[d]||i,p=f(t[d],e[d],d);z.isUndefined(p)&&f!==a||(n[d]=p)}),n}const uC=t=>{const e=Ao({},t);let{data:n,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:s,headers:o,auth:a}=e;e.headers=o=xn.from(o),e.url=rC(lC(e.baseURL,e.url),t.params,t.paramsSerializer),a&&o.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):"")));let l;if(z.isFormData(n)){if(Pn.hasStandardBrowserEnv||Pn.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((l=o.getContentType())!==!1){const[c,...d]=l?l.split(";").map(f=>f.trim()).filter(Boolean):[];o.setContentType([c||"multipart/form-data",...d].join("; "))}}if(Pn.hasStandardBrowserEnv&&(r&&z.isFunction(r)&&(r=r(e)),r||r!==!1&&a9(e.url))){const c=i&&s&&l9.read(s);c&&o.set(i,c)}return e},d9=typeof XMLHttpRequest<"u",h9=d9&&function(t){return new Promise(function(n,r){const i=uC(t);let s=i.data;const o=xn.from(i.headers).normalize();let{responseType:a,onUploadProgress:l,onDownloadProgress:c}=i,d,f,p,y,w;function E(){y&&y(),w&&w(),i.cancelToken&&i.cancelToken.unsubscribe(d),i.signal&&i.signal.removeEventListener("abort",d)}let A=new XMLHttpRequest;A.open(i.method.toUpperCase(),i.url,!0),A.timeout=i.timeout;function I(){if(!A)return;const b=xn.from("getAllResponseHeaders"in A&&A.getAllResponseHeaders()),$={data:!a||a==="text"||a==="json"?A.responseText:A.response,status:A.status,statusText:A.statusText,headers:b,config:t,request:A};aC(function(T){n(T),E()},function(T){r(T),E()},$),A=null}"onloadend"in A?A.onloadend=I:A.onreadystatechange=function(){!A||A.readyState!==4||A.status===0&&!(A.responseURL&&A.responseURL.indexOf("file:")===0)||setTimeout(I)},A.onabort=function(){A&&(r(new ke("Request aborted",ke.ECONNABORTED,t,A)),A=null)},A.onerror=function(){r(new ke("Network Error",ke.ERR_NETWORK,t,A)),A=null},A.ontimeout=function(){let D=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const $=i.transitional||iC;i.timeoutErrorMessage&&(D=i.timeoutErrorMessage),r(new ke(D,$.clarifyTimeoutError?ke.ETIMEDOUT:ke.ECONNABORTED,t,A)),A=null},s===void 0&&o.setContentType(null),"setRequestHeader"in A&&z.forEach(o.toJSON(),function(D,$){A.setRequestHeader($,D)}),z.isUndefined(i.withCredentials)||(A.withCredentials=!!i.withCredentials),a&&a!=="json"&&(A.responseType=i.responseType),c&&([p,w]=Yh(c,!0),A.addEventListener("progress",p)),l&&A.upload&&([f,y]=Yh(l),A.upload.addEventListener("progress",f),A.upload.addEventListener("loadend",y)),(i.cancelToken||i.signal)&&(d=b=>{A&&(r(!b||b.type?new cl(null,t,A):b),A.abort(),A=null)},i.cancelToken&&i.cancelToken.subscribe(d),i.signal&&(i.signal.aborted?d():i.signal.addEventListener("abort",d)));const v=i9(i.url);if(v&&Pn.protocols.indexOf(v)===-1){r(new ke("Unsupported protocol "+v+":",ke.ERR_BAD_REQUEST,t));return}A.send(s||null)})},f9=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let r=new AbortController,i;const s=function(c){if(!i){i=!0,a();const d=c instanceof Error?c:this.reason;r.abort(d instanceof ke?d:new cl(d instanceof Error?d.message:d))}};let o=e&&setTimeout(()=>{o=null,s(new ke(`timeout ${e} of ms exceeded`,ke.ETIMEDOUT))},e);const a=()=>{t&&(o&&clearTimeout(o),o=null,t.forEach(c=>{c.unsubscribe?c.unsubscribe(s):c.removeEventListener("abort",s)}),t=null)};t.forEach(c=>c.addEventListener("abort",s));const{signal:l}=r;return l.unsubscribe=()=>z.asap(a),l}},p9=function*(t,e){let n=t.byteLength;if(!e||n<e){yield t;return}let r=0,i;for(;r<n;)i=r+e,yield t.slice(r,i),r=i},m9=async function*(t,e){for await(const n of g9(t))yield*p9(n,e)},g9=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:r}=await e.read();if(n)break;yield r}}finally{await e.cancel()}},yT=(t,e,n,r)=>{const i=m9(t,e);let s=0,o,a=l=>{o||(o=!0,r&&r(l))};return new ReadableStream({async pull(l){try{const{done:c,value:d}=await i.next();if(c){a(),l.close();return}let f=d.byteLength;if(n){let p=s+=f;n(p)}l.enqueue(new Uint8Array(d))}catch(c){throw a(c),c}},cancel(l){return a(l),i.return()}},{highWaterMark:2})},Gf=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",cC=Gf&&typeof ReadableStream=="function",y9=Gf&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),dC=(t,...e)=>{try{return!!t(...e)}catch{return!1}},v9=cC&&dC(()=>{let t=!1;const e=new Request(Pn.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),vT=64*1024,Hg=cC&&dC(()=>z.isReadableStream(new Response("").body)),Xh={stream:Hg&&(t=>t.body)};Gf&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Xh[e]&&(Xh[e]=z.isFunction(t[e])?n=>n[e]():(n,r)=>{throw new ke(`Response type '${e}' is not supported`,ke.ERR_NOT_SUPPORT,r)})})})(new Response);const _9=async t=>{if(t==null)return 0;if(z.isBlob(t))return t.size;if(z.isSpecCompliantForm(t))return(await new Request(Pn.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(z.isArrayBufferView(t)||z.isArrayBuffer(t))return t.byteLength;if(z.isURLSearchParams(t)&&(t=t+""),z.isString(t))return(await y9(t)).byteLength},w9=async(t,e)=>{const n=z.toFiniteNumber(t.getContentLength());return n??_9(e)},E9=Gf&&(async t=>{let{url:e,method:n,data:r,signal:i,cancelToken:s,timeout:o,onDownloadProgress:a,onUploadProgress:l,responseType:c,headers:d,withCredentials:f="same-origin",fetchOptions:p}=uC(t);c=c?(c+"").toLowerCase():"text";let y=f9([i,s&&s.toAbortSignal()],o),w;const E=y&&y.unsubscribe&&(()=>{y.unsubscribe()});let A;try{if(l&&v9&&n!=="get"&&n!=="head"&&(A=await w9(d,r))!==0){let $=new Request(e,{method:"POST",body:r,duplex:"half"}),j;if(z.isFormData(r)&&(j=$.headers.get("content-type"))&&d.setContentType(j),$.body){const[T,g]=pT(A,Yh(mT(l)));r=yT($.body,vT,T,g)}}z.isString(f)||(f=f?"include":"omit");const I="credentials"in Request.prototype;w=new Request(e,{...p,signal:y,method:n.toUpperCase(),headers:d.normalize().toJSON(),body:r,duplex:"half",credentials:I?f:void 0});let v=await fetch(w);const b=Hg&&(c==="stream"||c==="response");if(Hg&&(a||b&&E)){const $={};["status","statusText","headers"].forEach(S=>{$[S]=v[S]});const j=z.toFiniteNumber(v.headers.get("content-length")),[T,g]=a&&pT(j,Yh(mT(a),!0))||[];v=new Response(yT(v.body,vT,T,()=>{g&&g(),E&&E()}),$)}c=c||"text";let D=await Xh[z.findKey(Xh,c)||"text"](v,t);return!b&&E&&E(),await new Promise(($,j)=>{aC($,j,{data:D,headers:xn.from(v.headers),status:v.status,statusText:v.statusText,config:t,request:w})})}catch(I){throw E&&E(),I&&I.name==="TypeError"&&/fetch/i.test(I.message)?Object.assign(new ke("Network Error",ke.ERR_NETWORK,t,w),{cause:I.cause||I}):ke.from(I,I&&I.code,t,w)}}),qg={http:M$,xhr:h9,fetch:E9};z.forEach(qg,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const _T=t=>`- ${t}`,T9=t=>z.isFunction(t)||t===null||t===!1,hC={getAdapter:t=>{t=z.isArray(t)?t:[t];const{length:e}=t;let n,r;const i={};for(let s=0;s<e;s++){n=t[s];let o;if(r=n,!T9(n)&&(r=qg[(o=String(n)).toLowerCase()],r===void 0))throw new ke(`Unknown adapter '${o}'`);if(r)break;i[o||"#"+s]=r}if(!r){const s=Object.entries(i).map(([a,l])=>`adapter ${a} `+(l===!1?"is not supported by the environment":"is not available in the build"));let o=e?s.length>1?`since :
`+s.map(_T).join(`
`):" "+_T(s[0]):"as no adapter specified";throw new ke("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return r},adapters:qg};function cm(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new cl(null,t)}function wT(t){return cm(t),t.headers=xn.from(t.headers),t.data=um.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),hC.getAdapter(t.adapter||Mc.adapter)(t).then(function(r){return cm(t),r.data=um.call(t,t.transformResponse,r),r.headers=xn.from(r.headers),r},function(r){return oC(r)||(cm(t),r&&r.response&&(r.response.data=um.call(t,t.transformResponse,r.response),r.response.headers=xn.from(r.response.headers))),Promise.reject(r)})}const fC="1.7.7",v_={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{v_[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const ET={};v_.transitional=function(e,n,r){function i(s,o){return"[Axios v"+fC+"] Transitional option '"+s+"'"+o+(r?". "+r:"")}return(s,o,a)=>{if(e===!1)throw new ke(i(o," has been removed"+(n?" in "+n:"")),ke.ERR_DEPRECATED);return n&&!ET[o]&&(ET[o]=!0,console.warn(i(o," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(s,o,a):!0}};function S9(t,e,n){if(typeof t!="object")throw new ke("options must be an object",ke.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let i=r.length;for(;i-- >0;){const s=r[i],o=e[s];if(o){const a=t[s],l=a===void 0||o(a,s,t);if(l!==!0)throw new ke("option "+s+" must be "+l,ke.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new ke("Unknown option "+s,ke.ERR_BAD_OPTION)}}const Wg={assertOptions:S9,validators:v_},Vi=Wg.validators;class lo{constructor(e){this.defaults=e,this.interceptors={request:new hT,response:new hT}}async request(e,n){try{return await this._request(e,n)}catch(r){if(r instanceof Error){let i;Error.captureStackTrace?Error.captureStackTrace(i={}):i=new Error;const s=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?s&&!String(r.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+s):r.stack=s}catch{}}throw r}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=Ao(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:s}=n;r!==void 0&&Wg.assertOptions(r,{silentJSONParsing:Vi.transitional(Vi.boolean),forcedJSONParsing:Vi.transitional(Vi.boolean),clarifyTimeoutError:Vi.transitional(Vi.boolean)},!1),i!=null&&(z.isFunction(i)?n.paramsSerializer={serialize:i}:Wg.assertOptions(i,{encode:Vi.function,serialize:Vi.function},!0)),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=s&&z.merge(s.common,s[n.method]);s&&z.forEach(["delete","get","head","post","put","patch","common"],w=>{delete s[w]}),n.headers=xn.concat(o,s);const a=[];let l=!0;this.interceptors.request.forEach(function(E){typeof E.runWhen=="function"&&E.runWhen(n)===!1||(l=l&&E.synchronous,a.unshift(E.fulfilled,E.rejected))});const c=[];this.interceptors.response.forEach(function(E){c.push(E.fulfilled,E.rejected)});let d,f=0,p;if(!l){const w=[wT.bind(this),void 0];for(w.unshift.apply(w,a),w.push.apply(w,c),p=w.length,d=Promise.resolve(n);f<p;)d=d.then(w[f++],w[f++]);return d}p=a.length;let y=n;for(f=0;f<p;){const w=a[f++],E=a[f++];try{y=w(y)}catch(A){E.call(this,A);break}}try{d=wT.call(this,y)}catch(w){return Promise.reject(w)}for(f=0,p=c.length;f<p;)d=d.then(c[f++],c[f++]);return d}getUri(e){e=Ao(this.defaults,e);const n=lC(e.baseURL,e.url);return rC(n,e.params,e.paramsSerializer)}}z.forEach(["delete","get","head","options"],function(e){lo.prototype[e]=function(n,r){return this.request(Ao(r||{},{method:e,url:n,data:(r||{}).data}))}});z.forEach(["post","put","patch"],function(e){function n(r){return function(s,o,a){return this.request(Ao(a||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:s,data:o}))}}lo.prototype[e]=n(),lo.prototype[e+"Form"]=n(!0)});class __{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(s){n=s});const r=this;this.promise.then(i=>{if(!r._listeners)return;let s=r._listeners.length;for(;s-- >0;)r._listeners[s](i);r._listeners=null}),this.promise.then=i=>{let s;const o=new Promise(a=>{r.subscribe(a),s=a}).then(i);return o.cancel=function(){r.unsubscribe(s)},o},e(function(s,o,a){r.reason||(r.reason=new cl(s,o,a),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=r=>{e.abort(r)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new __(function(i){e=i}),cancel:e}}}function I9(t){return function(n){return t.apply(null,n)}}function R9(t){return z.isObject(t)&&t.isAxiosError===!0}const Kg={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Kg).forEach(([t,e])=>{Kg[e]=t});function pC(t){const e=new lo(t),n=qb(lo.prototype.request,e);return z.extend(n,lo.prototype,e,{allOwnKeys:!0}),z.extend(n,e,null,{allOwnKeys:!0}),n.create=function(i){return pC(Ao(t,i))},n}const kt=pC(Mc);kt.Axios=lo;kt.CanceledError=cl;kt.CancelToken=__;kt.isCancel=oC;kt.VERSION=fC;kt.toFormData=Kf;kt.AxiosError=ke;kt.Cancel=kt.CanceledError;kt.all=function(e){return Promise.all(e)};kt.spread=I9;kt.isAxiosError=R9;kt.mergeConfig=Ao;kt.AxiosHeaders=xn;kt.formToJSON=t=>sC(z.isHTMLForm(t)?new FormData(t):t);kt.getAdapter=hC.getAdapter;kt.HttpStatusCode=Kg;kt.default=kt;const A9={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_API_KEY:"AIzaSyCzgR2yrf4aQz2s66vnH_4mRXIJ1YWnjvI",VITE_APP_ID:"1:103395856438:web:fb1dfcb169d3a52d32c897",VITE_AUTH_DOMAIN:"avaquo-a8f6d.firebaseapp.com",VITE_ENV:"DEV",VITE_MEASUREMENT_ID:"G-VZ4BW8X0CB",VITE_MESSAGING_SENDER_ID:"103395856438",VITE_PROJECT_ID:"avaquo-a8f6d",VITE_RAPID_API_KEY:"4296fbad83msheddbfc460d3a659p12902ejsn9bc7e8a7f456",VITE_STORAGE_BUCKET:"avaquo-a8f6d.appspot.com"},{VITE_RAPID_API_KEY:b9}=A9,C9="https://microsoft-translator-text.p.rapidapi.com/translate",P9=async(t,e)=>{try{const n=[{text:t}],r={params:{"api-version":"3.0",profanityAction:"NoAction",textType:"plain",from:"en",to:e},headers:{"x-rapidapi-key":b9,"x-rapidapi-host":"microsoft-translator-text.p.rapidapi.com","Content-Type":"application/json"}},s=(await kt.post(C9,n,r)).data[0].translations[0].text;return typeof s=="string"?s:null}catch(n){return console.error(`Failed to translate text
`,n),null}};function x9(){const[t,e]=N.useState({content:"",id:1}),[n,r]=N.useState(!1),[i,s]=N.useState(!1),{language:o}=Bb(),{setToastNotification:a}=mb(),{t:l}=Ri();N.useEffect(()=>{let d=!1;async function f(){try{r(!0);const{slip:p}=await L3(),{id:y,advice:w}=p;let E=w;if(o!=="en"&&!d){const A=await P9(E,o);A&&(E=A)}d||(e({id:y,content:E}),r(!1))}catch(p){console.error(`Failed to fetch advice.
`,p),a(l("unexpected_error_during_fetch"))}}return f(),()=>{d=!0}},[i,o]);function c(){s(d=>!d)}return V.jsx("main",{className:O3.layout,children:V.jsx(Z3,{adviceItem:t,onNextAdvice:c})})}const k9="_layout_nt3kx_2",O9="_formLayout_nt3kx_6",N9="_formTitle_nt3kx_21",D9="_formLabel_nt3kx_25",L9="_formInput_nt3kx_28",M9="_loginLink_nt3kx_32",Ji={layout:k9,formLayout:O9,formTitle:N9,formLabel:D9,formInput:L9,loginLink:M9};var V9=function(e){return j9(e)&&!F9(e)};function j9(t){return!!t&&typeof t=="object"}function F9(t){var e=Object.prototype.toString.call(t);return e==="[object RegExp]"||e==="[object Date]"||B9(t)}var U9=typeof Symbol=="function"&&Symbol.for,$9=U9?Symbol.for("react.element"):60103;function B9(t){return t.$$typeof===$9}function z9(t){return Array.isArray(t)?[]:{}}function ef(t,e){return e.clone!==!1&&e.isMergeableObject(t)?lc(z9(t),t,e):t}function H9(t,e,n){return t.concat(e).map(function(r){return ef(r,n)})}function q9(t,e,n){var r={};return n.isMergeableObject(t)&&Object.keys(t).forEach(function(i){r[i]=ef(t[i],n)}),Object.keys(e).forEach(function(i){!n.isMergeableObject(e[i])||!t[i]?r[i]=ef(e[i],n):r[i]=lc(t[i],e[i],n)}),r}function lc(t,e,n){n=n||{},n.arrayMerge=n.arrayMerge||H9,n.isMergeableObject=n.isMergeableObject||V9;var r=Array.isArray(e),i=Array.isArray(t),s=r===i;return s?r?n.arrayMerge(t,e,n):q9(t,e,n):ef(e,n)}lc.all=function(e,n){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce(function(r,i){return lc(r,i,n)},{})};var Gg=lc,mC=typeof global=="object"&&global&&global.Object===Object&&global,W9=typeof self=="object"&&self&&self.Object===Object&&self,Qr=mC||W9||Function("return this")(),Es=Qr.Symbol,gC=Object.prototype,K9=gC.hasOwnProperty,G9=gC.toString,Vl=Es?Es.toStringTag:void 0;function Q9(t){var e=K9.call(t,Vl),n=t[Vl];try{t[Vl]=void 0;var r=!0}catch{}var i=G9.call(t);return r&&(e?t[Vl]=n:delete t[Vl]),i}var Z9=Object.prototype,J9=Z9.toString;function Y9(t){return J9.call(t)}var X9="[object Null]",e5="[object Undefined]",TT=Es?Es.toStringTag:void 0;function Vo(t){return t==null?t===void 0?e5:X9:TT&&TT in Object(t)?Q9(t):Y9(t)}function yC(t,e){return function(n){return t(e(n))}}var w_=yC(Object.getPrototypeOf,Object);function jo(t){return t!=null&&typeof t=="object"}var t5="[object Object]",n5=Function.prototype,r5=Object.prototype,vC=n5.toString,i5=r5.hasOwnProperty,s5=vC.call(Object);function ST(t){if(!jo(t)||Vo(t)!=t5)return!1;var e=w_(t);if(e===null)return!0;var n=i5.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&vC.call(n)==s5}function o5(){this.__data__=[],this.size=0}function _C(t,e){return t===e||t!==t&&e!==e}function Qf(t,e){for(var n=t.length;n--;)if(_C(t[n][0],e))return n;return-1}var a5=Array.prototype,l5=a5.splice;function u5(t){var e=this.__data__,n=Qf(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():l5.call(e,n,1),--this.size,!0}function c5(t){var e=this.__data__,n=Qf(e,t);return n<0?void 0:e[n][1]}function d5(t){return Qf(this.__data__,t)>-1}function h5(t,e){var n=this.__data__,r=Qf(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}function Ai(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Ai.prototype.clear=o5;Ai.prototype.delete=u5;Ai.prototype.get=c5;Ai.prototype.has=d5;Ai.prototype.set=h5;function f5(){this.__data__=new Ai,this.size=0}function p5(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}function m5(t){return this.__data__.get(t)}function g5(t){return this.__data__.has(t)}function Vc(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var y5="[object AsyncFunction]",v5="[object Function]",_5="[object GeneratorFunction]",w5="[object Proxy]";function wC(t){if(!Vc(t))return!1;var e=Vo(t);return e==v5||e==_5||e==y5||e==w5}var dm=Qr["__core-js_shared__"],IT=function(){var t=/[^.]+$/.exec(dm&&dm.keys&&dm.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function E5(t){return!!IT&&IT in t}var T5=Function.prototype,S5=T5.toString;function Fo(t){if(t!=null){try{return S5.call(t)}catch{}try{return t+""}catch{}}return""}var I5=/[\\^$.*+?()[\]{}|]/g,R5=/^\[object .+?Constructor\]$/,A5=Function.prototype,b5=Object.prototype,C5=A5.toString,P5=b5.hasOwnProperty,x5=RegExp("^"+C5.call(P5).replace(I5,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function k5(t){if(!Vc(t)||E5(t))return!1;var e=wC(t)?x5:R5;return e.test(Fo(t))}function O5(t,e){return t==null?void 0:t[e]}function Uo(t,e){var n=O5(t,e);return k5(n)?n:void 0}var uc=Uo(Qr,"Map"),cc=Uo(Object,"create");function N5(){this.__data__=cc?cc(null):{},this.size=0}function D5(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var L5="__lodash_hash_undefined__",M5=Object.prototype,V5=M5.hasOwnProperty;function j5(t){var e=this.__data__;if(cc){var n=e[t];return n===L5?void 0:n}return V5.call(e,t)?e[t]:void 0}var F5=Object.prototype,U5=F5.hasOwnProperty;function $5(t){var e=this.__data__;return cc?e[t]!==void 0:U5.call(e,t)}var B5="__lodash_hash_undefined__";function z5(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=cc&&e===void 0?B5:e,this}function bo(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}bo.prototype.clear=N5;bo.prototype.delete=D5;bo.prototype.get=j5;bo.prototype.has=$5;bo.prototype.set=z5;function H5(){this.size=0,this.__data__={hash:new bo,map:new(uc||Ai),string:new bo}}function q5(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function Zf(t,e){var n=t.__data__;return q5(e)?n[typeof e=="string"?"string":"hash"]:n.map}function W5(t){var e=Zf(this,t).delete(t);return this.size-=e?1:0,e}function K5(t){return Zf(this,t).get(t)}function G5(t){return Zf(this,t).has(t)}function Q5(t,e){var n=Zf(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}function Cs(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Cs.prototype.clear=H5;Cs.prototype.delete=W5;Cs.prototype.get=K5;Cs.prototype.has=G5;Cs.prototype.set=Q5;var Z5=200;function J5(t,e){var n=this.__data__;if(n instanceof Ai){var r=n.__data__;if(!uc||r.length<Z5-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new Cs(r)}return n.set(t,e),this.size=n.size,this}function dl(t){var e=this.__data__=new Ai(t);this.size=e.size}dl.prototype.clear=f5;dl.prototype.delete=p5;dl.prototype.get=m5;dl.prototype.has=g5;dl.prototype.set=J5;function Y5(t,e){for(var n=-1,r=t==null?0:t.length;++n<r&&e(t[n],n,t)!==!1;);return t}var RT=function(){try{var t=Uo(Object,"defineProperty");return t({},"",{}),t}catch{}}();function EC(t,e,n){e=="__proto__"&&RT?RT(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var X5=Object.prototype,e6=X5.hasOwnProperty;function TC(t,e,n){var r=t[e];(!(e6.call(t,e)&&_C(r,n))||n===void 0&&!(e in t))&&EC(t,e,n)}function Jf(t,e,n,r){var i=!n;n||(n={});for(var s=-1,o=e.length;++s<o;){var a=e[s],l=void 0;l===void 0&&(l=t[a]),i?EC(n,a,l):TC(n,a,l)}return n}function t6(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var n6="[object Arguments]";function AT(t){return jo(t)&&Vo(t)==n6}var SC=Object.prototype,r6=SC.hasOwnProperty,i6=SC.propertyIsEnumerable,s6=AT(function(){return arguments}())?AT:function(t){return jo(t)&&r6.call(t,"callee")&&!i6.call(t,"callee")},jc=Array.isArray;function o6(){return!1}var IC=typeof Mn=="object"&&Mn&&!Mn.nodeType&&Mn,bT=IC&&typeof Vn=="object"&&Vn&&!Vn.nodeType&&Vn,a6=bT&&bT.exports===IC,CT=a6?Qr.Buffer:void 0,l6=CT?CT.isBuffer:void 0,RC=l6||o6,u6=9007199254740991,c6=/^(?:0|[1-9]\d*)$/;function d6(t,e){var n=typeof t;return e=e??u6,!!e&&(n=="number"||n!="symbol"&&c6.test(t))&&t>-1&&t%1==0&&t<e}var h6=9007199254740991;function AC(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=h6}var f6="[object Arguments]",p6="[object Array]",m6="[object Boolean]",g6="[object Date]",y6="[object Error]",v6="[object Function]",_6="[object Map]",w6="[object Number]",E6="[object Object]",T6="[object RegExp]",S6="[object Set]",I6="[object String]",R6="[object WeakMap]",A6="[object ArrayBuffer]",b6="[object DataView]",C6="[object Float32Array]",P6="[object Float64Array]",x6="[object Int8Array]",k6="[object Int16Array]",O6="[object Int32Array]",N6="[object Uint8Array]",D6="[object Uint8ClampedArray]",L6="[object Uint16Array]",M6="[object Uint32Array]",at={};at[C6]=at[P6]=at[x6]=at[k6]=at[O6]=at[N6]=at[D6]=at[L6]=at[M6]=!0;at[f6]=at[p6]=at[A6]=at[m6]=at[b6]=at[g6]=at[y6]=at[v6]=at[_6]=at[w6]=at[E6]=at[T6]=at[S6]=at[I6]=at[R6]=!1;function V6(t){return jo(t)&&AC(t.length)&&!!at[Vo(t)]}function E_(t){return function(e){return t(e)}}var bC=typeof Mn=="object"&&Mn&&!Mn.nodeType&&Mn,mu=bC&&typeof Vn=="object"&&Vn&&!Vn.nodeType&&Vn,j6=mu&&mu.exports===bC,hm=j6&&mC.process,Za=function(){try{var t=mu&&mu.require&&mu.require("util").types;return t||hm&&hm.binding&&hm.binding("util")}catch{}}(),PT=Za&&Za.isTypedArray,F6=PT?E_(PT):V6,U6=Object.prototype,$6=U6.hasOwnProperty;function CC(t,e){var n=jc(t),r=!n&&s6(t),i=!n&&!r&&RC(t),s=!n&&!r&&!i&&F6(t),o=n||r||i||s,a=o?t6(t.length,String):[],l=a.length;for(var c in t)(e||$6.call(t,c))&&!(o&&(c=="length"||i&&(c=="offset"||c=="parent")||s&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||d6(c,l)))&&a.push(c);return a}var B6=Object.prototype;function T_(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||B6;return t===n}var z6=yC(Object.keys,Object),H6=Object.prototype,q6=H6.hasOwnProperty;function W6(t){if(!T_(t))return z6(t);var e=[];for(var n in Object(t))q6.call(t,n)&&n!="constructor"&&e.push(n);return e}function PC(t){return t!=null&&AC(t.length)&&!wC(t)}function S_(t){return PC(t)?CC(t):W6(t)}function K6(t,e){return t&&Jf(e,S_(e),t)}function G6(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e}var Q6=Object.prototype,Z6=Q6.hasOwnProperty;function J6(t){if(!Vc(t))return G6(t);var e=T_(t),n=[];for(var r in t)r=="constructor"&&(e||!Z6.call(t,r))||n.push(r);return n}function I_(t){return PC(t)?CC(t,!0):J6(t)}function Y6(t,e){return t&&Jf(e,I_(e),t)}var xC=typeof Mn=="object"&&Mn&&!Mn.nodeType&&Mn,xT=xC&&typeof Vn=="object"&&Vn&&!Vn.nodeType&&Vn,X6=xT&&xT.exports===xC,kT=X6?Qr.Buffer:void 0,OT=kT?kT.allocUnsafe:void 0;function eB(t,e){if(e)return t.slice();var n=t.length,r=OT?OT(n):new t.constructor(n);return t.copy(r),r}function kC(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}function tB(t,e){for(var n=-1,r=t==null?0:t.length,i=0,s=[];++n<r;){var o=t[n];e(o,n,t)&&(s[i++]=o)}return s}function OC(){return[]}var nB=Object.prototype,rB=nB.propertyIsEnumerable,NT=Object.getOwnPropertySymbols,R_=NT?function(t){return t==null?[]:(t=Object(t),tB(NT(t),function(e){return rB.call(t,e)}))}:OC;function iB(t,e){return Jf(t,R_(t),e)}function NC(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var sB=Object.getOwnPropertySymbols,DC=sB?function(t){for(var e=[];t;)NC(e,R_(t)),t=w_(t);return e}:OC;function oB(t,e){return Jf(t,DC(t),e)}function LC(t,e,n){var r=e(t);return jc(t)?r:NC(r,n(t))}function aB(t){return LC(t,S_,R_)}function lB(t){return LC(t,I_,DC)}var Qg=Uo(Qr,"DataView"),Zg=Uo(Qr,"Promise"),Jg=Uo(Qr,"Set"),Yg=Uo(Qr,"WeakMap"),DT="[object Map]",uB="[object Object]",LT="[object Promise]",MT="[object Set]",VT="[object WeakMap]",jT="[object DataView]",cB=Fo(Qg),dB=Fo(uc),hB=Fo(Zg),fB=Fo(Jg),pB=Fo(Yg),ri=Vo;(Qg&&ri(new Qg(new ArrayBuffer(1)))!=jT||uc&&ri(new uc)!=DT||Zg&&ri(Zg.resolve())!=LT||Jg&&ri(new Jg)!=MT||Yg&&ri(new Yg)!=VT)&&(ri=function(t){var e=Vo(t),n=e==uB?t.constructor:void 0,r=n?Fo(n):"";if(r)switch(r){case cB:return jT;case dB:return DT;case hB:return LT;case fB:return MT;case pB:return VT}return e});var mB=Object.prototype,gB=mB.hasOwnProperty;function yB(t){var e=t.length,n=new t.constructor(e);return e&&typeof t[0]=="string"&&gB.call(t,"index")&&(n.index=t.index,n.input=t.input),n}var FT=Qr.Uint8Array;function A_(t){var e=new t.constructor(t.byteLength);return new FT(e).set(new FT(t)),e}function vB(t,e){var n=e?A_(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}var _B=/\w*$/;function wB(t){var e=new t.constructor(t.source,_B.exec(t));return e.lastIndex=t.lastIndex,e}var UT=Es?Es.prototype:void 0,$T=UT?UT.valueOf:void 0;function EB(t){return $T?Object($T.call(t)):{}}function TB(t,e){var n=e?A_(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}var SB="[object Boolean]",IB="[object Date]",RB="[object Map]",AB="[object Number]",bB="[object RegExp]",CB="[object Set]",PB="[object String]",xB="[object Symbol]",kB="[object ArrayBuffer]",OB="[object DataView]",NB="[object Float32Array]",DB="[object Float64Array]",LB="[object Int8Array]",MB="[object Int16Array]",VB="[object Int32Array]",jB="[object Uint8Array]",FB="[object Uint8ClampedArray]",UB="[object Uint16Array]",$B="[object Uint32Array]";function BB(t,e,n){var r=t.constructor;switch(e){case kB:return A_(t);case SB:case IB:return new r(+t);case OB:return vB(t,n);case NB:case DB:case LB:case MB:case VB:case jB:case FB:case UB:case $B:return TB(t,n);case RB:return new r;case AB:case PB:return new r(t);case bB:return wB(t);case CB:return new r;case xB:return EB(t)}}var BT=Object.create,zB=function(){function t(){}return function(e){if(!Vc(e))return{};if(BT)return BT(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();function HB(t){return typeof t.constructor=="function"&&!T_(t)?zB(w_(t)):{}}var qB="[object Map]";function WB(t){return jo(t)&&ri(t)==qB}var zT=Za&&Za.isMap,KB=zT?E_(zT):WB,GB="[object Set]";function QB(t){return jo(t)&&ri(t)==GB}var HT=Za&&Za.isSet,ZB=HT?E_(HT):QB,JB=1,YB=2,XB=4,MC="[object Arguments]",ez="[object Array]",tz="[object Boolean]",nz="[object Date]",rz="[object Error]",VC="[object Function]",iz="[object GeneratorFunction]",sz="[object Map]",oz="[object Number]",jC="[object Object]",az="[object RegExp]",lz="[object Set]",uz="[object String]",cz="[object Symbol]",dz="[object WeakMap]",hz="[object ArrayBuffer]",fz="[object DataView]",pz="[object Float32Array]",mz="[object Float64Array]",gz="[object Int8Array]",yz="[object Int16Array]",vz="[object Int32Array]",_z="[object Uint8Array]",wz="[object Uint8ClampedArray]",Ez="[object Uint16Array]",Tz="[object Uint32Array]",tt={};tt[MC]=tt[ez]=tt[hz]=tt[fz]=tt[tz]=tt[nz]=tt[pz]=tt[mz]=tt[gz]=tt[yz]=tt[vz]=tt[sz]=tt[oz]=tt[jC]=tt[az]=tt[lz]=tt[uz]=tt[cz]=tt[_z]=tt[wz]=tt[Ez]=tt[Tz]=!0;tt[rz]=tt[VC]=tt[dz]=!1;function gu(t,e,n,r,i,s){var o,a=e&JB,l=e&YB,c=e&XB;if(o!==void 0)return o;if(!Vc(t))return t;var d=jc(t);if(d){if(o=yB(t),!a)return kC(t,o)}else{var f=ri(t),p=f==VC||f==iz;if(RC(t))return eB(t,a);if(f==jC||f==MC||p&&!i){if(o=l||p?{}:HB(t),!a)return l?oB(t,Y6(o,t)):iB(t,K6(o,t))}else{if(!tt[f])return i?t:{};o=BB(t,f,a)}}s||(s=new dl);var y=s.get(t);if(y)return y;s.set(t,o),ZB(t)?t.forEach(function(A){o.add(gu(A,e,n,A,t,s))}):KB(t)&&t.forEach(function(A,I){o.set(I,gu(A,e,n,I,t,s))});var w=c?l?lB:aB:l?I_:S_,E=d?void 0:w(t);return Y5(E||t,function(A,I){E&&(I=A,A=t[I]),TC(o,I,gu(A,e,n,I,t,s))}),o}var Sz=1,Iz=4;function Id(t){return gu(t,Sz|Iz)}var qT=Array.isArray,WT=Object.keys,Rz=Object.prototype.hasOwnProperty,Az=typeof Element<"u";function Xg(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){var n=qT(t),r=qT(e),i,s,o;if(n&&r){if(s=t.length,s!=e.length)return!1;for(i=s;i--!==0;)if(!Xg(t[i],e[i]))return!1;return!0}if(n!=r)return!1;var a=t instanceof Date,l=e instanceof Date;if(a!=l)return!1;if(a&&l)return t.getTime()==e.getTime();var c=t instanceof RegExp,d=e instanceof RegExp;if(c!=d)return!1;if(c&&d)return t.toString()==e.toString();var f=WT(t);if(s=f.length,s!==WT(e).length)return!1;for(i=s;i--!==0;)if(!Rz.call(e,f[i]))return!1;if(Az&&t instanceof Element&&e instanceof Element)return t===e;for(i=s;i--!==0;)if(o=f[i],!(o==="_owner"&&t.$$typeof)&&!Xg(t[o],e[o]))return!1;return!0}return t!==t&&e!==e}var bz=function(e,n){try{return Xg(e,n)}catch(r){if(r.message&&r.message.match(/stack|recursion/i)||r.number===-2146828260)return console.warn("Warning: react-fast-compare does not handle circular references.",r.name,r.message),!1;throw r}};const Ks=af(bz);var Cz=4;function KT(t){return gu(t,Cz)}function FC(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var Pz="[object Symbol]";function b_(t){return typeof t=="symbol"||jo(t)&&Vo(t)==Pz}var xz="Expected a function";function C_(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(xz);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],s=n.cache;if(s.has(i))return s.get(i);var o=t.apply(this,r);return n.cache=s.set(i,o)||s,o};return n.cache=new(C_.Cache||Cs),n}C_.Cache=Cs;var kz=500;function Oz(t){var e=C_(t,function(r){return n.size===kz&&n.clear(),r}),n=e.cache;return e}var Nz=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Dz=/\\(\\)?/g,Lz=Oz(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(Nz,function(n,r,i,s){e.push(i?s.replace(Dz,"$1"):r||n)}),e}),Mz=1/0;function Vz(t){if(typeof t=="string"||b_(t))return t;var e=t+"";return e=="0"&&1/t==-Mz?"-0":e}var jz=1/0,GT=Es?Es.prototype:void 0,QT=GT?GT.toString:void 0;function UC(t){if(typeof t=="string")return t;if(jc(t))return FC(t,UC)+"";if(b_(t))return QT?QT.call(t):"";var e=t+"";return e=="0"&&1/t==-jz?"-0":e}function Fz(t){return t==null?"":UC(t)}function $C(t){return jc(t)?FC(t,Vz):b_(t)?[t]:kC(Lz(Fz(t)))}var BC={exports:{}},Ge={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $t=typeof Symbol=="function"&&Symbol.for,P_=$t?Symbol.for("react.element"):60103,x_=$t?Symbol.for("react.portal"):60106,Yf=$t?Symbol.for("react.fragment"):60107,Xf=$t?Symbol.for("react.strict_mode"):60108,ep=$t?Symbol.for("react.profiler"):60114,tp=$t?Symbol.for("react.provider"):60109,np=$t?Symbol.for("react.context"):60110,k_=$t?Symbol.for("react.async_mode"):60111,rp=$t?Symbol.for("react.concurrent_mode"):60111,ip=$t?Symbol.for("react.forward_ref"):60112,sp=$t?Symbol.for("react.suspense"):60113,Uz=$t?Symbol.for("react.suspense_list"):60120,op=$t?Symbol.for("react.memo"):60115,ap=$t?Symbol.for("react.lazy"):60116,$z=$t?Symbol.for("react.block"):60121,Bz=$t?Symbol.for("react.fundamental"):60117,zz=$t?Symbol.for("react.responder"):60118,Hz=$t?Symbol.for("react.scope"):60119;function zn(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case P_:switch(t=t.type,t){case k_:case rp:case Yf:case ep:case Xf:case sp:return t;default:switch(t=t&&t.$$typeof,t){case np:case ip:case ap:case op:case tp:return t;default:return e}}case x_:return e}}}function zC(t){return zn(t)===rp}Ge.AsyncMode=k_;Ge.ConcurrentMode=rp;Ge.ContextConsumer=np;Ge.ContextProvider=tp;Ge.Element=P_;Ge.ForwardRef=ip;Ge.Fragment=Yf;Ge.Lazy=ap;Ge.Memo=op;Ge.Portal=x_;Ge.Profiler=ep;Ge.StrictMode=Xf;Ge.Suspense=sp;Ge.isAsyncMode=function(t){return zC(t)||zn(t)===k_};Ge.isConcurrentMode=zC;Ge.isContextConsumer=function(t){return zn(t)===np};Ge.isContextProvider=function(t){return zn(t)===tp};Ge.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===P_};Ge.isForwardRef=function(t){return zn(t)===ip};Ge.isFragment=function(t){return zn(t)===Yf};Ge.isLazy=function(t){return zn(t)===ap};Ge.isMemo=function(t){return zn(t)===op};Ge.isPortal=function(t){return zn(t)===x_};Ge.isProfiler=function(t){return zn(t)===ep};Ge.isStrictMode=function(t){return zn(t)===Xf};Ge.isSuspense=function(t){return zn(t)===sp};Ge.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Yf||t===rp||t===ep||t===Xf||t===sp||t===Uz||typeof t=="object"&&t!==null&&(t.$$typeof===ap||t.$$typeof===op||t.$$typeof===tp||t.$$typeof===np||t.$$typeof===ip||t.$$typeof===Bz||t.$$typeof===zz||t.$$typeof===Hz||t.$$typeof===$z)};Ge.typeOf=zn;BC.exports=Ge;var qz=BC.exports,HC=qz,Wz={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Kz={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},qC={};qC[HC.ForwardRef]=Wz;qC[HC.Memo]=Kz;function Vt(){return Vt=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Vt.apply(this,arguments)}function WC(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var lp=N.createContext(void 0);lp.displayName="FormikContext";var Gz=lp.Provider;lp.Consumer;function Qz(){var t=N.useContext(lp);return t}var Jn=function(e){return typeof e=="function"},up=function(e){return e!==null&&typeof e=="object"},Zz=function(e){return String(Math.floor(Number(e)))===e},fm=function(e){return Object.prototype.toString.call(e)==="[object String]"},Jz=function(e){return N.Children.count(e)===0},pm=function(e){return up(e)&&Jn(e.then)};function On(t,e,n,r){r===void 0&&(r=0);for(var i=$C(e);t&&r<i.length;)t=t[i[r++]];return r!==i.length&&!t||t===void 0?n:t}function uo(t,e,n){for(var r=KT(t),i=r,s=0,o=$C(e);s<o.length-1;s++){var a=o[s],l=On(t,o.slice(0,s+1));if(l&&(up(l)||Array.isArray(l)))i=i[a]=KT(l);else{var c=o[s+1];i=i[a]=Zz(c)&&Number(c)>=0?[]:{}}}return(s===0?t:i)[o[s]]===n?t:(n===void 0?delete i[o[s]]:i[o[s]]=n,s===0&&n===void 0&&delete r[o[s]],r)}function KC(t,e,n,r){n===void 0&&(n=new WeakMap),r===void 0&&(r={});for(var i=0,s=Object.keys(t);i<s.length;i++){var o=s[i],a=t[o];up(a)?n.get(a)||(n.set(a,!0),r[o]=Array.isArray(a)?[]:{},KC(a,e,n,r[o])):r[o]=e}return r}function Yz(t,e){switch(e.type){case"SET_VALUES":return Vt({},t,{values:e.payload});case"SET_TOUCHED":return Vt({},t,{touched:e.payload});case"SET_ERRORS":return Ks(t.errors,e.payload)?t:Vt({},t,{errors:e.payload});case"SET_STATUS":return Vt({},t,{status:e.payload});case"SET_ISSUBMITTING":return Vt({},t,{isSubmitting:e.payload});case"SET_ISVALIDATING":return Vt({},t,{isValidating:e.payload});case"SET_FIELD_VALUE":return Vt({},t,{values:uo(t.values,e.payload.field,e.payload.value)});case"SET_FIELD_TOUCHED":return Vt({},t,{touched:uo(t.touched,e.payload.field,e.payload.value)});case"SET_FIELD_ERROR":return Vt({},t,{errors:uo(t.errors,e.payload.field,e.payload.value)});case"RESET_FORM":return Vt({},t,e.payload);case"SET_FORMIK_STATE":return e.payload(t);case"SUBMIT_ATTEMPT":return Vt({},t,{touched:KC(t.values,!0),isSubmitting:!0,submitCount:t.submitCount+1});case"SUBMIT_FAILURE":return Vt({},t,{isSubmitting:!1});case"SUBMIT_SUCCESS":return Vt({},t,{isSubmitting:!1});default:return t}}var zs={},Rd={};function Xz(t){var e=t.validateOnChange,n=e===void 0?!0:e,r=t.validateOnBlur,i=r===void 0?!0:r,s=t.validateOnMount,o=s===void 0?!1:s,a=t.isInitialValid,l=t.enableReinitialize,c=l===void 0?!1:l,d=t.onSubmit,f=WC(t,["validateOnChange","validateOnBlur","validateOnMount","isInitialValid","enableReinitialize","onSubmit"]),p=Vt({validateOnChange:n,validateOnBlur:i,validateOnMount:o,onSubmit:d},f),y=N.useRef(p.initialValues),w=N.useRef(p.initialErrors||zs),E=N.useRef(p.initialTouched||Rd),A=N.useRef(p.initialStatus),I=N.useRef(!1),v=N.useRef({});N.useEffect(function(){return I.current=!0,function(){I.current=!1}},[]);var b=N.useState(0),D=b[1],$=N.useRef({values:Id(p.initialValues),errors:Id(p.initialErrors)||zs,touched:Id(p.initialTouched)||Rd,status:Id(p.initialStatus),isSubmitting:!1,isValidating:!1,submitCount:0}),j=$.current,T=N.useCallback(function(U){var te=$.current;$.current=Yz(te,U),te!==$.current&&D(function(ae){return ae+1})},[]),g=N.useCallback(function(U,te){return new Promise(function(ae,fe){var ce=p.validate(U,te);ce==null?ae(zs):pm(ce)?ce.then(function(ye){ae(ye||zs)},function(ye){fe(ye)}):ae(ce)})},[p.validate]),S=N.useCallback(function(U,te){var ae=p.validationSchema,fe=Jn(ae)?ae(te):ae,ce=te&&fe.validateAt?fe.validateAt(te,U):t8(U,fe);return new Promise(function(ye,Xe){ce.then(function(){ye(zs)},function(Jt){Jt.name==="ValidationError"?ye(e8(Jt)):Xe(Jt)})})},[p.validationSchema]),R=N.useCallback(function(U,te){return new Promise(function(ae){return ae(v.current[U].validate(te))})},[]),P=N.useCallback(function(U){var te=Object.keys(v.current).filter(function(fe){return Jn(v.current[fe].validate)}),ae=te.length>0?te.map(function(fe){return R(fe,On(U,fe))}):[Promise.resolve("DO_NOT_DELETE_YOU_WILL_BE_FIRED")];return Promise.all(ae).then(function(fe){return fe.reduce(function(ce,ye,Xe){return ye==="DO_NOT_DELETE_YOU_WILL_BE_FIRED"||ye&&(ce=uo(ce,te[Xe],ye)),ce},{})})},[R]),k=N.useCallback(function(U){return Promise.all([P(U),p.validationSchema?S(U):{},p.validate?g(U):{}]).then(function(te){var ae=te[0],fe=te[1],ce=te[2],ye=Gg.all([ae,fe,ce],{arrayMerge:n8});return ye})},[p.validate,p.validationSchema,P,g,S]),C=Zn(function(U){return U===void 0&&(U=j.values),T({type:"SET_ISVALIDATING",payload:!0}),k(U).then(function(te){return I.current&&(T({type:"SET_ISVALIDATING",payload:!1}),T({type:"SET_ERRORS",payload:te})),te})});N.useEffect(function(){o&&I.current===!0&&Ks(y.current,p.initialValues)&&C(y.current)},[o,C]);var Ee=N.useCallback(function(U){var te=U&&U.values?U.values:y.current,ae=U&&U.errors?U.errors:w.current?w.current:p.initialErrors||{},fe=U&&U.touched?U.touched:E.current?E.current:p.initialTouched||{},ce=U&&U.status?U.status:A.current?A.current:p.initialStatus;y.current=te,w.current=ae,E.current=fe,A.current=ce;var ye=function(){T({type:"RESET_FORM",payload:{isSubmitting:!!U&&!!U.isSubmitting,errors:ae,touched:fe,status:ce,values:te,isValidating:!!U&&!!U.isValidating,submitCount:U&&U.submitCount&&typeof U.submitCount=="number"?U.submitCount:0}})};if(p.onReset){var Xe=p.onReset(j.values,bi);pm(Xe)?Xe.then(ye):ye()}else ye()},[p.initialErrors,p.initialStatus,p.initialTouched,p.onReset]);N.useEffect(function(){I.current===!0&&!Ks(y.current,p.initialValues)&&c&&(y.current=p.initialValues,Ee(),o&&C(y.current))},[c,p.initialValues,Ee,o,C]),N.useEffect(function(){c&&I.current===!0&&!Ks(w.current,p.initialErrors)&&(w.current=p.initialErrors||zs,T({type:"SET_ERRORS",payload:p.initialErrors||zs}))},[c,p.initialErrors]),N.useEffect(function(){c&&I.current===!0&&!Ks(E.current,p.initialTouched)&&(E.current=p.initialTouched||Rd,T({type:"SET_TOUCHED",payload:p.initialTouched||Rd}))},[c,p.initialTouched]),N.useEffect(function(){c&&I.current===!0&&!Ks(A.current,p.initialStatus)&&(A.current=p.initialStatus,T({type:"SET_STATUS",payload:p.initialStatus}))},[c,p.initialStatus,p.initialTouched]);var M=Zn(function(U){if(v.current[U]&&Jn(v.current[U].validate)){var te=On(j.values,U),ae=v.current[U].validate(te);return pm(ae)?(T({type:"SET_ISVALIDATING",payload:!0}),ae.then(function(fe){return fe}).then(function(fe){T({type:"SET_FIELD_ERROR",payload:{field:U,value:fe}}),T({type:"SET_ISVALIDATING",payload:!1})})):(T({type:"SET_FIELD_ERROR",payload:{field:U,value:ae}}),Promise.resolve(ae))}else if(p.validationSchema)return T({type:"SET_ISVALIDATING",payload:!0}),S(j.values,U).then(function(fe){return fe}).then(function(fe){T({type:"SET_FIELD_ERROR",payload:{field:U,value:On(fe,U)}}),T({type:"SET_ISVALIDATING",payload:!1})});return Promise.resolve()}),K=N.useCallback(function(U,te){var ae=te.validate;v.current[U]={validate:ae}},[]),de=N.useCallback(function(U){delete v.current[U]},[]),H=Zn(function(U,te){T({type:"SET_TOUCHED",payload:U});var ae=te===void 0?i:te;return ae?C(j.values):Promise.resolve()}),G=N.useCallback(function(U){T({type:"SET_ERRORS",payload:U})},[]),Y=Zn(function(U,te){var ae=Jn(U)?U(j.values):U;T({type:"SET_VALUES",payload:ae});var fe=te===void 0?n:te;return fe?C(ae):Promise.resolve()}),xe=N.useCallback(function(U,te){T({type:"SET_FIELD_ERROR",payload:{field:U,value:te}})},[]),Pe=Zn(function(U,te,ae){T({type:"SET_FIELD_VALUE",payload:{field:U,value:te}});var fe=ae===void 0?n:ae;return fe?C(uo(j.values,U,te)):Promise.resolve()}),Se=N.useCallback(function(U,te){var ae=te,fe=U,ce;if(!fm(U)){U.persist&&U.persist();var ye=U.target?U.target:U.currentTarget,Xe=ye.type,Jt=ye.name,hn=ye.id,fn=ye.value,br=ye.checked,Pi=ye.outerHTML,Ns=ye.options,wn=ye.multiple;ae=te||Jt||hn,fe=/number|range/.test(Xe)?(ce=parseFloat(fn),isNaN(ce)?"":ce):/checkbox/.test(Xe)?i8(On(j.values,ae),br,fn):Ns&&wn?r8(Ns):fn}ae&&Pe(ae,fe)},[Pe,j.values]),rt=Zn(function(U){if(fm(U))return function(te){return Se(te,U)};Se(U)}),vt=Zn(function(U,te,ae){te===void 0&&(te=!0),T({type:"SET_FIELD_TOUCHED",payload:{field:U,value:te}});var fe=ae===void 0?i:ae;return fe?C(j.values):Promise.resolve()}),_t=N.useCallback(function(U,te){U.persist&&U.persist();var ae=U.target,fe=ae.name,ce=ae.id,ye=ae.outerHTML,Xe=te||fe||ce;vt(Xe,!0)},[vt]),Tt=Zn(function(U){if(fm(U))return function(te){return _t(te,U)};_t(U)}),Hn=N.useCallback(function(U){Jn(U)?T({type:"SET_FORMIK_STATE",payload:U}):T({type:"SET_FORMIK_STATE",payload:function(){return U}})},[]),$o=N.useCallback(function(U){T({type:"SET_STATUS",payload:U})},[]),lr=N.useCallback(function(U){T({type:"SET_ISSUBMITTING",payload:U})},[]),Ar=Zn(function(){return T({type:"SUBMIT_ATTEMPT"}),C().then(function(U){var te=U instanceof Error,ae=!te&&Object.keys(U).length===0;if(ae){var fe;try{if(fe=St(),fe===void 0)return}catch(ce){throw ce}return Promise.resolve(fe).then(function(ce){return I.current&&T({type:"SUBMIT_SUCCESS"}),ce}).catch(function(ce){if(I.current)throw T({type:"SUBMIT_FAILURE"}),ce})}else if(I.current&&(T({type:"SUBMIT_FAILURE"}),te))throw U})}),Ps=Zn(function(U){U&&U.preventDefault&&Jn(U.preventDefault)&&U.preventDefault(),U&&U.stopPropagation&&Jn(U.stopPropagation)&&U.stopPropagation(),Ar().catch(function(te){console.warn("Warning: An unhandled error was caught from submitForm()",te)})}),bi={resetForm:Ee,validateForm:C,validateField:M,setErrors:G,setFieldError:xe,setFieldTouched:vt,setFieldValue:Pe,setStatus:$o,setSubmitting:lr,setTouched:H,setValues:Y,setFormikState:Hn,submitForm:Ar},St=Zn(function(){return d(j.values,bi)}),qn=Zn(function(U){U&&U.preventDefault&&Jn(U.preventDefault)&&U.preventDefault(),U&&U.stopPropagation&&Jn(U.stopPropagation)&&U.stopPropagation(),Ee()}),xs=N.useCallback(function(U){return{value:On(j.values,U),error:On(j.errors,U),touched:!!On(j.touched,U),initialValue:On(y.current,U),initialTouched:!!On(E.current,U),initialError:On(w.current,U)}},[j.errors,j.touched,j.values]),hl=N.useCallback(function(U){return{setValue:function(ae,fe){return Pe(U,ae,fe)},setTouched:function(ae,fe){return vt(U,ae,fe)},setError:function(ae){return xe(U,ae)}}},[Pe,vt,xe]),ur=N.useCallback(function(U){var te=up(U),ae=te?U.name:U,fe=On(j.values,ae),ce={name:ae,value:fe,onChange:rt,onBlur:Tt};if(te){var ye=U.type,Xe=U.value,Jt=U.as,hn=U.multiple;ye==="checkbox"?Xe===void 0?ce.checked=!!fe:(ce.checked=!!(Array.isArray(fe)&&~fe.indexOf(Xe)),ce.value=Xe):ye==="radio"?(ce.checked=fe===Xe,ce.value=Xe):Jt==="select"&&hn&&(ce.value=ce.value||[],ce.multiple=!0)}return ce},[Tt,rt,j.values]),Ci=N.useMemo(function(){return!Ks(y.current,j.values)},[y.current,j.values]),ks=N.useMemo(function(){return typeof a<"u"?Ci?j.errors&&Object.keys(j.errors).length===0:a!==!1&&Jn(a)?a(p):a:j.errors&&Object.keys(j.errors).length===0},[a,Ci,j.errors,p]),Os=Vt({},j,{initialValues:y.current,initialErrors:w.current,initialTouched:E.current,initialStatus:A.current,handleBlur:Tt,handleChange:rt,handleReset:qn,handleSubmit:Ps,resetForm:Ee,setErrors:G,setFormikState:Hn,setFieldTouched:vt,setFieldValue:Pe,setFieldError:xe,setStatus:$o,setSubmitting:lr,setTouched:H,setValues:Y,submitForm:Ar,validateForm:C,validateField:M,isValid:ks,dirty:Ci,unregisterField:de,registerField:K,getFieldProps:ur,getFieldMeta:xs,getFieldHelpers:hl,validateOnBlur:i,validateOnChange:n,validateOnMount:o});return Os}function cp(t){var e=Xz(t),n=t.component,r=t.children,i=t.render,s=t.innerRef;return N.useImperativeHandle(s,function(){return e}),N.createElement(Gz,{value:e},n?N.createElement(n,e):i?i(e):r?Jn(r)?r(e):Jz(r)?null:N.Children.only(r):null)}function e8(t){var e={};if(t.inner){if(t.inner.length===0)return uo(e,t.path,t.message);for(var i=t.inner,n=Array.isArray(i),r=0,i=n?i:i[Symbol.iterator]();;){var s;if(n){if(r>=i.length)break;s=i[r++]}else{if(r=i.next(),r.done)break;s=r.value}var o=s;On(e,o.path)||(e=uo(e,o.path,o.message))}}return e}function t8(t,e,n,r){n===void 0&&(n=!1);var i=ey(t);return e[n?"validateSync":"validate"](i,{abortEarly:!1,context:i})}function ey(t){var e=Array.isArray(t)?[]:{};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=String(n);Array.isArray(t[r])===!0?e[r]=t[r].map(function(i){return Array.isArray(i)===!0||ST(i)?ey(i):i!==""?i:void 0}):ST(t[r])?e[r]=ey(t[r]):e[r]=t[r]!==""?t[r]:void 0}return e}function n8(t,e,n){var r=t.slice();return e.forEach(function(s,o){if(typeof r[o]>"u"){var a=n.clone!==!1,l=a&&n.isMergeableObject(s);r[o]=l?Gg(Array.isArray(s)?[]:{},s,n):s}else n.isMergeableObject(s)?r[o]=Gg(t[o],s,n):t.indexOf(s)===-1&&r.push(s)}),r}function r8(t){return Array.from(t).filter(function(e){return e.selected}).map(function(e){return e.value})}function i8(t,e,n){if(typeof t=="boolean")return!!e;var r=[],i=!1,s=-1;if(Array.isArray(t))r=t,s=t.indexOf(n),i=s>=0;else if(!n||n=="true"||n=="false")return!!e;return e&&n&&!i?r.concat(n):i?r.slice(0,s).concat(r.slice(s+1)):r}var s8=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?N.useLayoutEffect:N.useEffect;function Zn(t){var e=N.useRef(t);return s8(function(){e.current=t}),N.useCallback(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return e.current.apply(void 0,r)},[])}var GC=N.forwardRef(function(t,e){var n=t.action,r=WC(t,["action"]),i=n??"#",s=Qz(),o=s.handleReset,a=s.handleSubmit;return N.createElement("form",Vt({onSubmit:a,ref:e,onReset:o,action:i},r))});GC.displayName="Form";const QC=t=>e=>{var o;const n=t_.safeParse(e);if(n.success)return{};const r=n.error.flatten().fieldErrors,i=Object.keys(r),s={};for(const a of i){const l=(o=r[a])==null?void 0:o[0];s[a]=t(`${a}_error.${l}`)}return s},o8="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20height='24px'%20viewBox='0%20-960%20960%20960'%20width='24px'%20fill='%235f6368'%3e%3cpath%20d='m644-428-58-58q9-47-27-88t-93-32l-58-58q17-8%2034.5-12t37.5-4q75%200%20127.5%2052.5T660-500q0%2020-4%2037.5T644-428Zm128%20126-58-56q38-29%2067.5-63.5T832-500q-50-101-143.5-160.5T480-720q-29%200-57%204t-55%2012l-62-62q41-17%2084-25.5t90-8.5q151%200%20269%2083.5T920-500q-23%2059-60.5%20109.5T772-302Zm20%20246L624-222q-35%2011-70.5%2016.5T480-200q-151%200-269-83.5T40-500q21-53%2053-98.5t73-81.5L56-792l56-56%20736%20736-56%2056ZM222-624q-29%2026-53%2057t-41%2067q50%20101%20143.5%20160.5T480-280q20%200%2039-2.5t39-5.5l-36-38q-11%203-21%204.5t-21%201.5q-75%200-127.5-52.5T300-500q0-11%201.5-21t4.5-21l-84-82Zm319%2093Zm-151%2075Z'/%3e%3c/svg%3e",a8="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20height='24px'%20viewBox='0%20-960%20960%20960'%20width='24px'%20fill='%235f6368'%3e%3cpath%20d='M480-320q75%200%20127.5-52.5T660-500q0-75-52.5-127.5T480-680q-75%200-127.5%2052.5T300-500q0%2075%2052.5%20127.5T480-320Zm0-72q-45%200-76.5-31.5T372-500q0-45%2031.5-76.5T480-608q45%200%2076.5%2031.5T588-500q0%2045-31.5%2076.5T480-392Zm0%20192q-146%200-266-81.5T40-500q54-137%20174-218.5T480-800q146%200%20266%2081.5T920-500q-54%20137-174%20218.5T480-200Zm0-300Zm0%20220q113%200%20207.5-59.5T832-500q-50-101-144.5-160.5T480-720q-113%200-207.5%2059.5T128-500q50%20101%20144.5%20160.5T480-280Z'/%3e%3c/svg%3e";function Co({form:{isSubmitting:t,values:e,handleChange:n,handleBlur:r,touched:i,errors:s},fieldName:o,labelContent:a,placeholder:l,inputProps:c}){const[d,f]=N.useState(!1),{t:p}=Ri(),y=s[o]&&i[o],w=o==="password"||(c==null?void 0:c.type)==="password",E=()=>f(I=>!I),A=w?d?"text":"password":(c==null?void 0:c.type)??o;return V.jsxs("div",{className:"form__field",children:[V.jsx("label",{className:"form__label",htmlFor:o,children:a}),V.jsxs("div",{className:"form__input-wrapper",children:[V.jsx("input",{disabled:t,id:(c==null?void 0:c.id)??o,name:(c==null?void 0:c.name)??o,type:A,autoComplete:c==null?void 0:c.autoComplete,placeholder:l,value:e[o],onChange:n,onBlur:r,className:Jh("form__input",{"form__input--error":y}),"aria-describedby":y?`${o}-error`:void 0,"aria-invalid":y?"true":void 0}),w&&V.jsx("button",{className:"form__show-password-button",type:"button",onClick:E,"aria-label":p(d?"hide_password":"show_password"),children:V.jsx("img",{src:d?o8:a8,alt:p(d?"hide_password":"show_password")})})]}),y&&V.jsx("span",{className:"form__invalid-input-hint",id:`${o}-error`,role:"alert","aria-live":"assertive",style:{maxWidth:"100%"},children:s[o]})]})}function l8(){const[t,e]=N.useState(""),n=h_(),{t:r}=Ri(),i=QC(r);return V.jsx(cp,{initialValues:{email:"",password:""},validate:i,validateOnChange:!0,validateOnBlur:!1,onSubmit:async(s,{setErrors:o})=>{try{const a=i(s);if(Object.keys(a).length>0){o(a);return}const l=await hj(s);if(l){const c=xa[l.code]??l.message;e(f_(c))}else n("/verify")}catch(a){console.error("Unexpected error during sign-up has occurred.",a),e(r("unexpected_error"))}},children:s=>V.jsx("div",{className:Ji.layout,children:V.jsxs(GC,{className:"form__layout",children:[V.jsx("h1",{className:"form__title",children:r("create_an_account")}),V.jsx(Co,{form:s,fieldName:"email",labelContent:r("email_address"),placeholder:r("enter_your_email"),inputProps:{autoComplete:"email"}}),V.jsx(Co,{form:s,fieldName:"password",labelContent:r("password"),placeholder:r("enter_your_password"),inputProps:{autoComplete:"current-password"}}),t&&V.jsx("p",{className:"form__error-message",children:t}),V.jsx("button",{className:"form__submit-button",type:"submit",disabled:s.isSubmitting,children:r("sign_up")}),V.jsxs("p",{className:"form__link-wrapper",children:[r("already_have_account")," ",V.jsx(Ro,{className:"form__link",to:"/login",children:r("log_in")})]})]})})})}function u8(){const[t,e]=N.useState(""),n=h_(),{user:r}=Rs(),{t:i}=Ri(),s=QC(i);return V.jsx(cp,{initialValues:{email:"",password:""},validate:s,validateOnChange:!0,validateOnBlur:!1,onSubmit:async(o,{setErrors:a})=>{try{if(r){e("You are already signed in.");return}const l=s(o);if(Object.keys(l).length>0){a(l);return}const c=await fj(o);if(c){const d=xa[c.code]??c.message;e(f_(d))}else n("/")}catch(l){console.error("Unexpected error during log-in has occured.",l),e(i("unexpected_error"))}},children:o=>V.jsx("div",{className:"form-wrapper",children:V.jsxs("form",{onSubmit:o.handleSubmit,className:"form__layout",children:[V.jsx("h1",{className:"form__title",children:i("log_in")})," ",V.jsx(Co,{form:o,fieldName:"email",autoComplete:"email",labelContent:i("email_address"),placeholder:i("enter_your_email")}),V.jsx(Co,{form:o,fieldName:"password",labelContent:i("password"),placeholder:i("enter_your_password")}),V.jsxs(Ro,{className:"form__link",style:{fontSize:"0.8rem"},to:"/forgotPassword",children:[i("forgot_password")," "]}),t&&V.jsx("p",{className:"form__error-message",children:t}),V.jsxs("button",{className:"form__submit-button",type:"submit",disabled:o.isSubmitting,children:[i("log_in")," "]}),V.jsxs("p",{className:"form__link-wrapper",children:[i("already_have_account")," ",V.jsxs(Ro,{className:"form__link",to:"/signup",children:[i("create_an_account")," "]})]})]})})})}const c8="_layout_1i7ri_3",d8="_banner_1i7ri_14",h8="_title_1i7ri_31",f8="_email_1i7ri_35",p8="_bold_1i7ri_39",m8="_button_1i7ri_42",g8="_content_1i7ri_68",Xr={layout:c8,banner:d8,title:h8,email:f8,bold:p8,button:m8,content:g8},y8="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20height='24px'%20viewBox='0%20-960%20960%20960'%20width='24px'%20fill='%23228d5c'%3e%3cpath%20d='M160-160q-33%200-56.5-23.5T80-240v-480q0-33%2023.5-56.5T160-800h640q33%200%2056.5%2023.5T880-720v480q0%2033-23.5%2056.5T800-160H160Zm320-280%20320-200v-80L480-520%20160-720v80l320%20200Z'/%3e%3c/svg%3e";function v8(){const[t,e]=N.useState("loading"),[n,r]=N.useState(""),{user:i,setIsEmailVerified:s}=Rs(),{t:o}=Ri(),a=N.useCallback(async()=>{try{const d=await mj();if(d){r(xa[d.code]??d.message),e("error");return}e("sent")}catch(d){console.error(Yn.common.unexpectedError,d),e("error")}},[]);N.useEffect(()=>{if(i!=null&&i.emailVerified)return;const d=setInterval(async()=>{await(i==null?void 0:i.reload()),i!=null&&i.emailVerified&&(s(!0),e("verified"))},300);return()=>{clearInterval(d)}},[i,s]),N.useEffect(()=>{if(i!=null&&i.emailVerified){e("verified");return}i&&a()},[i,a]);function l(){a()}let c=V.jsx("p",{children:o("loading_message")});switch(t){case"sent":{c=V.jsxs(V.Fragment,{children:[V.jsxs("p",{children:[o("verify_account.almost_there")," ",V.jsx("br",{}),V.jsx("span",{className:Xr.email,children:i==null?void 0:i.email})]}),V.jsxs("p",{className:Xr.instructions,children:[o("verify_account.instructions")," ",V.jsx("span",{className:Xr.bold,children:o("verify_account.check_spam")})]}),V.jsx("p",{children:o("verify_account.cant_find")}),V.jsx("button",{type:"button",className:Xr.button,onClick:l,children:o("verify_account.resend_email")})]});break}case"error":{c=n?V.jsx("p",{children:n}):V.jsx("p",{className:Xr.errorMessage,children:o("unexpected_error")});break}case"verified":c=V.jsxs("p",{children:[o("verify_account.go_home")," ",V.jsx(Ro,{className:"form__link",to:"/",children:o("home")})]})}return V.jsxs("main",{className:Xr.layout,children:[V.jsx("div",{className:Xr.banner,children:V.jsx("img",{src:y8,alt:o("verify_account.mail_alt")})}),V.jsxs("h3",{className:Xr.title,children:[o(t==="verified"?"verify_account.verified":"verify_account.verify")," "]}),V.jsx("div",{className:Xr.content,children:c})]})}function _8(){return N.useState(""),V.jsx(cp,{initialValues:{email:""},onSubmit:async t=>{try{const{email:e}=t;await kM(Wr,e,{url:`http://localhost:5173/resetPassword?email=${e}`,dynamicLinkDomain:`http://localhost:5173/resetPassword?email=${e}`})}catch(e){console.error(e)}},children:t=>V.jsx("div",{className:Ji.layout,children:V.jsxs("form",{onSubmit:t.handleSubmit,className:Ji.formLayout,children:[V.jsx("h1",{className:Ji.formTitle,children:"Receive reset password link"}),V.jsx(Co,{form:t,fieldName:"email",autoComplete:"email",labelContent:"email address",placeholder:"Enter your email"}),V.jsx("button",{type:"submit",children:"Get link"})]})})})}function w8(){N.useState("");const{search:t}=Dc(),n=new URLSearchParams(t).get("oobCode");return V.jsx(cp,{initialValues:{password:"",confirmPassword:""},validate:r=>{var a;const i=sj.safeParse(r);if(i.success)return{};const s=i.error.flatten().fieldErrors,o={};for(const l of Object.keys(s))o[l]=(a=s[l])==null?void 0:a[0];return o},onSubmit:async({password:r})=>{console.log("resetting password");try{await DM(Wr,n),await OM(Wr,n,r),console.log("password reset")}catch(i){console.error(i)}},children:r=>V.jsx("div",{className:Ji.layout,children:V.jsxs("form",{onSubmit:r.handleSubmit,className:Ji.formLayout,children:[V.jsx("h1",{className:Ji.formTitle,children:"Reset password"}),V.jsx(Co,{form:r,fieldName:"password",labelContent:"password",placeholder:"Enter password"}),V.jsx(Co,{form:r,fieldName:"confirmPassword",labelContent:"confirm password",placeholder:"Enter confirm password",inputProps:{type:"password"}}),V.jsx("button",{className:Ji.signUpButton,type:"submit",disabled:r.isSubmitting,children:"Reset"})]})})})}const E8={type:"logger",log(t){this.output("log",t)},warn(t){this.output("warn",t)},error(t){this.output("error",t)},output(t,e){console&&console[t]&&console[t].apply(console,e)}};class tf{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.init(e,n)}init(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=n.prefix||"i18next:",this.logger=e||E8,this.options=n,this.debug=n.debug}log(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return this.forward(n,"log","",!0)}warn(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return this.forward(n,"warn","",!0)}error(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return this.forward(n,"error","")}deprecate(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return this.forward(n,"warn","WARNING DEPRECATED: ",!0)}forward(e,n,r,i){return i&&!this.debug?null:(typeof e[0]=="string"&&(e[0]=`${r}${this.prefix} ${e[0]}`),this.logger[n](e))}create(e){return new tf(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new tf(this.logger,e)}}var Dr=new tf;class dp{constructor(){this.observers={}}on(e,n){return e.split(" ").forEach(r=>{this.observers[r]||(this.observers[r]=new Map);const i=this.observers[r].get(n)||0;this.observers[r].set(n,i+1)}),this}off(e,n){if(this.observers[e]){if(!n){delete this.observers[e];return}this.observers[e].delete(n)}}emit(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];this.observers[e]&&Array.from(this.observers[e].entries()).forEach(o=>{let[a,l]=o;for(let c=0;c<l;c++)a(...r)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(o=>{let[a,l]=o;for(let c=0;c<l;c++)a.apply(a,[e,...r])})}}const jl=()=>{let t,e;const n=new Promise((r,i)=>{t=r,e=i});return n.resolve=t,n.reject=e,n},ZT=t=>t==null?"":""+t,T8=(t,e,n)=>{t.forEach(r=>{e[r]&&(n[r]=e[r])})},S8=/###/g,JT=t=>t&&t.indexOf("###")>-1?t.replace(S8,"."):t,YT=t=>!t||typeof t=="string",yu=(t,e,n)=>{const r=typeof e!="string"?e:e.split(".");let i=0;for(;i<r.length-1;){if(YT(t))return{};const s=JT(r[i]);!t[s]&&n&&(t[s]=new n),Object.prototype.hasOwnProperty.call(t,s)?t=t[s]:t={},++i}return YT(t)?{}:{obj:t,k:JT(r[i])}},XT=(t,e,n)=>{const{obj:r,k:i}=yu(t,e,Object);if(r!==void 0||e.length===1){r[i]=n;return}let s=e[e.length-1],o=e.slice(0,e.length-1),a=yu(t,o,Object);for(;a.obj===void 0&&o.length;)s=`${o[o.length-1]}.${s}`,o=o.slice(0,o.length-1),a=yu(t,o,Object),a&&a.obj&&typeof a.obj[`${a.k}.${s}`]<"u"&&(a.obj=void 0);a.obj[`${a.k}.${s}`]=n},I8=(t,e,n,r)=>{const{obj:i,k:s}=yu(t,e,Object);i[s]=i[s]||[],i[s].push(n)},nf=(t,e)=>{const{obj:n,k:r}=yu(t,e);if(n)return n[r]},R8=(t,e,n)=>{const r=nf(t,n);return r!==void 0?r:nf(e,n)},ZC=(t,e,n)=>{for(const r in e)r!=="__proto__"&&r!=="constructor"&&(r in t?typeof t[r]=="string"||t[r]instanceof String||typeof e[r]=="string"||e[r]instanceof String?n&&(t[r]=e[r]):ZC(t[r],e[r],n):t[r]=e[r]);return t},Yo=t=>t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var A8={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const b8=t=>typeof t=="string"?t.replace(/[&<>"'\/]/g,e=>A8[e]):t;class C8{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const n=this.regExpMap.get(e);if(n!==void 0)return n;const r=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,r),this.regExpQueue.push(e),r}}const P8=[" ",",","?","!",";"],x8=new C8(20),k8=(t,e,n)=>{e=e||"",n=n||"";const r=P8.filter(o=>e.indexOf(o)<0&&n.indexOf(o)<0);if(r.length===0)return!0;const i=x8.getRegExp(`(${r.map(o=>o==="?"?"\\?":o).join("|")})`);let s=!i.test(t);if(!s){const o=t.indexOf(n);o>0&&!i.test(t.substring(0,o))&&(s=!0)}return s},ty=function(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(!t)return;if(t[e])return t[e];const r=e.split(n);let i=t;for(let s=0;s<r.length;){if(!i||typeof i!="object")return;let o,a="";for(let l=s;l<r.length;++l)if(l!==s&&(a+=n),a+=r[l],o=i[a],o!==void 0){if(["string","number","boolean"].indexOf(typeof o)>-1&&l<r.length-1)continue;s+=l-s+1;break}i=o}return i},rf=t=>t&&t.indexOf("_")>0?t.replace("_","-"):t;class e1 extends dp{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=e||{},this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const n=this.options.ns.indexOf(e);n>-1&&this.options.ns.splice(n,1)}getResource(e,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const s=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,o=i.ignoreJSONStructure!==void 0?i.ignoreJSONStructure:this.options.ignoreJSONStructure;let a;e.indexOf(".")>-1?a=e.split("."):(a=[e,n],r&&(Array.isArray(r)?a.push(...r):typeof r=="string"&&s?a.push(...r.split(s)):a.push(r)));const l=nf(this.data,a);return!l&&!n&&!r&&e.indexOf(".")>-1&&(e=a[0],n=a[1],r=a.slice(2).join(".")),l||!o||typeof r!="string"?l:ty(this.data&&this.data[e]&&this.data[e][n],r,s)}addResource(e,n,r,i){let s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1};const o=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator;let a=[e,n];r&&(a=a.concat(o?r.split(o):r)),e.indexOf(".")>-1&&(a=e.split("."),i=n,n=a[1]),this.addNamespaces(n),XT(this.data,a,i),s.silent||this.emit("added",e,n,r,i)}addResources(e,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(const s in r)(typeof r[s]=="string"||Array.isArray(r[s]))&&this.addResource(e,n,s,r[s],{silent:!0});i.silent||this.emit("added",e,n,r)}addResourceBundle(e,n,r,i,s){let o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1,skipCopy:!1},a=[e,n];e.indexOf(".")>-1&&(a=e.split("."),i=r,r=n,n=a[1]),this.addNamespaces(n);let l=nf(this.data,a)||{};o.skipCopy||(r=JSON.parse(JSON.stringify(r))),i?ZC(l,r,s):l={...l,...r},XT(this.data,a,l),o.silent||this.emit("added",e,n,r)}removeResourceBundle(e,n){this.hasResourceBundle(e,n)&&delete this.data[e][n],this.removeNamespaces(n),this.emit("removed",e,n)}hasResourceBundle(e,n){return this.getResource(e,n)!==void 0}getResourceBundle(e,n){return n||(n=this.options.defaultNS),this.options.compatibilityAPI==="v1"?{...this.getResource(e,n)}:this.getResource(e,n)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const n=this.getDataByLanguage(e);return!!(n&&Object.keys(n)||[]).find(i=>n[i]&&Object.keys(n[i]).length>0)}toJSON(){return this.data}}var JC={processors:{},addPostProcessor(t){this.processors[t.name]=t},handle(t,e,n,r,i){return t.forEach(s=>{this.processors[s]&&(e=this.processors[s].process(e,n,r,i))}),e}};const t1={};class sf extends dp{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),T8(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=Dr.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(e==null)return!1;const r=this.resolve(e,n);return r&&r.res!==void 0}extractFromKey(e,n){let r=n.nsSeparator!==void 0?n.nsSeparator:this.options.nsSeparator;r===void 0&&(r=":");const i=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator;let s=n.ns||this.options.defaultNS||[];const o=r&&e.indexOf(r)>-1,a=!this.options.userDefinedKeySeparator&&!n.keySeparator&&!this.options.userDefinedNsSeparator&&!n.nsSeparator&&!k8(e,r,i);if(o&&!a){const l=e.match(this.interpolator.nestingRegexp);if(l&&l.length>0)return{key:e,namespaces:s};const c=e.split(r);(r!==i||r===i&&this.options.ns.indexOf(c[0])>-1)&&(s=c.shift()),e=c.join(i)}return typeof s=="string"&&(s=[s]),{key:e,namespaces:s}}translate(e,n,r){if(typeof n!="object"&&this.options.overloadTranslationOptionHandler&&(n=this.options.overloadTranslationOptionHandler(arguments)),typeof n=="object"&&(n={...n}),n||(n={}),e==null)return"";Array.isArray(e)||(e=[String(e)]);const i=n.returnDetails!==void 0?n.returnDetails:this.options.returnDetails,s=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator,{key:o,namespaces:a}=this.extractFromKey(e[e.length-1],n),l=a[a.length-1],c=n.lng||this.language,d=n.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(c&&c.toLowerCase()==="cimode"){if(d){const D=n.nsSeparator||this.options.nsSeparator;return i?{res:`${l}${D}${o}`,usedKey:o,exactUsedKey:o,usedLng:c,usedNS:l,usedParams:this.getUsedParamsDetails(n)}:`${l}${D}${o}`}return i?{res:o,usedKey:o,exactUsedKey:o,usedLng:c,usedNS:l,usedParams:this.getUsedParamsDetails(n)}:o}const f=this.resolve(e,n);let p=f&&f.res;const y=f&&f.usedKey||o,w=f&&f.exactUsedKey||o,E=Object.prototype.toString.apply(p),A=["[object Number]","[object Function]","[object RegExp]"],I=n.joinArrays!==void 0?n.joinArrays:this.options.joinArrays,v=!this.i18nFormat||this.i18nFormat.handleAsObject;if(v&&p&&(typeof p!="string"&&typeof p!="boolean"&&typeof p!="number")&&A.indexOf(E)<0&&!(typeof I=="string"&&Array.isArray(p))){if(!n.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const D=this.options.returnedObjectHandler?this.options.returnedObjectHandler(y,p,{...n,ns:a}):`key '${o} (${this.language})' returned an object instead of string.`;return i?(f.res=D,f.usedParams=this.getUsedParamsDetails(n),f):D}if(s){const D=Array.isArray(p),$=D?[]:{},j=D?w:y;for(const T in p)if(Object.prototype.hasOwnProperty.call(p,T)){const g=`${j}${s}${T}`;$[T]=this.translate(g,{...n,joinArrays:!1,ns:a}),$[T]===g&&($[T]=p[T])}p=$}}else if(v&&typeof I=="string"&&Array.isArray(p))p=p.join(I),p&&(p=this.extendTranslation(p,e,n,r));else{let D=!1,$=!1;const j=n.count!==void 0&&typeof n.count!="string",T=sf.hasDefaultValue(n),g=j?this.pluralResolver.getSuffix(c,n.count,n):"",S=n.ordinal&&j?this.pluralResolver.getSuffix(c,n.count,{ordinal:!1}):"",R=j&&!n.ordinal&&n.count===0&&this.pluralResolver.shouldUseIntlApi(),P=R&&n[`defaultValue${this.options.pluralSeparator}zero`]||n[`defaultValue${g}`]||n[`defaultValue${S}`]||n.defaultValue;!this.isValidLookup(p)&&T&&(D=!0,p=P),this.isValidLookup(p)||($=!0,p=o);const C=(n.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&$?void 0:p,Ee=T&&P!==p&&this.options.updateMissing;if($||D||Ee){if(this.logger.log(Ee?"updateKey":"missingKey",c,l,o,Ee?P:p),s){const H=this.resolve(o,{...n,keySeparator:!1});H&&H.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let M=[];const K=this.languageUtils.getFallbackCodes(this.options.fallbackLng,n.lng||this.language);if(this.options.saveMissingTo==="fallback"&&K&&K[0])for(let H=0;H<K.length;H++)M.push(K[H]);else this.options.saveMissingTo==="all"?M=this.languageUtils.toResolveHierarchy(n.lng||this.language):M.push(n.lng||this.language);const de=(H,G,Y)=>{const xe=T&&Y!==p?Y:C;this.options.missingKeyHandler?this.options.missingKeyHandler(H,l,G,xe,Ee,n):this.backendConnector&&this.backendConnector.saveMissing&&this.backendConnector.saveMissing(H,l,G,xe,Ee,n),this.emit("missingKey",H,l,G,p)};this.options.saveMissing&&(this.options.saveMissingPlurals&&j?M.forEach(H=>{const G=this.pluralResolver.getSuffixes(H,n);R&&n[`defaultValue${this.options.pluralSeparator}zero`]&&G.indexOf(`${this.options.pluralSeparator}zero`)<0&&G.push(`${this.options.pluralSeparator}zero`),G.forEach(Y=>{de([H],o+Y,n[`defaultValue${Y}`]||P)})}):de(M,o,P))}p=this.extendTranslation(p,e,n,f,r),$&&p===o&&this.options.appendNamespaceToMissingKey&&(p=`${l}:${o}`),($||D)&&this.options.parseMissingKeyHandler&&(this.options.compatibilityAPI!=="v1"?p=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${l}:${o}`:o,D?p:void 0):p=this.options.parseMissingKeyHandler(p))}return i?(f.res=p,f.usedParams=this.getUsedParamsDetails(n),f):p}extendTranslation(e,n,r,i,s){var o=this;if(this.i18nFormat&&this.i18nFormat.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...r},r.lng||this.language||i.usedLng,i.usedNS,i.usedKey,{resolved:i});else if(!r.skipInterpolation){r.interpolation&&this.interpolator.init({...r,interpolation:{...this.options.interpolation,...r.interpolation}});const c=typeof e=="string"&&(r&&r.interpolation&&r.interpolation.skipOnVariables!==void 0?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let d;if(c){const p=e.match(this.interpolator.nestingRegexp);d=p&&p.length}let f=r.replace&&typeof r.replace!="string"?r.replace:r;if(this.options.interpolation.defaultVariables&&(f={...this.options.interpolation.defaultVariables,...f}),e=this.interpolator.interpolate(e,f,r.lng||this.language||i.usedLng,r),c){const p=e.match(this.interpolator.nestingRegexp),y=p&&p.length;d<y&&(r.nest=!1)}!r.lng&&this.options.compatibilityAPI!=="v1"&&i&&i.res&&(r.lng=this.language||i.usedLng),r.nest!==!1&&(e=this.interpolator.nest(e,function(){for(var p=arguments.length,y=new Array(p),w=0;w<p;w++)y[w]=arguments[w];return s&&s[0]===y[0]&&!r.context?(o.logger.warn(`It seems you are nesting recursively key: ${y[0]} in key: ${n[0]}`),null):o.translate(...y,n)},r)),r.interpolation&&this.interpolator.reset()}const a=r.postProcess||this.options.postProcess,l=typeof a=="string"?[a]:a;return e!=null&&l&&l.length&&r.applyPostProcessor!==!1&&(e=JC.handle(l,e,n,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...i,usedParams:this.getUsedParamsDetails(r)},...r}:r,this)),e}resolve(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r,i,s,o,a;return typeof e=="string"&&(e=[e]),e.forEach(l=>{if(this.isValidLookup(r))return;const c=this.extractFromKey(l,n),d=c.key;i=d;let f=c.namespaces;this.options.fallbackNS&&(f=f.concat(this.options.fallbackNS));const p=n.count!==void 0&&typeof n.count!="string",y=p&&!n.ordinal&&n.count===0&&this.pluralResolver.shouldUseIntlApi(),w=n.context!==void 0&&(typeof n.context=="string"||typeof n.context=="number")&&n.context!=="",E=n.lngs?n.lngs:this.languageUtils.toResolveHierarchy(n.lng||this.language,n.fallbackLng);f.forEach(A=>{this.isValidLookup(r)||(a=A,!t1[`${E[0]}-${A}`]&&this.utils&&this.utils.hasLoadedNamespace&&!this.utils.hasLoadedNamespace(a)&&(t1[`${E[0]}-${A}`]=!0,this.logger.warn(`key "${i}" for languages "${E.join(", ")}" won't get resolved as namespace "${a}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),E.forEach(I=>{if(this.isValidLookup(r))return;o=I;const v=[d];if(this.i18nFormat&&this.i18nFormat.addLookupKeys)this.i18nFormat.addLookupKeys(v,d,I,A,n);else{let D;p&&(D=this.pluralResolver.getSuffix(I,n.count,n));const $=`${this.options.pluralSeparator}zero`,j=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(p&&(v.push(d+D),n.ordinal&&D.indexOf(j)===0&&v.push(d+D.replace(j,this.options.pluralSeparator)),y&&v.push(d+$)),w){const T=`${d}${this.options.contextSeparator}${n.context}`;v.push(T),p&&(v.push(T+D),n.ordinal&&D.indexOf(j)===0&&v.push(T+D.replace(j,this.options.pluralSeparator)),y&&v.push(T+$))}}let b;for(;b=v.pop();)this.isValidLookup(r)||(s=b,r=this.getResource(I,A,b,n))}))})}),{res:r,usedKey:i,exactUsedKey:s,usedLng:o,usedNS:a}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(e,n,r,i):this.resourceStore.getResource(e,n,r,i)}getUsedParamsDetails(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const n=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],r=e.replace&&typeof e.replace!="string";let i=r?e.replace:e;if(r&&typeof e.count<"u"&&(i.count=e.count),this.options.interpolation.defaultVariables&&(i={...this.options.interpolation.defaultVariables,...i}),!r){i={...i};for(const s of n)delete i[s]}return i}static hasDefaultValue(e){const n="defaultValue";for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&n===r.substring(0,n.length)&&e[r]!==void 0)return!0;return!1}}const mm=t=>t.charAt(0).toUpperCase()+t.slice(1);class n1{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Dr.create("languageUtils")}getScriptPartFromCode(e){if(e=rf(e),!e||e.indexOf("-")<0)return null;const n=e.split("-");return n.length===2||(n.pop(),n[n.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(n.join("-"))}getLanguagePartFromCode(e){if(e=rf(e),!e||e.indexOf("-")<0)return e;const n=e.split("-");return this.formatLanguageCode(n[0])}formatLanguageCode(e){if(typeof e=="string"&&e.indexOf("-")>-1){const n=["hans","hant","latn","cyrl","cans","mong","arab"];let r=e.split("-");return this.options.lowerCaseLng?r=r.map(i=>i.toLowerCase()):r.length===2?(r[0]=r[0].toLowerCase(),r[1]=r[1].toUpperCase(),n.indexOf(r[1].toLowerCase())>-1&&(r[1]=mm(r[1].toLowerCase()))):r.length===3&&(r[0]=r[0].toLowerCase(),r[1].length===2&&(r[1]=r[1].toUpperCase()),r[0]!=="sgn"&&r[2].length===2&&(r[2]=r[2].toUpperCase()),n.indexOf(r[1].toLowerCase())>-1&&(r[1]=mm(r[1].toLowerCase())),n.indexOf(r[2].toLowerCase())>-1&&(r[2]=mm(r[2].toLowerCase()))),r.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let n;return e.forEach(r=>{if(n)return;const i=this.formatLanguageCode(r);(!this.options.supportedLngs||this.isSupportedCode(i))&&(n=i)}),!n&&this.options.supportedLngs&&e.forEach(r=>{if(n)return;const i=this.getLanguagePartFromCode(r);if(this.isSupportedCode(i))return n=i;n=this.options.supportedLngs.find(s=>{if(s===i)return s;if(!(s.indexOf("-")<0&&i.indexOf("-")<0)&&(s.indexOf("-")>0&&i.indexOf("-")<0&&s.substring(0,s.indexOf("-"))===i||s.indexOf(i)===0&&i.length>1))return s})}),n||(n=this.getFallbackCodes(this.options.fallbackLng)[0]),n}getFallbackCodes(e,n){if(!e)return[];if(typeof e=="function"&&(e=e(n)),typeof e=="string"&&(e=[e]),Array.isArray(e))return e;if(!n)return e.default||[];let r=e[n];return r||(r=e[this.getScriptPartFromCode(n)]),r||(r=e[this.formatLanguageCode(n)]),r||(r=e[this.getLanguagePartFromCode(n)]),r||(r=e.default),r||[]}toResolveHierarchy(e,n){const r=this.getFallbackCodes(n||this.options.fallbackLng||[],e),i=[],s=o=>{o&&(this.isSupportedCode(o)?i.push(o):this.logger.warn(`rejecting language code not found in supportedLngs: ${o}`))};return typeof e=="string"&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&s(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&s(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&s(this.getLanguagePartFromCode(e))):typeof e=="string"&&s(this.formatLanguageCode(e)),r.forEach(o=>{i.indexOf(o)<0&&s(this.formatLanguageCode(o))}),i}}let O8=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],N8={1:t=>+(t>1),2:t=>+(t!=1),3:t=>0,4:t=>t%10==1&&t%100!=11?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2,5:t=>t==0?0:t==1?1:t==2?2:t%100>=3&&t%100<=10?3:t%100>=11?4:5,6:t=>t==1?0:t>=2&&t<=4?1:2,7:t=>t==1?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2,8:t=>t==1?0:t==2?1:t!=8&&t!=11?2:3,9:t=>+(t>=2),10:t=>t==1?0:t==2?1:t<7?2:t<11?3:4,11:t=>t==1||t==11?0:t==2||t==12?1:t>2&&t<20?2:3,12:t=>+(t%10!=1||t%100==11),13:t=>+(t!==0),14:t=>t==1?0:t==2?1:t==3?2:3,15:t=>t%10==1&&t%100!=11?0:t%10>=2&&(t%100<10||t%100>=20)?1:2,16:t=>t%10==1&&t%100!=11?0:t!==0?1:2,17:t=>t==1||t%10==1&&t%100!=11?0:1,18:t=>t==0?0:t==1?1:2,19:t=>t==1?0:t==0||t%100>1&&t%100<11?1:t%100>10&&t%100<20?2:3,20:t=>t==1?0:t==0||t%100>0&&t%100<20?1:2,21:t=>t%100==1?1:t%100==2?2:t%100==3||t%100==4?3:0,22:t=>t==1?0:t==2?1:(t<0||t>10)&&t%10==0?2:3};const D8=["v1","v2","v3"],L8=["v4"],r1={zero:0,one:1,two:2,few:3,many:4,other:5},M8=()=>{const t={};return O8.forEach(e=>{e.lngs.forEach(n=>{t[n]={numbers:e.nr,plurals:N8[e.fc]}})}),t};class V8{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.languageUtils=e,this.options=n,this.logger=Dr.create("pluralResolver"),(!this.options.compatibilityJSON||L8.includes(this.options.compatibilityJSON))&&(typeof Intl>"u"||!Intl.PluralRules)&&(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=M8(),this.pluralRulesCache={}}addRule(e,n){this.rules[e]=n}clearCache(){this.pluralRulesCache={}}getRule(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.shouldUseIntlApi())try{const r=rf(e==="dev"?"en":e),i=n.ordinal?"ordinal":"cardinal",s=JSON.stringify({cleanedCode:r,type:i});if(s in this.pluralRulesCache)return this.pluralRulesCache[s];const o=new Intl.PluralRules(r,{type:i});return this.pluralRulesCache[s]=o,o}catch{return}return this.rules[e]||this.rules[this.languageUtils.getLanguagePartFromCode(e)]}needsPlural(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=this.getRule(e,n);return this.shouldUseIntlApi()?r&&r.resolvedOptions().pluralCategories.length>1:r&&r.numbers.length>1}getPluralFormsOfKey(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(e,r).map(i=>`${n}${i}`)}getSuffixes(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=this.getRule(e,n);return r?this.shouldUseIntlApi()?r.resolvedOptions().pluralCategories.sort((i,s)=>r1[i]-r1[s]).map(i=>`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${i}`):r.numbers.map(i=>this.getSuffix(e,i,n)):[]}getSuffix(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const i=this.getRule(e,r);return i?this.shouldUseIntlApi()?`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${i.select(n)}`:this.getSuffixRetroCompatible(i,n):(this.logger.warn(`no plural rule found for: ${e}`),"")}getSuffixRetroCompatible(e,n){const r=e.noAbs?e.plurals(n):e.plurals(Math.abs(n));let i=e.numbers[r];this.options.simplifyPluralSuffix&&e.numbers.length===2&&e.numbers[0]===1&&(i===2?i="plural":i===1&&(i=""));const s=()=>this.options.prepend&&i.toString()?this.options.prepend+i.toString():i.toString();return this.options.compatibilityJSON==="v1"?i===1?"":typeof i=="number"?`_plural_${i.toString()}`:s():this.options.compatibilityJSON==="v2"||this.options.simplifyPluralSuffix&&e.numbers.length===2&&e.numbers[0]===1?s():this.options.prepend&&r.toString()?this.options.prepend+r.toString():r.toString()}shouldUseIntlApi(){return!D8.includes(this.options.compatibilityJSON)}}const i1=function(t,e,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:".",i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,s=R8(t,e,n);return!s&&i&&typeof n=="string"&&(s=ty(t,n,r),s===void 0&&(s=ty(e,n,r))),s},gm=t=>t.replace(/\$/g,"$$$$");class j8{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=Dr.create("interpolator"),this.options=e,this.format=e.interpolation&&e.interpolation.format||(n=>n),this.init(e)}init(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};e.interpolation||(e.interpolation={escapeValue:!0});const{escape:n,escapeValue:r,useRawValueToEscape:i,prefix:s,prefixEscaped:o,suffix:a,suffixEscaped:l,formatSeparator:c,unescapeSuffix:d,unescapePrefix:f,nestingPrefix:p,nestingPrefixEscaped:y,nestingSuffix:w,nestingSuffixEscaped:E,nestingOptionsSeparator:A,maxReplaces:I,alwaysFormat:v}=e.interpolation;this.escape=n!==void 0?n:b8,this.escapeValue=r!==void 0?r:!0,this.useRawValueToEscape=i!==void 0?i:!1,this.prefix=s?Yo(s):o||"{{",this.suffix=a?Yo(a):l||"}}",this.formatSeparator=c||",",this.unescapePrefix=d?"":f||"-",this.unescapeSuffix=this.unescapePrefix?"":d||"",this.nestingPrefix=p?Yo(p):y||Yo("$t("),this.nestingSuffix=w?Yo(w):E||Yo(")"),this.nestingOptionsSeparator=A||",",this.maxReplaces=I||1e3,this.alwaysFormat=v!==void 0?v:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(n,r)=>n&&n.source===r?(n.lastIndex=0,n):new RegExp(r,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(e,n,r,i){let s,o,a;const l=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},c=y=>{if(y.indexOf(this.formatSeparator)<0){const I=i1(n,l,y,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(I,void 0,r,{...i,...n,interpolationkey:y}):I}const w=y.split(this.formatSeparator),E=w.shift().trim(),A=w.join(this.formatSeparator).trim();return this.format(i1(n,l,E,this.options.keySeparator,this.options.ignoreJSONStructure),A,r,{...i,...n,interpolationkey:E})};this.resetRegExp();const d=i&&i.missingInterpolationHandler||this.options.missingInterpolationHandler,f=i&&i.interpolation&&i.interpolation.skipOnVariables!==void 0?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:y=>gm(y)},{regex:this.regexp,safeValue:y=>this.escapeValue?gm(this.escape(y)):gm(y)}].forEach(y=>{for(a=0;s=y.regex.exec(e);){const w=s[1].trim();if(o=c(w),o===void 0)if(typeof d=="function"){const A=d(e,s,i);o=typeof A=="string"?A:""}else if(i&&Object.prototype.hasOwnProperty.call(i,w))o="";else if(f){o=s[0];continue}else this.logger.warn(`missed to pass in variable ${w} for interpolating ${e}`),o="";else typeof o!="string"&&!this.useRawValueToEscape&&(o=ZT(o));const E=y.safeValue(o);if(e=e.replace(s[0],E),f?(y.regex.lastIndex+=o.length,y.regex.lastIndex-=s[0].length):y.regex.lastIndex=0,a++,a>=this.maxReplaces)break}}),e}nest(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i,s,o;const a=(l,c)=>{const d=this.nestingOptionsSeparator;if(l.indexOf(d)<0)return l;const f=l.split(new RegExp(`${d}[ ]*{`));let p=`{${f[1]}`;l=f[0],p=this.interpolate(p,o);const y=p.match(/'/g),w=p.match(/"/g);(y&&y.length%2===0&&!w||w.length%2!==0)&&(p=p.replace(/'/g,'"'));try{o=JSON.parse(p),c&&(o={...c,...o})}catch(E){return this.logger.warn(`failed parsing options string in nesting for key ${l}`,E),`${l}${d}${p}`}return o.defaultValue&&o.defaultValue.indexOf(this.prefix)>-1&&delete o.defaultValue,l};for(;i=this.nestingRegexp.exec(e);){let l=[];o={...r},o=o.replace&&typeof o.replace!="string"?o.replace:o,o.applyPostProcessor=!1,delete o.defaultValue;let c=!1;if(i[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(i[1])){const d=i[1].split(this.formatSeparator).map(f=>f.trim());i[1]=d.shift(),l=d,c=!0}if(s=n(a.call(this,i[1].trim(),o),o),s&&i[0]===e&&typeof s!="string")return s;typeof s!="string"&&(s=ZT(s)),s||(this.logger.warn(`missed to resolve ${i[1]} for nesting ${e}`),s=""),c&&(s=l.reduce((d,f)=>this.format(d,f,r.lng,{...r,interpolationkey:i[1].trim()}),s.trim())),e=e.replace(i[0],s),this.regexp.lastIndex=0}return e}}const F8=t=>{let e=t.toLowerCase().trim();const n={};if(t.indexOf("(")>-1){const r=t.split("(");e=r[0].toLowerCase().trim();const i=r[1].substring(0,r[1].length-1);e==="currency"&&i.indexOf(":")<0?n.currency||(n.currency=i.trim()):e==="relativetime"&&i.indexOf(":")<0?n.range||(n.range=i.trim()):i.split(";").forEach(o=>{if(o){const[a,...l]=o.split(":"),c=l.join(":").trim().replace(/^'+|'+$/g,""),d=a.trim();n[d]||(n[d]=c),c==="false"&&(n[d]=!1),c==="true"&&(n[d]=!0),isNaN(c)||(n[d]=parseInt(c,10))}})}return{formatName:e,formatOptions:n}},Xo=t=>{const e={};return(n,r,i)=>{let s=i;i&&i.interpolationkey&&i.formatParams&&i.formatParams[i.interpolationkey]&&i[i.interpolationkey]&&(s={...s,[i.interpolationkey]:void 0});const o=r+JSON.stringify(s);let a=e[o];return a||(a=t(rf(r),i),e[o]=a),a(n)}};class U8{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=Dr.create("formatter"),this.options=e,this.formats={number:Xo((n,r)=>{const i=new Intl.NumberFormat(n,{...r});return s=>i.format(s)}),currency:Xo((n,r)=>{const i=new Intl.NumberFormat(n,{...r,style:"currency"});return s=>i.format(s)}),datetime:Xo((n,r)=>{const i=new Intl.DateTimeFormat(n,{...r});return s=>i.format(s)}),relativetime:Xo((n,r)=>{const i=new Intl.RelativeTimeFormat(n,{...r});return s=>i.format(s,r.range||"day")}),list:Xo((n,r)=>{const i=new Intl.ListFormat(n,{...r});return s=>i.format(s)})},this.init(e)}init(e){const r=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}}).interpolation;this.formatSeparator=r.formatSeparator?r.formatSeparator:r.formatSeparator||","}add(e,n){this.formats[e.toLowerCase().trim()]=n}addCached(e,n){this.formats[e.toLowerCase().trim()]=Xo(n)}format(e,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const s=n.split(this.formatSeparator);if(s.length>1&&s[0].indexOf("(")>1&&s[0].indexOf(")")<0&&s.find(a=>a.indexOf(")")>-1)){const a=s.findIndex(l=>l.indexOf(")")>-1);s[0]=[s[0],...s.splice(1,a)].join(this.formatSeparator)}return s.reduce((a,l)=>{const{formatName:c,formatOptions:d}=F8(l);if(this.formats[c]){let f=a;try{const p=i&&i.formatParams&&i.formatParams[i.interpolationkey]||{},y=p.locale||p.lng||i.locale||i.lng||r;f=this.formats[c](a,y,{...d,...i,...p})}catch(p){this.logger.warn(p)}return f}else this.logger.warn(`there was no format function for ${c}`);return a},e)}}const $8=(t,e)=>{t.pending[e]!==void 0&&(delete t.pending[e],t.pendingCount--)};class B8 extends dp{constructor(e,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};super(),this.backend=e,this.store=n,this.services=r,this.languageUtils=r.languageUtils,this.options=i,this.logger=Dr.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=i.maxParallelReads||10,this.readingCalls=0,this.maxRetries=i.maxRetries>=0?i.maxRetries:5,this.retryTimeout=i.retryTimeout>=1?i.retryTimeout:350,this.state={},this.queue=[],this.backend&&this.backend.init&&this.backend.init(r,i.backend,i)}queueLoad(e,n,r,i){const s={},o={},a={},l={};return e.forEach(c=>{let d=!0;n.forEach(f=>{const p=`${c}|${f}`;!r.reload&&this.store.hasResourceBundle(c,f)?this.state[p]=2:this.state[p]<0||(this.state[p]===1?o[p]===void 0&&(o[p]=!0):(this.state[p]=1,d=!1,o[p]===void 0&&(o[p]=!0),s[p]===void 0&&(s[p]=!0),l[f]===void 0&&(l[f]=!0)))}),d||(a[c]=!0)}),(Object.keys(s).length||Object.keys(o).length)&&this.queue.push({pending:o,pendingCount:Object.keys(o).length,loaded:{},errors:[],callback:i}),{toLoad:Object.keys(s),pending:Object.keys(o),toLoadLanguages:Object.keys(a),toLoadNamespaces:Object.keys(l)}}loaded(e,n,r){const i=e.split("|"),s=i[0],o=i[1];n&&this.emit("failedLoading",s,o,n),!n&&r&&this.store.addResourceBundle(s,o,r,void 0,void 0,{skipCopy:!0}),this.state[e]=n?-1:2,n&&r&&(this.state[e]=0);const a={};this.queue.forEach(l=>{I8(l.loaded,[s],o),$8(l,e),n&&l.errors.push(n),l.pendingCount===0&&!l.done&&(Object.keys(l.loaded).forEach(c=>{a[c]||(a[c]={});const d=l.loaded[c];d.length&&d.forEach(f=>{a[c][f]===void 0&&(a[c][f]=!0)})}),l.done=!0,l.errors.length?l.callback(l.errors):l.callback())}),this.emit("loaded",a),this.queue=this.queue.filter(l=>!l.done)}read(e,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,o=arguments.length>5?arguments[5]:void 0;if(!e.length)return o(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:n,fcName:r,tried:i,wait:s,callback:o});return}this.readingCalls++;const a=(c,d)=>{if(this.readingCalls--,this.waitingReads.length>0){const f=this.waitingReads.shift();this.read(f.lng,f.ns,f.fcName,f.tried,f.wait,f.callback)}if(c&&d&&i<this.maxRetries){setTimeout(()=>{this.read.call(this,e,n,r,i+1,s*2,o)},s);return}o(c,d)},l=this.backend[r].bind(this.backend);if(l.length===2){try{const c=l(e,n);c&&typeof c.then=="function"?c.then(d=>a(null,d)).catch(a):a(null,c)}catch(c){a(c)}return}return l(e,n,a)}prepareLoading(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),i&&i();typeof e=="string"&&(e=this.languageUtils.toResolveHierarchy(e)),typeof n=="string"&&(n=[n]);const s=this.queueLoad(e,n,r,i);if(!s.toLoad.length)return s.pending.length||i(),null;s.toLoad.forEach(o=>{this.loadOne(o)})}load(e,n,r){this.prepareLoading(e,n,{},r)}reload(e,n,r){this.prepareLoading(e,n,{reload:!0},r)}loadOne(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const r=e.split("|"),i=r[0],s=r[1];this.read(i,s,"read",void 0,void 0,(o,a)=>{o&&this.logger.warn(`${n}loading namespace ${s} for language ${i} failed`,o),!o&&a&&this.logger.log(`${n}loaded namespace ${s} for language ${i}`,a),this.loaded(e,o,a)})}saveMissing(e,n,r,i,s){let o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},a=arguments.length>6&&arguments[6]!==void 0?arguments[6]:()=>{};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(n)){this.logger.warn(`did not save key "${r}" as the namespace "${n}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(r==null||r==="")){if(this.backend&&this.backend.create){const l={...o,isUpdate:s},c=this.backend.create.bind(this.backend);if(c.length<6)try{let d;c.length===5?d=c(e,n,r,i,l):d=c(e,n,r,i),d&&typeof d.then=="function"?d.then(f=>a(null,f)).catch(a):a(null,d)}catch(d){a(d)}else c(e,n,r,i,a,l)}!e||!e[0]||this.store.addResource(e[0],n,r,i)}}}const s1=()=>({debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:t=>{let e={};if(typeof t[1]=="object"&&(e=t[1]),typeof t[1]=="string"&&(e.defaultValue=t[1]),typeof t[2]=="string"&&(e.tDescription=t[2]),typeof t[2]=="object"||typeof t[3]=="object"){const n=t[3]||t[2];Object.keys(n).forEach(r=>{e[r]=n[r]})}return e},interpolation:{escapeValue:!0,format:t=>t,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}),o1=t=>(typeof t.ns=="string"&&(t.ns=[t.ns]),typeof t.fallbackLng=="string"&&(t.fallbackLng=[t.fallbackLng]),typeof t.fallbackNS=="string"&&(t.fallbackNS=[t.fallbackNS]),t.supportedLngs&&t.supportedLngs.indexOf("cimode")<0&&(t.supportedLngs=t.supportedLngs.concat(["cimode"])),t),Ad=()=>{},z8=t=>{Object.getOwnPropertyNames(Object.getPrototypeOf(t)).forEach(n=>{typeof t[n]=="function"&&(t[n]=t[n].bind(t))})};class dc extends dp{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;if(super(),this.options=o1(e),this.services={},this.logger=Dr,this.modules={external:[]},z8(this),n&&!this.isInitialized&&!e.isClone){if(!this.options.initImmediate)return this.init(e,n),this;setTimeout(()=>{this.init(e,n)},0)}}init(){var e=this;let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;this.isInitializing=!0,typeof n=="function"&&(r=n,n={}),!n.defaultNS&&n.defaultNS!==!1&&n.ns&&(typeof n.ns=="string"?n.defaultNS=n.ns:n.ns.indexOf("translation")<0&&(n.defaultNS=n.ns[0]));const i=s1();this.options={...i,...this.options,...o1(n)},this.options.compatibilityAPI!=="v1"&&(this.options.interpolation={...i.interpolation,...this.options.interpolation}),n.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=n.keySeparator),n.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=n.nsSeparator);const s=d=>d?typeof d=="function"?new d:d:null;if(!this.options.isClone){this.modules.logger?Dr.init(s(this.modules.logger),this.options):Dr.init(null,this.options);let d;this.modules.formatter?d=this.modules.formatter:typeof Intl<"u"&&(d=U8);const f=new n1(this.options);this.store=new e1(this.options.resources,this.options);const p=this.services;p.logger=Dr,p.resourceStore=this.store,p.languageUtils=f,p.pluralResolver=new V8(f,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),d&&(!this.options.interpolation.format||this.options.interpolation.format===i.interpolation.format)&&(p.formatter=s(d),p.formatter.init(p,this.options),this.options.interpolation.format=p.formatter.format.bind(p.formatter)),p.interpolator=new j8(this.options),p.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},p.backendConnector=new B8(s(this.modules.backend),p.resourceStore,p,this.options),p.backendConnector.on("*",function(y){for(var w=arguments.length,E=new Array(w>1?w-1:0),A=1;A<w;A++)E[A-1]=arguments[A];e.emit(y,...E)}),this.modules.languageDetector&&(p.languageDetector=s(this.modules.languageDetector),p.languageDetector.init&&p.languageDetector.init(p,this.options.detection,this.options)),this.modules.i18nFormat&&(p.i18nFormat=s(this.modules.i18nFormat),p.i18nFormat.init&&p.i18nFormat.init(this)),this.translator=new sf(this.services,this.options),this.translator.on("*",function(y){for(var w=arguments.length,E=new Array(w>1?w-1:0),A=1;A<w;A++)E[A-1]=arguments[A];e.emit(y,...E)}),this.modules.external.forEach(y=>{y.init&&y.init(this)})}if(this.format=this.options.interpolation.format,r||(r=Ad),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const d=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);d.length>0&&d[0]!=="dev"&&(this.options.lng=d[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(d=>{this[d]=function(){return e.store[d](...arguments)}}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(d=>{this[d]=function(){return e.store[d](...arguments),e}});const l=jl(),c=()=>{const d=(f,p)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),l.resolve(p),r(f,p)};if(this.languages&&this.options.compatibilityAPI!=="v1"&&!this.isInitialized)return d(null,this.t.bind(this));this.changeLanguage(this.options.lng,d)};return this.options.resources||!this.options.initImmediate?c():setTimeout(c,0),l}loadResources(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ad;const i=typeof e=="string"?e:this.language;if(typeof e=="function"&&(r=e),!this.options.resources||this.options.partialBundledLanguages){if(i&&i.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return r();const s=[],o=a=>{if(!a||a==="cimode")return;this.services.languageUtils.toResolveHierarchy(a).forEach(c=>{c!=="cimode"&&s.indexOf(c)<0&&s.push(c)})};i?o(i):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(l=>o(l)),this.options.preload&&this.options.preload.forEach(a=>o(a)),this.services.backendConnector.load(s,this.options.ns,a=>{!a&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),r(a)})}else r(null)}reloadResources(e,n,r){const i=jl();return typeof e=="function"&&(r=e,e=void 0),typeof n=="function"&&(r=n,n=void 0),e||(e=this.languages),n||(n=this.options.ns),r||(r=Ad),this.services.backendConnector.reload(e,n,s=>{i.resolve(),r(s)}),i}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&JC.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1))for(let n=0;n<this.languages.length;n++){const r=this.languages[n];if(!(["cimode","dev"].indexOf(r)>-1)&&this.store.hasLanguageSomeTranslations(r)){this.resolvedLanguage=r;break}}}changeLanguage(e,n){var r=this;this.isLanguageChangingTo=e;const i=jl();this.emit("languageChanging",e);const s=l=>{this.language=l,this.languages=this.services.languageUtils.toResolveHierarchy(l),this.resolvedLanguage=void 0,this.setResolvedLanguage(l)},o=(l,c)=>{c?(s(c),this.translator.changeLanguage(c),this.isLanguageChangingTo=void 0,this.emit("languageChanged",c),this.logger.log("languageChanged",c)):this.isLanguageChangingTo=void 0,i.resolve(function(){return r.t(...arguments)}),n&&n(l,function(){return r.t(...arguments)})},a=l=>{!e&&!l&&this.services.languageDetector&&(l=[]);const c=typeof l=="string"?l:this.services.languageUtils.getBestMatchFromCodes(l);c&&(this.language||s(c),this.translator.language||this.translator.changeLanguage(c),this.services.languageDetector&&this.services.languageDetector.cacheUserLanguage&&this.services.languageDetector.cacheUserLanguage(c)),this.loadResources(c,d=>{o(d,c)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?a(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(a):this.services.languageDetector.detect(a):a(e),i}getFixedT(e,n,r){var i=this;const s=function(o,a){let l;if(typeof a!="object"){for(var c=arguments.length,d=new Array(c>2?c-2:0),f=2;f<c;f++)d[f-2]=arguments[f];l=i.options.overloadTranslationOptionHandler([o,a].concat(d))}else l={...a};l.lng=l.lng||s.lng,l.lngs=l.lngs||s.lngs,l.ns=l.ns||s.ns,l.keyPrefix!==""&&(l.keyPrefix=l.keyPrefix||r||s.keyPrefix);const p=i.options.keySeparator||".";let y;return l.keyPrefix&&Array.isArray(o)?y=o.map(w=>`${l.keyPrefix}${p}${w}`):y=l.keyPrefix?`${l.keyPrefix}${p}${o}`:o,i.t(y,l)};return typeof e=="string"?s.lng=e:s.lngs=e,s.ns=n,s.keyPrefix=r,s}t(){return this.translator&&this.translator.translate(...arguments)}exists(){return this.translator&&this.translator.exists(...arguments)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const r=n.lng||this.resolvedLanguage||this.languages[0],i=this.options?this.options.fallbackLng:!1,s=this.languages[this.languages.length-1];if(r.toLowerCase()==="cimode")return!0;const o=(a,l)=>{const c=this.services.backendConnector.state[`${a}|${l}`];return c===-1||c===0||c===2};if(n.precheck){const a=n.precheck(this,o);if(a!==void 0)return a}return!!(this.hasResourceBundle(r,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||o(r,e)&&(!i||o(s,e)))}loadNamespaces(e,n){const r=jl();return this.options.ns?(typeof e=="string"&&(e=[e]),e.forEach(i=>{this.options.ns.indexOf(i)<0&&this.options.ns.push(i)}),this.loadResources(i=>{r.resolve(),n&&n(i)}),r):(n&&n(),Promise.resolve())}loadLanguages(e,n){const r=jl();typeof e=="string"&&(e=[e]);const i=this.options.preload||[],s=e.filter(o=>i.indexOf(o)<0&&this.services.languageUtils.isSupportedCode(o));return s.length?(this.options.preload=i.concat(s),this.loadResources(o=>{r.resolve(),n&&n(o)}),r):(n&&n(),Promise.resolve())}dir(e){if(e||(e=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!e)return"rtl";const n=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],r=this.services&&this.services.languageUtils||new n1(s1());return n.indexOf(r.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;return new dc(e,n)}cloneInstance(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ad;const r=e.forkResourceStore;r&&delete e.forkResourceStore;const i={...this.options,...e,isClone:!0},s=new dc(i);return(e.debug!==void 0||e.prefix!==void 0)&&(s.logger=s.logger.clone(e)),["store","services","language"].forEach(a=>{s[a]=this[a]}),s.services={...this.services},s.services.utils={hasLoadedNamespace:s.hasLoadedNamespace.bind(s)},r&&(s.store=new e1(this.store.data,i),s.services.resourceStore=s.store),s.translator=new sf(s.services,i),s.translator.on("*",function(a){for(var l=arguments.length,c=new Array(l>1?l-1:0),d=1;d<l;d++)c[d-1]=arguments[d];s.emit(a,...c)}),s.init(i,n),s.translator.options=i,s.translator.backendConnector.services.utils={hasLoadedNamespace:s.hasLoadedNamespace.bind(s)},s}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const dn=dc.createInstance();dn.createInstance=dc.createInstance;dn.createInstance;dn.dir;dn.init;dn.loadResources;dn.reloadResources;dn.use;dn.changeLanguage;dn.getFixedT;dn.t;dn.exists;dn.setDefaultNamespace;dn.hasLoadedNamespace;dn.loadNamespaces;dn.loadLanguages;const{slice:H8,forEach:q8}=[];function W8(t){return q8.call(H8.call(arguments,1),e=>{if(e)for(const n in e)t[n]===void 0&&(t[n]=e[n])}),t}const a1=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,K8=(t,e,n)=>{const r=n||{};r.path=r.path||"/";const i=encodeURIComponent(e);let s=`${t}=${i}`;if(r.maxAge>0){const o=r.maxAge-0;if(Number.isNaN(o))throw new Error("maxAge should be a Number");s+=`; Max-Age=${Math.floor(o)}`}if(r.domain){if(!a1.test(r.domain))throw new TypeError("option domain is invalid");s+=`; Domain=${r.domain}`}if(r.path){if(!a1.test(r.path))throw new TypeError("option path is invalid");s+=`; Path=${r.path}`}if(r.expires){if(typeof r.expires.toUTCString!="function")throw new TypeError("option expires is invalid");s+=`; Expires=${r.expires.toUTCString()}`}if(r.httpOnly&&(s+="; HttpOnly"),r.secure&&(s+="; Secure"),r.sameSite)switch(typeof r.sameSite=="string"?r.sameSite.toLowerCase():r.sameSite){case!0:s+="; SameSite=Strict";break;case"lax":s+="; SameSite=Lax";break;case"strict":s+="; SameSite=Strict";break;case"none":s+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return s},l1={create(t,e,n,r){let i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};n&&(i.expires=new Date,i.expires.setTime(i.expires.getTime()+n*60*1e3)),r&&(i.domain=r),document.cookie=K8(t,encodeURIComponent(e),i)},read(t){const e=`${t}=`,n=document.cookie.split(";");for(let r=0;r<n.length;r++){let i=n[r];for(;i.charAt(0)===" ";)i=i.substring(1,i.length);if(i.indexOf(e)===0)return i.substring(e.length,i.length)}return null},remove(t){this.create(t,"",-1)}};var G8={name:"cookie",lookup(t){let{lookupCookie:e}=t;if(e&&typeof document<"u")return l1.read(e)||void 0},cacheUserLanguage(t,e){let{lookupCookie:n,cookieMinutes:r,cookieDomain:i,cookieOptions:s}=e;n&&typeof document<"u"&&l1.create(n,t,r,i,s)}},Q8={name:"querystring",lookup(t){var r;let{lookupQuerystring:e}=t,n;if(typeof window<"u"){let{search:i}=window.location;!window.location.search&&((r=window.location.hash)==null?void 0:r.indexOf("?"))>-1&&(i=window.location.hash.substring(window.location.hash.indexOf("?")));const o=i.substring(1).split("&");for(let a=0;a<o.length;a++){const l=o[a].indexOf("=");l>0&&o[a].substring(0,l)===e&&(n=o[a].substring(l+1))}}return n}};let Fl=null;const u1=()=>{if(Fl!==null)return Fl;try{Fl=window!=="undefined"&&window.localStorage!==null;const t="i18next.translate.boo";window.localStorage.setItem(t,"foo"),window.localStorage.removeItem(t)}catch{Fl=!1}return Fl};var Z8={name:"localStorage",lookup(t){let{lookupLocalStorage:e}=t;if(e&&u1())return window.localStorage.getItem(e)||void 0},cacheUserLanguage(t,e){let{lookupLocalStorage:n}=e;n&&u1()&&window.localStorage.setItem(n,t)}};let Ul=null;const c1=()=>{if(Ul!==null)return Ul;try{Ul=window!=="undefined"&&window.sessionStorage!==null;const t="i18next.translate.boo";window.sessionStorage.setItem(t,"foo"),window.sessionStorage.removeItem(t)}catch{Ul=!1}return Ul};var J8={name:"sessionStorage",lookup(t){let{lookupSessionStorage:e}=t;if(e&&c1())return window.sessionStorage.getItem(e)||void 0},cacheUserLanguage(t,e){let{lookupSessionStorage:n}=e;n&&c1()&&window.sessionStorage.setItem(n,t)}},Y8={name:"navigator",lookup(t){const e=[];if(typeof navigator<"u"){const{languages:n,userLanguage:r,language:i}=navigator;if(n)for(let s=0;s<n.length;s++)e.push(n[s]);r&&e.push(r),i&&e.push(i)}return e.length>0?e:void 0}},X8={name:"htmlTag",lookup(t){let{htmlTag:e}=t,n;const r=e||(typeof document<"u"?document.documentElement:null);return r&&typeof r.getAttribute=="function"&&(n=r.getAttribute("lang")),n}},e7={name:"path",lookup(t){var i;let{lookupFromPathIndex:e}=t;if(typeof window>"u")return;const n=window.location.pathname.match(/\/([a-zA-Z-]*)/g);return Array.isArray(n)?(i=n[typeof e=="number"?e:0])==null?void 0:i.replace("/",""):void 0}},t7={name:"subdomain",lookup(t){var i,s;let{lookupFromSubdomainIndex:e}=t;const n=typeof e=="number"?e+1:1,r=typeof window<"u"&&((s=(i=window.location)==null?void 0:i.hostname)==null?void 0:s.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i));if(r)return r[n]}};function n7(){return{order:["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"],lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:t=>t}}class YC{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.type="languageDetector",this.detectors={},this.init(e,n)}init(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=e||{languageUtils:{}},this.options=W8(n,this.options||{},n7()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=i=>i.replace("-","_")),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=r,this.addDetector(G8),this.addDetector(Q8),this.addDetector(Z8),this.addDetector(J8),this.addDetector(Y8),this.addDetector(X8),this.addDetector(e7),this.addDetector(t7)}addDetector(e){return this.detectors[e.name]=e,this}detect(e){e||(e=this.options.order);let n=[];return e.forEach(r=>{if(this.detectors[r]){let i=this.detectors[r].lookup(this.options);i&&typeof i=="string"&&(i=[i]),i&&(n=n.concat(i))}}),n=n.map(r=>this.options.convertDetectedLanguage(r)),this.services.languageUtils.getBestMatchFromCodes?n:n.length>0?n[0]:null}cacheUserLanguage(e,n){n||(n=this.options.caches),n&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(e)>-1||n.forEach(r=>{this.detectors[r]&&this.detectors[r].cacheUserLanguage(e,this.options)}))}}YC.type="languageDetector";function ny(t){"@babel/helpers - typeof";return ny=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ny(t)}function XC(){return typeof XMLHttpRequest=="function"||(typeof XMLHttpRequest>"u"?"undefined":ny(XMLHttpRequest))==="object"}function r7(t){return!!t&&typeof t.then=="function"}function i7(t){return r7(t)?t:Promise.resolve(t)}function s7(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var ry={exports:{}},bd={exports:{}},d1;function o7(){return d1||(d1=1,function(t,e){var n=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof eu<"u"&&eu,r=function(){function s(){this.fetch=!1,this.DOMException=n.DOMException}return s.prototype=n,new s}();(function(s){(function(o){var a=typeof s<"u"&&s||typeof self<"u"&&self||typeof a<"u"&&a,l={searchParams:"URLSearchParams"in a,iterable:"Symbol"in a&&"iterator"in Symbol,blob:"FileReader"in a&&"Blob"in a&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in a,arrayBuffer:"ArrayBuffer"in a};function c(M){return M&&DataView.prototype.isPrototypeOf(M)}if(l.arrayBuffer)var d=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],f=ArrayBuffer.isView||function(M){return M&&d.indexOf(Object.prototype.toString.call(M))>-1};function p(M){if(typeof M!="string"&&(M=String(M)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(M)||M==="")throw new TypeError('Invalid character in header field name: "'+M+'"');return M.toLowerCase()}function y(M){return typeof M!="string"&&(M=String(M)),M}function w(M){var K={next:function(){var de=M.shift();return{done:de===void 0,value:de}}};return l.iterable&&(K[Symbol.iterator]=function(){return K}),K}function E(M){this.map={},M instanceof E?M.forEach(function(K,de){this.append(de,K)},this):Array.isArray(M)?M.forEach(function(K){this.append(K[0],K[1])},this):M&&Object.getOwnPropertyNames(M).forEach(function(K){this.append(K,M[K])},this)}E.prototype.append=function(M,K){M=p(M),K=y(K);var de=this.map[M];this.map[M]=de?de+", "+K:K},E.prototype.delete=function(M){delete this.map[p(M)]},E.prototype.get=function(M){return M=p(M),this.has(M)?this.map[M]:null},E.prototype.has=function(M){return this.map.hasOwnProperty(p(M))},E.prototype.set=function(M,K){this.map[p(M)]=y(K)},E.prototype.forEach=function(M,K){for(var de in this.map)this.map.hasOwnProperty(de)&&M.call(K,this.map[de],de,this)},E.prototype.keys=function(){var M=[];return this.forEach(function(K,de){M.push(de)}),w(M)},E.prototype.values=function(){var M=[];return this.forEach(function(K){M.push(K)}),w(M)},E.prototype.entries=function(){var M=[];return this.forEach(function(K,de){M.push([de,K])}),w(M)},l.iterable&&(E.prototype[Symbol.iterator]=E.prototype.entries);function A(M){if(M.bodyUsed)return Promise.reject(new TypeError("Already read"));M.bodyUsed=!0}function I(M){return new Promise(function(K,de){M.onload=function(){K(M.result)},M.onerror=function(){de(M.error)}})}function v(M){var K=new FileReader,de=I(K);return K.readAsArrayBuffer(M),de}function b(M){var K=new FileReader,de=I(K);return K.readAsText(M),de}function D(M){for(var K=new Uint8Array(M),de=new Array(K.length),H=0;H<K.length;H++)de[H]=String.fromCharCode(K[H]);return de.join("")}function $(M){if(M.slice)return M.slice(0);var K=new Uint8Array(M.byteLength);return K.set(new Uint8Array(M)),K.buffer}function j(){return this.bodyUsed=!1,this._initBody=function(M){this.bodyUsed=this.bodyUsed,this._bodyInit=M,M?typeof M=="string"?this._bodyText=M:l.blob&&Blob.prototype.isPrototypeOf(M)?this._bodyBlob=M:l.formData&&FormData.prototype.isPrototypeOf(M)?this._bodyFormData=M:l.searchParams&&URLSearchParams.prototype.isPrototypeOf(M)?this._bodyText=M.toString():l.arrayBuffer&&l.blob&&c(M)?(this._bodyArrayBuffer=$(M.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):l.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(M)||f(M))?this._bodyArrayBuffer=$(M):this._bodyText=M=Object.prototype.toString.call(M):this._bodyText="",this.headers.get("content-type")||(typeof M=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):l.searchParams&&URLSearchParams.prototype.isPrototypeOf(M)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},l.blob&&(this.blob=function(){var M=A(this);if(M)return M;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){if(this._bodyArrayBuffer){var M=A(this);return M||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else return this.blob().then(v)}),this.text=function(){var M=A(this);if(M)return M;if(this._bodyBlob)return b(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(D(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},l.formData&&(this.formData=function(){return this.text().then(R)}),this.json=function(){return this.text().then(JSON.parse)},this}var T=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function g(M){var K=M.toUpperCase();return T.indexOf(K)>-1?K:M}function S(M,K){if(!(this instanceof S))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');K=K||{};var de=K.body;if(M instanceof S){if(M.bodyUsed)throw new TypeError("Already read");this.url=M.url,this.credentials=M.credentials,K.headers||(this.headers=new E(M.headers)),this.method=M.method,this.mode=M.mode,this.signal=M.signal,!de&&M._bodyInit!=null&&(de=M._bodyInit,M.bodyUsed=!0)}else this.url=String(M);if(this.credentials=K.credentials||this.credentials||"same-origin",(K.headers||!this.headers)&&(this.headers=new E(K.headers)),this.method=g(K.method||this.method||"GET"),this.mode=K.mode||this.mode||null,this.signal=K.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&de)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(de),(this.method==="GET"||this.method==="HEAD")&&(K.cache==="no-store"||K.cache==="no-cache")){var H=/([?&])_=[^&]*/;if(H.test(this.url))this.url=this.url.replace(H,"$1_="+new Date().getTime());else{var G=/\?/;this.url+=(G.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}S.prototype.clone=function(){return new S(this,{body:this._bodyInit})};function R(M){var K=new FormData;return M.trim().split("&").forEach(function(de){if(de){var H=de.split("="),G=H.shift().replace(/\+/g," "),Y=H.join("=").replace(/\+/g," ");K.append(decodeURIComponent(G),decodeURIComponent(Y))}}),K}function P(M){var K=new E,de=M.replace(/\r?\n[\t ]+/g," ");return de.split("\r").map(function(H){return H.indexOf(`
`)===0?H.substr(1,H.length):H}).forEach(function(H){var G=H.split(":"),Y=G.shift().trim();if(Y){var xe=G.join(":").trim();K.append(Y,xe)}}),K}j.call(S.prototype);function k(M,K){if(!(this instanceof k))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');K||(K={}),this.type="default",this.status=K.status===void 0?200:K.status,this.ok=this.status>=200&&this.status<300,this.statusText=K.statusText===void 0?"":""+K.statusText,this.headers=new E(K.headers),this.url=K.url||"",this._initBody(M)}j.call(k.prototype),k.prototype.clone=function(){return new k(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new E(this.headers),url:this.url})},k.error=function(){var M=new k(null,{status:0,statusText:""});return M.type="error",M};var C=[301,302,303,307,308];k.redirect=function(M,K){if(C.indexOf(K)===-1)throw new RangeError("Invalid status code");return new k(null,{status:K,headers:{location:M}})},o.DOMException=a.DOMException;try{new o.DOMException}catch{o.DOMException=function(K,de){this.message=K,this.name=de;var H=Error(K);this.stack=H.stack},o.DOMException.prototype=Object.create(Error.prototype),o.DOMException.prototype.constructor=o.DOMException}function Ee(M,K){return new Promise(function(de,H){var G=new S(M,K);if(G.signal&&G.signal.aborted)return H(new o.DOMException("Aborted","AbortError"));var Y=new XMLHttpRequest;function xe(){Y.abort()}Y.onload=function(){var Se={status:Y.status,statusText:Y.statusText,headers:P(Y.getAllResponseHeaders()||"")};Se.url="responseURL"in Y?Y.responseURL:Se.headers.get("X-Request-URL");var rt="response"in Y?Y.response:Y.responseText;setTimeout(function(){de(new k(rt,Se))},0)},Y.onerror=function(){setTimeout(function(){H(new TypeError("Network request failed"))},0)},Y.ontimeout=function(){setTimeout(function(){H(new TypeError("Network request failed"))},0)},Y.onabort=function(){setTimeout(function(){H(new o.DOMException("Aborted","AbortError"))},0)};function Pe(Se){try{return Se===""&&a.location.href?a.location.href:Se}catch{return Se}}Y.open(G.method,Pe(G.url),!0),G.credentials==="include"?Y.withCredentials=!0:G.credentials==="omit"&&(Y.withCredentials=!1),"responseType"in Y&&(l.blob?Y.responseType="blob":l.arrayBuffer&&G.headers.get("Content-Type")&&G.headers.get("Content-Type").indexOf("application/octet-stream")!==-1&&(Y.responseType="arraybuffer")),K&&typeof K.headers=="object"&&!(K.headers instanceof E)?Object.getOwnPropertyNames(K.headers).forEach(function(Se){Y.setRequestHeader(Se,y(K.headers[Se]))}):G.headers.forEach(function(Se,rt){Y.setRequestHeader(rt,Se)}),G.signal&&(G.signal.addEventListener("abort",xe),Y.onreadystatechange=function(){Y.readyState===4&&G.signal.removeEventListener("abort",xe)}),Y.send(typeof G._bodyInit>"u"?null:G._bodyInit)})}return Ee.polyfill=!0,a.fetch||(a.fetch=Ee,a.Headers=E,a.Request=S,a.Response=k),o.Headers=E,o.Request=S,o.Response=k,o.fetch=Ee,o})({})})(r),r.fetch.ponyfill=!0,delete r.fetch.polyfill;var i=n.fetch?n:r;e=i.fetch,e.default=i.fetch,e.fetch=i.fetch,e.Headers=i.Headers,e.Request=i.Request,e.Response=i.Response,t.exports=e}(bd,bd.exports)),bd.exports}(function(t,e){var n;if(typeof fetch=="function"&&(typeof eu<"u"&&eu.fetch?n=eu.fetch:typeof window<"u"&&window.fetch?n=window.fetch:n=fetch),typeof s7<"u"&&typeof window>"u"){var r=n||o7();r.default&&(r=r.default),e.default=r,t.exports=e.default}})(ry,ry.exports);var eP=ry.exports;const tP=af(eP),h1=sy({__proto__:null,default:tP},[eP]);function f1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function p1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?f1(Object(n),!0).forEach(function(r){a7(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):f1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function a7(t,e,n){return(e=l7(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function l7(t){var e=u7(t,"string");return Po(e)=="symbol"?e:e+""}function u7(t,e){if(Po(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Po(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Po(t){"@babel/helpers - typeof";return Po=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Po(t)}var fi;typeof fetch=="function"&&(typeof global<"u"&&global.fetch?fi=global.fetch:typeof window<"u"&&window.fetch?fi=window.fetch:fi=fetch);var hc;XC()&&(typeof global<"u"&&global.XMLHttpRequest?hc=global.XMLHttpRequest:typeof window<"u"&&window.XMLHttpRequest&&(hc=window.XMLHttpRequest));var of;typeof ActiveXObject=="function"&&(typeof global<"u"&&global.ActiveXObject?of=global.ActiveXObject:typeof window<"u"&&window.ActiveXObject&&(of=window.ActiveXObject));!fi&&h1&&!hc&&!of&&(fi=tP||h1);typeof fi!="function"&&(fi=void 0);var iy=function(e,n){if(n&&Po(n)==="object"){var r="";for(var i in n)r+="&"+encodeURIComponent(i)+"="+encodeURIComponent(n[i]);if(!r)return e;e=e+(e.indexOf("?")!==-1?"&":"?")+r.slice(1)}return e},m1=function(e,n,r,i){var s=function(l){if(!l.ok)return r(l.statusText||"Error",{status:l.status});l.text().then(function(c){r(null,{status:l.status,data:c})}).catch(r)};if(i){var o=i(e,n);if(o instanceof Promise){o.then(s).catch(r);return}}typeof fetch=="function"?fetch(e,n).then(s).catch(r):fi(e,n).then(s).catch(r)},g1=!1,c7=function(e,n,r,i){e.queryStringParams&&(n=iy(n,e.queryStringParams));var s=p1({},typeof e.customHeaders=="function"?e.customHeaders():e.customHeaders);typeof window>"u"&&typeof global<"u"&&typeof global.process<"u"&&global.process.versions&&global.process.versions.node&&(s["User-Agent"]="i18next-http-backend (node/".concat(global.process.version,"; ").concat(global.process.platform," ").concat(global.process.arch,")")),r&&(s["Content-Type"]="application/json");var o=typeof e.requestOptions=="function"?e.requestOptions(r):e.requestOptions,a=p1({method:r?"POST":"GET",body:r?e.stringify(r):void 0,headers:s},g1?{}:o),l=typeof e.alternateFetch=="function"&&e.alternateFetch.length>=1?e.alternateFetch:void 0;try{m1(n,a,i,l)}catch(c){if(!o||Object.keys(o).length===0||!c.message||c.message.indexOf("not implemented")<0)return i(c);try{Object.keys(o).forEach(function(d){delete a[d]}),m1(n,a,i,l),g1=!0}catch(d){i(d)}}},d7=function(e,n,r,i){r&&Po(r)==="object"&&(r=iy("",r).slice(1)),e.queryStringParams&&(n=iy(n,e.queryStringParams));try{var s;hc?s=new hc:s=new of("MSXML2.XMLHTTP.3.0"),s.open(r?"POST":"GET",n,1),e.crossDomain||s.setRequestHeader("X-Requested-With","XMLHttpRequest"),s.withCredentials=!!e.withCredentials,r&&s.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),s.overrideMimeType&&s.overrideMimeType("application/json");var o=e.customHeaders;if(o=typeof o=="function"?o():o,o)for(var a in o)s.setRequestHeader(a,o[a]);s.onreadystatechange=function(){s.readyState>3&&i(s.status>=400?s.statusText:null,{status:s.status,data:s.responseText})},s.send(r)}catch(l){console&&console.log(l)}},h7=function(e,n,r,i){if(typeof r=="function"&&(i=r,r=void 0),i=i||function(){},fi&&n.indexOf("file:")!==0)return c7(e,n,r,i);if(XC()||typeof ActiveXObject=="function")return d7(e,n,r,i);i(new Error("No fetch and no xhr implementation found!"))};function Ja(t){"@babel/helpers - typeof";return Ja=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ja(t)}function y1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ym(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?y1(Object(n),!0).forEach(function(r){nP(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):y1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function f7(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function p7(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,rP(r.key),r)}}function m7(t,e,n){return e&&p7(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function nP(t,e,n){return(e=rP(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rP(t){var e=g7(t,"string");return Ja(e)=="symbol"?e:e+""}function g7(t,e){if(Ja(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Ja(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var y7=function(){return{loadPath:"/locales/{{lng}}/{{ns}}.json",addPath:"/locales/add/{{lng}}/{{ns}}",parse:function(n){return JSON.parse(n)},stringify:JSON.stringify,parsePayload:function(n,r,i){return nP({},r,i||"")},parseLoadPayload:function(n,r){},request:h7,reloadInterval:typeof window<"u"?!1:60*60*1e3,customHeaders:{},queryStringParams:{},crossDomain:!1,withCredentials:!1,overrideMimeType:!1,requestOptions:{mode:"cors",credentials:"same-origin",cache:"default"}}},iP=function(){function t(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};f7(this,t),this.services=e,this.options=n,this.allOptions=r,this.type="backend",this.init(e,n,r)}return m7(t,[{key:"init",value:function(n){var r=this,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(this.services=n,this.options=ym(ym(ym({},y7()),this.options||{}),i),this.allOptions=s,this.services&&this.options.reloadInterval){var o=setInterval(function(){return r.reload()},this.options.reloadInterval);Ja(o)==="object"&&typeof o.unref=="function"&&o.unref()}}},{key:"readMulti",value:function(n,r,i){this._readAny(n,n,r,r,i)}},{key:"read",value:function(n,r,i){this._readAny([n],n,[r],r,i)}},{key:"_readAny",value:function(n,r,i,s,o){var a=this,l=this.options.loadPath;typeof this.options.loadPath=="function"&&(l=this.options.loadPath(n,i)),l=i7(l),l.then(function(c){if(!c)return o(null,{});var d=a.services.interpolator.interpolate(c,{lng:n.join("+"),ns:i.join("+")});a.loadUrl(d,o,r,s)})}},{key:"loadUrl",value:function(n,r,i,s){var o=this,a=typeof i=="string"?[i]:i,l=typeof s=="string"?[s]:s,c=this.options.parseLoadPayload(a,l);this.options.request(this.options,n,c,function(d,f){if(f&&(f.status>=500&&f.status<600||!f.status))return r("failed loading "+n+"; status code: "+f.status,!0);if(f&&f.status>=400&&f.status<500)return r("failed loading "+n+"; status code: "+f.status,!1);if(!f&&d&&d.message&&d.message.toLowerCase().indexOf("failed")>-1&&(d.message.indexOf("fetch")>-1||d.message.toLowerCase().indexOf("network")>-1))return r("failed loading "+n+": "+d.message,!0);if(d)return r(d,!1);var p,y;try{typeof f.data=="string"?p=o.options.parse(f.data,i,s):p=f.data}catch{y="failed parsing "+n+" to json"}if(y)return r(y,!1);r(null,p)})}},{key:"create",value:function(n,r,i,s,o){var a=this;if(this.options.addPath){typeof n=="string"&&(n=[n]);var l=this.options.parsePayload(r,i,s),c=0,d=[],f=[];n.forEach(function(p){var y=a.options.addPath;typeof a.options.addPath=="function"&&(y=a.options.addPath(p,r));var w=a.services.interpolator.interpolate(y,{lng:p,ns:r});a.options.request(a.options,w,l,function(E,A){c+=1,d.push(E),f.push(A),c===n.length&&typeof o=="function"&&o(d,f)})})}}},{key:"reload",value:function(){var n=this,r=this.services,i=r.backendConnector,s=r.languageUtils,o=r.logger,a=i.language;if(!(a&&a.toLowerCase()==="cimode")){var l=[],c=function(f){var p=s.toResolveHierarchy(f);p.forEach(function(y){l.indexOf(y)<0&&l.push(y)})};c(a),this.allOptions.preload&&this.allOptions.preload.forEach(function(d){return c(d)}),l.forEach(function(d){n.allOptions.ns.forEach(function(f){i.read(d,f,"read",null,null,function(p,y){p&&o.warn("loading namespace ".concat(f," for language ").concat(d," failed"),p),!p&&y&&o.log("loaded namespace ".concat(f," for language ").concat(d),y),i.loaded("".concat(d,"|").concat(f),p,y)})})})}}}])}();iP.type="backend";dn.use(o3).use(YC).use(iP).init({fallbackLng:"en",interpolation:{escapeValue:!1}});const sP="APP_USER_PREFERENCES",v7=t=>{try{localStorage.setItem(sP,JSON.stringify(t))}catch(e){console.error(Yn.common.unexpectedError,`Preferences:${t}
${e}`)}},_7=()=>{try{const t=localStorage.getItem(sP);return t?JSON.parse(t):null}catch(t){return console.error(Yn.common.unexpectedError,t),null}};function w7({children:t}){const[e,n]=N.useState(()=>{const s=_7();return s!=null&&s.lang?s.lang:"en"}),{i18n:r}=Ri();N.useEffect(()=>{v7({lang:e}),r.changeLanguage(e)},[e,r]);const i={language:e,setLanguage:n};return V.jsxs(zb.Provider,{value:i,children:[t," "]})}const E7=YF([{path:"/",element:V.jsx(x3,{}),children:[{path:"/",element:V.jsx(x9,{})},{path:"/signup",element:V.jsx(l8,{})},{path:"/verify",element:V.jsx(v8,{})},{path:"/login",element:V.jsx(u8,{})},{path:"/forgotPassword",element:V.jsx(_8,{})},{path:"/resetPassword",element:V.jsx(w8,{})}]}]);xI(document.getElementById("root")).render(V.jsx(N.StrictMode,{children:V.jsx(w7,{children:V.jsx(kj,{children:V.jsx(Cj,{children:V.jsx(Pj,{children:V.jsx(xj,{children:V.jsx(aU,{router:E7})})})})})})}))});export default T7();
